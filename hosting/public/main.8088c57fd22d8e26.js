(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{1076:(fn,dt,L)=>{"use strict";L.d(dt,{$L:()=>Mn,$g:()=>Be,A4:()=>de,Am:()=>Yn,As:()=>cn,Bd:()=>$e,Cv:()=>lr,FA:()=>Ue,Fy:()=>le,HN:()=>fr,Hk:()=>J,I9:()=>Fr,Im:()=>Gn,K3:()=>Se,KA:()=>Le,Ku:()=>Je,Ll:()=>Ze,OE:()=>mi,T9:()=>It,Uj:()=>He,XA:()=>Ee,ZQ:()=>it,bD:()=>Et,cY:()=>Oe,dI:()=>Pr,eX:()=>G,g:()=>je,gR:()=>Kn,gz:()=>En,hp:()=>Zn,jZ:()=>at,kH:()=>pt,kj:()=>Bn,lT:()=>Xe,lV:()=>un,nr:()=>ae,oD:()=>Zr,od:()=>Pn,qc:()=>Jn,sr:()=>Lt,tD:()=>vn,u:()=>Te,vA:()=>c,yw:()=>On,zW:()=>H,zw:()=>Ne});const p={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},c=function(ce,pe){if(!ce)throw J(pe)},J=function(ce){return new Error("Firebase Database ("+p.SDK_VERSION+") INTERNAL ASSERT FAILED: "+ce)},ne=function(ce){const pe=[];let Fe=0;for(let xt=0;xt<ce.length;xt++){let _t=ce.charCodeAt(xt);_t<128?pe[Fe++]=_t:_t<2048?(pe[Fe++]=_t>>6|192,pe[Fe++]=63&_t|128):55296==(64512&_t)&&xt+1<ce.length&&56320==(64512&ce.charCodeAt(xt+1))?(_t=65536+((1023&_t)<<10)+(1023&ce.charCodeAt(++xt)),pe[Fe++]=_t>>18|240,pe[Fe++]=_t>>12&63|128,pe[Fe++]=_t>>6&63|128,pe[Fe++]=63&_t|128):(pe[Fe++]=_t>>12|224,pe[Fe++]=_t>>6&63|128,pe[Fe++]=63&_t|128)}return pe},Se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ce,pe){if(!Array.isArray(ce))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Fe=pe?this.byteToCharMapWebSafe_:this.byteToCharMap_,xt=[];for(let _t=0;_t<ce.length;_t+=3){const dn=ce[_t],Cn=_t+1<ce.length,tr=Cn?ce[_t+1]:0,ar=_t+2<ce.length,Wr=ar?ce[_t+2]:0;let In=(15&tr)<<2|Wr>>6,ei=63&Wr;ar||(ei=64,Cn||(In=64)),xt.push(Fe[dn>>2],Fe[(3&dn)<<4|tr>>4],Fe[In],Fe[ei])}return xt.join("")},encodeString(ce,pe){return this.HAS_NATIVE_SUPPORT&&!pe?btoa(ce):this.encodeByteArray(ne(ce),pe)},decodeString(ce,pe){return this.HAS_NATIVE_SUPPORT&&!pe?atob(ce):function(ce){const pe=[];let Fe=0,xt=0;for(;Fe<ce.length;){const _t=ce[Fe++];if(_t<128)pe[xt++]=String.fromCharCode(_t);else if(_t>191&&_t<224){const dn=ce[Fe++];pe[xt++]=String.fromCharCode((31&_t)<<6|63&dn)}else if(_t>239&&_t<365){const ar=((7&_t)<<18|(63&ce[Fe++])<<12|(63&ce[Fe++])<<6|63&ce[Fe++])-65536;pe[xt++]=String.fromCharCode(55296+(ar>>10)),pe[xt++]=String.fromCharCode(56320+(1023&ar))}else{const dn=ce[Fe++],Cn=ce[Fe++];pe[xt++]=String.fromCharCode((15&_t)<<12|(63&dn)<<6|63&Cn)}}return pe.join("")}(this.decodeStringToByteArray(ce,pe))},decodeStringToByteArray(ce,pe){this.init_();const Fe=pe?this.charToByteMapWebSafe_:this.charToByteMap_,xt=[];for(let _t=0;_t<ce.length;){const dn=Fe[ce.charAt(_t++)],tr=_t<ce.length?Fe[ce.charAt(_t)]:0;++_t;const Wr=_t<ce.length?Fe[ce.charAt(_t)]:64;++_t;const Vn=_t<ce.length?Fe[ce.charAt(_t)]:64;if(++_t,null==dn||null==tr||null==Wr||null==Vn)throw new re;xt.push(dn<<2|tr>>4),64!==Wr&&(xt.push(tr<<4&240|Wr>>2),64!==Vn&&xt.push(Wr<<6&192|Vn))}return xt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ce=0;ce<this.ENCODED_VALS.length;ce++)this.byteToCharMap_[ce]=this.ENCODED_VALS.charAt(ce),this.charToByteMap_[this.byteToCharMap_[ce]]=ce,this.byteToCharMapWebSafe_[ce]=this.ENCODED_VALS_WEBSAFE.charAt(ce),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ce]]=ce,ce>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ce)]=ce,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ce)]=ce)}}};class re extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Le=function(ce){const pe=ne(ce);return Se.encodeByteArray(pe,!0)},He=function(ce){return Le(ce).replace(/\./g,"")},Te=function(ce){try{return Se.decodeString(ce,!0)}catch(pe){console.error("base64Decode failed: ",pe)}return null};function de(ce){return Ne(void 0,ce)}function Ne(ce,pe){if(!(pe instanceof Object))return pe;switch(pe.constructor){case Date:return new Date(pe.getTime());case Object:void 0===ce&&(ce={});break;case Array:ce=[];break;default:return pe}for(const Fe in pe)!pe.hasOwnProperty(Fe)||!Ve(Fe)||(ce[Fe]=Ne(ce[Fe],pe[Fe]));return ce}function Ve(ce){return"__proto__"!==ce}const Ye=()=>{try{return function ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ce=process.env.__FIREBASE_DEFAULTS__;return ce?JSON.parse(ce):void 0})()||(()=>{if(typeof document>"u")return;let ce;try{ce=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const pe=ce&&Te(ce[1]);return pe&&JSON.parse(pe)})()}catch(ce){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ce}`)}},It=()=>{var ce;return null===(ce=Ye())||void 0===ce?void 0:ce.config},Ee=ce=>{var pe;return null===(pe=Ye())||void 0===pe?void 0:pe[`_${ce}`]};class Oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((pe,Fe)=>{this.resolve=pe,this.reject=Fe})}wrapCallback(pe){return(Fe,xt)=>{Fe?this.reject(Fe):this.resolve(xt),"function"==typeof pe&&(this.promise.catch(()=>{}),1===pe.length?pe(Fe):pe(Fe,xt))}}}function le(ce,pe){if(ce.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const xt=pe||"demo-project",_t=ce.iat||0,dn=ce.sub||ce.user_id;if(!dn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Cn=Object.assign({iss:`https://securetoken.google.com/${xt}`,aud:xt,iat:_t,exp:_t+3600,auth_time:_t,sub:dn,user_id:dn,firebase:{sign_in_provider:"custom",identities:{}}},ce);return[He(JSON.stringify({alg:"none",type:"JWT"})),He(JSON.stringify(Cn)),""].join(".")}function it(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function at(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function Ze(){var ce;const pe=null===(ce=Ye())||void 0===ce?void 0:ce.forceEnvironment;if("node"===pe)return!0;if("browser"===pe)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function $e(){return"object"==typeof self&&self.self===self}function Lt(){const ce="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ce&&void 0!==ce.id}function un(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xe(){const ce=it();return ce.indexOf("MSIE ")>=0||ce.indexOf("Trident/")>=0}function Be(){return!0===p.NODE_CLIENT||!0===p.NODE_ADMIN}function ae(){return!Ze()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H(){try{return"object"==typeof indexedDB}catch{return!1}}function G(){return new Promise((ce,pe)=>{try{let Fe=!0;const xt="validate-browser-context-for-indexeddb-analytics-module",_t=self.indexedDB.open(xt);_t.onsuccess=()=>{_t.result.close(),Fe||self.indexedDB.deleteDatabase(xt),ce(!0)},_t.onupgradeneeded=()=>{Fe=!1},_t.onerror=()=>{var dn;pe((null===(dn=_t.error)||void 0===dn?void 0:dn.message)||"")}}catch(Fe){pe(Fe)}})}class je extends Error{constructor(pe,Fe,xt){super(Fe),this.code=pe,this.customData=xt,this.name="FirebaseError",Object.setPrototypeOf(this,je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ue.prototype.create)}}class Ue{constructor(pe,Fe,xt){this.service=pe,this.serviceName=Fe,this.errors=xt}create(pe,...Fe){const xt=Fe[0]||{},_t=`${this.service}/${pe}`,dn=this.errors[pe],Cn=dn?function xe(ce,pe){return ce.replace(jt,(Fe,xt)=>{const _t=pe[xt];return null!=_t?String(_t):`<${xt}?>`})}(dn,xt):"Error";return new je(_t,`${this.serviceName}: ${Cn} (${_t}).`,xt)}}const jt=/\{\$([^}]+)}/g;function Mn(ce){return JSON.parse(ce)}function cn(ce){return JSON.stringify(ce)}const Yt=function(ce){let pe={},Fe={},xt={},_t="";try{const dn=ce.split(".");pe=Mn(Te(dn[0])||""),Fe=Mn(Te(dn[1])||""),_t=dn[2],xt=Fe.d||{},delete Fe.d}catch{}return{header:pe,claims:Fe,data:xt,signature:_t}},lr=function(ce){const Fe=Yt(ce).claims;return!!Fe&&"object"==typeof Fe&&Fe.hasOwnProperty("iat")},Jn=function(ce){const pe=Yt(ce).claims;return"object"==typeof pe&&!0===pe.admin};function Kn(ce,pe){return Object.prototype.hasOwnProperty.call(ce,pe)}function On(ce,pe){if(Object.prototype.hasOwnProperty.call(ce,pe))return ce[pe]}function Gn(ce){for(const pe in ce)if(Object.prototype.hasOwnProperty.call(ce,pe))return!1;return!0}function pt(ce,pe,Fe){const xt={};for(const _t in ce)Object.prototype.hasOwnProperty.call(ce,_t)&&(xt[_t]=pe.call(Fe,ce[_t],_t,ce));return xt}function Et(ce,pe){if(ce===pe)return!0;const Fe=Object.keys(ce),xt=Object.keys(pe);for(const _t of Fe){if(!xt.includes(_t))return!1;const dn=ce[_t],Cn=pe[_t];if(bt(dn)&&bt(Cn)){if(!Et(dn,Cn))return!1}else if(dn!==Cn)return!1}for(const _t of xt)if(!Fe.includes(_t))return!1;return!0}function bt(ce){return null!==ce&&"object"==typeof ce}function Yn(ce){const pe=[];for(const[Fe,xt]of Object.entries(ce))Array.isArray(xt)?xt.forEach(_t=>{pe.push(encodeURIComponent(Fe)+"="+encodeURIComponent(_t))}):pe.push(encodeURIComponent(Fe)+"="+encodeURIComponent(xt));return pe.length?"&"+pe.join("&"):""}function Fr(ce){const pe={};return ce.replace(/^\?/,"").split("&").forEach(xt=>{if(xt){const[_t,dn]=xt.split("=");pe[decodeURIComponent(_t)]=decodeURIComponent(dn)}}),pe}function Zn(ce){const pe=ce.indexOf("?");if(!pe)return"";const Fe=ce.indexOf("#",pe);return ce.substring(pe,Fe>0?Fe:void 0)}class En{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let pe=1;pe<this.blockSize;++pe)this.pad_[pe]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(pe,Fe){Fe||(Fe=0);const xt=this.W_;if("string"==typeof pe)for(let Vn=0;Vn<16;Vn++)xt[Vn]=pe.charCodeAt(Fe)<<24|pe.charCodeAt(Fe+1)<<16|pe.charCodeAt(Fe+2)<<8|pe.charCodeAt(Fe+3),Fe+=4;else for(let Vn=0;Vn<16;Vn++)xt[Vn]=pe[Fe]<<24|pe[Fe+1]<<16|pe[Fe+2]<<8|pe[Fe+3],Fe+=4;for(let Vn=16;Vn<80;Vn++){const In=xt[Vn-3]^xt[Vn-8]^xt[Vn-14]^xt[Vn-16];xt[Vn]=4294967295&(In<<1|In>>>31)}let Wr,ri,_t=this.chain_[0],dn=this.chain_[1],Cn=this.chain_[2],tr=this.chain_[3],ar=this.chain_[4];for(let Vn=0;Vn<80;Vn++){Vn<40?Vn<20?(Wr=tr^dn&(Cn^tr),ri=1518500249):(Wr=dn^Cn^tr,ri=1859775393):Vn<60?(Wr=dn&Cn|tr&(dn|Cn),ri=2400959708):(Wr=dn^Cn^tr,ri=3395469782);const In=(_t<<5|_t>>>27)+Wr+ar+ri+xt[Vn]&4294967295;ar=tr,tr=Cn,Cn=4294967295&(dn<<30|dn>>>2),dn=_t,_t=In}this.chain_[0]=this.chain_[0]+_t&4294967295,this.chain_[1]=this.chain_[1]+dn&4294967295,this.chain_[2]=this.chain_[2]+Cn&4294967295,this.chain_[3]=this.chain_[3]+tr&4294967295,this.chain_[4]=this.chain_[4]+ar&4294967295}update(pe,Fe){if(null==pe)return;void 0===Fe&&(Fe=pe.length);const xt=Fe-this.blockSize;let _t=0;const dn=this.buf_;let Cn=this.inbuf_;for(;_t<Fe;){if(0===Cn)for(;_t<=xt;)this.compress_(pe,_t),_t+=this.blockSize;if("string"==typeof pe){for(;_t<Fe;)if(dn[Cn]=pe.charCodeAt(_t),++Cn,++_t,Cn===this.blockSize){this.compress_(dn),Cn=0;break}}else for(;_t<Fe;)if(dn[Cn]=pe[_t],++Cn,++_t,Cn===this.blockSize){this.compress_(dn),Cn=0;break}}this.inbuf_=Cn,this.total_+=Fe}digest(){const pe=[];let Fe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let _t=this.blockSize-1;_t>=56;_t--)this.buf_[_t]=255&Fe,Fe/=256;this.compress_(this.buf_);let xt=0;for(let _t=0;_t<5;_t++)for(let dn=24;dn>=0;dn-=8)pe[xt]=this.chain_[_t]>>dn&255,++xt;return pe}}function vn(ce,pe){const Fe=new er(ce,pe);return Fe.subscribe.bind(Fe)}class er{constructor(pe,Fe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Fe,this.task.then(()=>{pe(this)}).catch(xt=>{this.error(xt)})}next(pe){this.forEachObserver(Fe=>{Fe.next(pe)})}error(pe){this.forEachObserver(Fe=>{Fe.error(pe)}),this.close(pe)}complete(){this.forEachObserver(pe=>{pe.complete()}),this.close()}subscribe(pe,Fe,xt){let _t;if(void 0===pe&&void 0===Fe&&void 0===xt)throw new Error("Missing Observer.");_t=function hr(ce,pe){if("object"!=typeof ce||null===ce)return!1;for(const Fe of pe)if(Fe in ce&&"function"==typeof ce[Fe])return!0;return!1}(pe,["next","error","complete"])?pe:{next:pe,error:Fe,complete:xt},void 0===_t.next&&(_t.next=Gr),void 0===_t.error&&(_t.error=Gr),void 0===_t.complete&&(_t.complete=Gr);const dn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?_t.error(this.finalError):_t.complete()}catch{}}),this.observers.push(_t),dn}unsubscribeOne(pe){void 0===this.observers||void 0===this.observers[pe]||(delete this.observers[pe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(pe){if(!this.finalized)for(let Fe=0;Fe<this.observers.length;Fe++)this.sendOne(Fe,pe)}sendOne(pe,Fe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[pe])try{Fe(this.observers[pe])}catch(xt){typeof console<"u"&&console.error&&console.error(xt)}})}close(pe){this.finalized||(this.finalized=!0,void 0!==pe&&(this.finalError=pe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gr(){}const Pn=function(ce,pe,Fe,xt){let _t;if(xt<pe?_t="at least "+pe:xt>Fe&&(_t=0===Fe?"none":"no more than "+Fe),_t)throw new Error(ce+" failed: Was called with "+xt+(1===xt?" argument.":" arguments.")+" Expects "+_t+".")};function Pr(ce,pe){return`${ce} failed: ${pe} argument `}function Zr(ce,pe,Fe,xt){if((!xt||Fe)&&"function"!=typeof Fe)throw new Error(Pr(ce,pe)+"must be a valid function.")}function fr(ce,pe,Fe,xt){if((!xt||Fe)&&("object"!=typeof Fe||null===Fe))throw new Error(Pr(ce,pe)+"must be a valid context object.")}const Bn=function(ce){const pe=[];let Fe=0;for(let xt=0;xt<ce.length;xt++){let _t=ce.charCodeAt(xt);if(_t>=55296&&_t<=56319){const dn=_t-55296;xt++,c(xt<ce.length,"Surrogate pair missing trail surrogate."),_t=65536+(dn<<10)+(ce.charCodeAt(xt)-56320)}_t<128?pe[Fe++]=_t:_t<2048?(pe[Fe++]=_t>>6|192,pe[Fe++]=63&_t|128):_t<65536?(pe[Fe++]=_t>>12|224,pe[Fe++]=_t>>6&63|128,pe[Fe++]=63&_t|128):(pe[Fe++]=_t>>18|240,pe[Fe++]=_t>>12&63|128,pe[Fe++]=_t>>6&63|128,pe[Fe++]=63&_t|128)}return pe},mi=function(ce){let pe=0;for(let Fe=0;Fe<ce.length;Fe++){const xt=ce.charCodeAt(Fe);xt<128?pe++:xt<2048?pe+=2:xt>=55296&&xt<=56319?(pe+=4,Fe++):pe+=3}return pe};function Je(ce){return ce&&ce._delegate?ce._delegate:ce}},9170:(fn,dt,L)=>{"use strict";L.d(dt,{lI:()=>le,bk:()=>it});var c=L(1985),J=L(3726),ne={error:"cordova_not_available"},he={error:"plugin_not_installed"};function Se(vt){if(typeof window<"u"&&window.angular){var ht=window.document,Be=window.angular.element(ht.querySelector("[ng-app]")||ht.body).injector();if(Be)return Be.get("$q")(function(H,G){vt(H,G)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(H,G){vt(H,G)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function de(vt,Xe,ht){var Be,ae,H;return"string"==typeof vt?Be=vt:(Be=vt.constructor.getPluginRef(),ht=vt.constructor.getPluginName(),H=vt.constructor.getPluginInstallName()),!(!(ae=ut(Be))||Xe&&typeof ae[Xe]>"u")||(typeof window>"u"||!window.cordova?(function At(vt,Xe){typeof process>"u"&&console.warn(Xe?"Native: tried calling "+vt+"."+Xe+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+vt+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(ht,Xe),ne):(function Ye(vt,Xe,ht){console.warn(ht?"Native: tried calling "+vt+"."+ht+", but the "+vt+" plugin is not installed.":"Native: tried accessing the "+vt+" plugin but it's not installed."),Xe&&console.warn("Install the "+vt+" plugin: 'ionic cordova plugin add "+Xe+"'")}(ht,H,Xe),he))}function ke(vt,Xe,ht,Be,ae,H){void 0===Be&&(Be={}),ht=function Ve(vt,Xe,ht,Be){if(void 0===Xe&&(Xe={}),Xe.sync)return vt;if("reverse"===Xe.callbackOrder)vt.unshift(Be),vt.unshift(ht);else if("node"===Xe.callbackStyle)vt.push(function(X,Ie){X?Be(X):ht(Ie)});else if("object"===Xe.callbackStyle&&Xe.successName&&Xe.errorName){var ae={};ae[Xe.successName]=ht,ae[Xe.errorName]=Be,vt.push(ae)}else if(typeof Xe.successIndex<"u"||typeof Xe.errorIndex<"u"){var H=function(){Xe.successIndex>vt.length?vt[Xe.successIndex]=ht:vt.splice(Xe.successIndex,0,ht)},G=function(){Xe.errorIndex>vt.length?vt[Xe.errorIndex]=Be:vt.splice(Xe.errorIndex,0,Be)};Xe.successIndex>Xe.errorIndex?(G(),H()):(H(),G())}else vt.push(ht),vt.push(Be);return vt}(ht,Be,ae,H);var G=de(vt,Xe);if(!0===G){var X=ut(vt.constructor.getPluginRef());return X[Xe].apply(X,ht)}return G}function ut(vt){return typeof window<"u"?qe(window,vt):null}function qe(vt,Xe){for(var ht=Xe.split("."),Be=vt,ae=0;ae<ht.length;ae++){if(!Be)return null;Be=Be[ht[ae]]}return Be}var rt=function(vt,Xe,ht){return void 0===ht&&(ht={}),function(){for(var Be=[],ae=0;ae<arguments.length;ae++)Be[ae]=arguments[ae];return ht.sync?ke(vt,Xe,Be,ht):ht.observable?function He(vt,Xe,ht,Be){return void 0===Be&&(Be={}),new c.c(function(ae){var H;return H=Be.destruct?ke(vt,Xe,ht,Be,function(){for(var G=[],X=0;X<arguments.length;X++)G[X]=arguments[X];return ae.next(G)},function(){for(var G=[],X=0;X<arguments.length;X++)G[X]=arguments[X];return ae.error(G)}):ke(vt,Xe,ht,Be,ae.next.bind(ae),ae.error.bind(ae)),H&&H.error&&(ae.error(H.error),ae.complete()),function(){try{if(Be.clearFunction)return Be.clearWithArgs?ke(vt,Be.clearFunction,ht,Be,ae.next.bind(ae),ae.error.bind(ae)):ke(vt,Be.clearFunction,[])}catch(G){console.warn("Unable to clear the previous observable watch for",vt.constructor.getPluginName(),Xe),console.warn(G)}}})}(vt,Xe,Be,ht):ht.eventObservable&&ht.event?function Te(vt,Xe){return Xe=typeof window<"u"&&Xe?qe(window,Xe):Xe||(typeof window<"u"?window:{}),(0,J.R)(Xe,vt)}(ht.event,ht.element):ht.otherPromise?function Le(vt,Xe,ht,Be){return void 0===Be&&(Be={}),Se(function(ae,H){var G=ke(vt,Xe,ht,Be);G?G.error?H(G.error):G.then&&G.then(ae).catch(H):H({error:"unexpected_error"})})}(vt,Xe,Be,ht):function re(vt,Xe,ht,Be){void 0===Be&&(Be={});var ae,H,G=Se(function(X,Ie){ae=Be.destruct?ke(vt,Xe,ht,Be,function(){for(var je=[],Ue=0;Ue<arguments.length;Ue++)je[Ue]=arguments[Ue];return X(je)},function(){for(var je=[],Ue=0;Ue<arguments.length;Ue++)je[Ue]=arguments[Ue];return Ie(je)}):ke(vt,Xe,ht,Be,X,Ie),H=Ie});return ae&&ae.error&&(G.catch(function(){}),"function"==typeof H&&H(ae.error)),G}(vt,Xe,Be,ht)}},le=function(){function vt(){}return vt.installed=function(){return!0===de(this.pluginRef)},vt.getPlugin=function(){return typeof window<"u"?function Ee(vt,Xe){for(var ht=Xe.split("."),Be=vt,ae=0;ae<ht.length;ae++){if(!Be)return null;Be=Be[ht[ae]]}return Be}(window,this.pluginRef):null},vt.getPluginName=function(){return this.pluginName},vt.getPluginRef=function(){return this.pluginRef},vt.getPluginInstallName=function(){return this.plugin},vt.getSupportedPlatforms=function(){return this.platforms},vt.pluginName="",vt.pluginRef="",vt.plugin="",vt.repo="",vt.platforms=[],vt.install="",vt}();function it(vt,Xe,ht,Be){return rt(vt,Xe,ht).apply(this,Be)}!function p(){if(typeof process>"u"){var vt=typeof window<"u"?window:{},ht=Date.now(),Be=!1;vt.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-ht)+" ms"),Be=!0}),setTimeout(function(){!Be&&vt.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}()},5797:(fn,dt,L)=>{"use strict";L.d(dt,{L:()=>he});var p=L(1635),c=L(4438),J=L(9170),ne=L(1985),he=function(Se){function re(){return null!==Se&&Se.apply(this,arguments)||this}return(0,p.C6)(re,Se),re.prototype.getCurrentPosition=function(Le){return(0,J.bk)(this,"getCurrentPosition",{callbackOrder:"reverse"},arguments)},re.prototype.watchPosition=function(Le){return new ne.c(function(He){var Te=navigator.geolocation.watchPosition(He.next.bind(He),He.next.bind(He),Le);return function(){return navigator.geolocation.clearWatch(Te)}})},re.pluginName="Geolocation",re.plugin="cordova-plugin-geolocation",re.pluginRef="navigator.geolocation",re.repo="https://github.com/apache/cordova-plugin-geolocation",re.install='ionic cordova plugin add cordova-plugin-geolocation --variable GEOLOCATION_USAGE_DESCRIPTION="To locate you"',re.installVariables=["GEOLOCATION_USAGE_DESCRIPTION"],re.platforms=["Amazon Fire OS","Android","Browser","iOS","Windows"],re.decorators=[{type:c._qm}],re}(J.lI)},1319:(fn,dt,L)=>{"use strict";L.d(dt,{K:()=>ne});var p=L(1635),c=L(4438),J=L(9170),ne=function(he){function Se(){return null!==he&&he.apply(this,arguments)||this}return(0,p.C6)(Se,he),Se.prototype.reverseGeocode=function(re,Le,He){return(0,J.bk)(this,"reverseGeocode",{callbackOrder:"reverse"},arguments)},Se.prototype.forwardGeocode=function(re,Le){return(0,J.bk)(this,"forwardGeocode",{callbackOrder:"reverse"},arguments)},Se.pluginName="NativeGeocoder",Se.plugin="cordova-plugin-nativegeocoder",Se.pluginRef="nativegeocoder",Se.repo="https://github.com/sebastianbaar/cordova-plugin-nativegeocoder",Se.platforms=["iOS","Android"],Se.decorators=[{type:c._qm}],Se}(J.lI)},4442:(fn,dt,L)=>{"use strict";L.d(dt,{L:()=>he,a:()=>Se,b:()=>re,c:()=>Le,d:()=>He,g:()=>Be}),L(5531);const he="ionViewWillEnter",Se="ionViewDidEnter",re="ionViewWillLeave",Le="ionViewDidLeave",He="ionViewWillUnload",Be=ae=>ae.classList.contains("ion-page")?ae:ae.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ae},5531:(fn,dt,L)=>{"use strict";L.d(dt,{a:()=>Te,c:()=>c,g:()=>He});class p{constructor(){this.m=new Map}reset(ae){this.m=new Map(Object.entries(ae))}get(ae,H){const G=this.m.get(ae);return void 0!==G?G:H}getBoolean(ae,H=!1){const G=this.m.get(ae);return void 0===G?H:"string"==typeof G?"true"===G:!!G}getNumber(ae,H){const G=parseFloat(this.m.get(ae));return isNaN(G)?void 0!==H?H:NaN:G}set(ae,H){this.m.set(ae,H)}}const c=new p,He=Be=>de(Be),Te=(Be,ae)=>("string"==typeof Be&&(ae=Be,Be=void 0),He(Be).includes(ae)),de=(Be=window)=>{if(typeof Be>"u")return[];Be.Ionic=Be.Ionic||{};let ae=Be.Ionic.platforms;return null==ae&&(ae=Be.Ionic.platforms=Ne(Be),ae.forEach(H=>Be.document.documentElement.classList.add(`plt-${H}`))),ae},Ne=Be=>{const ae=c.get("platform");return Object.keys(un).filter(H=>{const G=null==ae?void 0:ae[H];return"function"==typeof G?G(Be):un[H](Be)})},ke=Be=>!!($e(Be,/iPad/i)||$e(Be,/Macintosh/i)&&It(Be)),qe=Be=>$e(Be,/android|sink/i),It=Be=>Lt(Be,"(any-pointer:coarse)"),Oe=Be=>le(Be)||it(Be),le=Be=>!!(Be.cordova||Be.phonegap||Be.PhoneGap),it=Be=>{const ae=Be.Capacitor;return!(null==ae||!ae.isNative)},$e=(Be,ae)=>ae.test(Be.navigator.userAgent),Lt=(Be,ae)=>{var H;return null===(H=Be.matchMedia)||void 0===H?void 0:H.call(Be,ae).matches},un={ipad:ke,iphone:Be=>$e(Be,/iPhone/i),ios:Be=>$e(Be,/iPhone|iPod/i)||ke(Be),android:qe,phablet:Be=>{const ae=Be.innerWidth,H=Be.innerHeight,G=Math.min(ae,H),X=Math.max(ae,H);return G>390&&G<520&&X>620&&X<800},tablet:Be=>{const ae=Be.innerWidth,H=Be.innerHeight,G=Math.min(ae,H),X=Math.max(ae,H);return ke(Be)||(Be=>qe(Be)&&!$e(Be,/mobile/i))(Be)||G>460&&G<820&&X>780&&X<1400},cordova:le,capacitor:it,electron:Be=>$e(Be,/electron/i),pwa:Be=>{var ae;return!!(null!==(ae=Be.matchMedia)&&void 0!==ae&&ae.call(Be,"(display-mode: standalone)").matches||Be.navigator.standalone)},mobile:It,mobileweb:Be=>It(Be)&&!Oe(Be),desktop:Be=>!It(Be),hybrid:Oe}},9986:(fn,dt,L)=>{"use strict";L.d(dt,{c:()=>Se});var p=L(8476);let c;const ne=(re,Le,He)=>{const Te=Le.startsWith("animation")?(re=>(void 0===c&&(c=void 0===re.style.animationName&&void 0!==re.style.webkitAnimationName?"-webkit-":""),c))(re):"";re.style.setProperty(Te+Le,He)},he=(re=[],Le)=>{if(void 0!==Le){const He=Array.isArray(Le)?Le:[Le];return[...re,...He]}return re},Se=re=>{let Le,He,Te,de,Ne,Ve,Ye,at,Ze,$e,Xe,ke=[],We=[],ut=[],qe=!1,At={},rt=[],It=[],Ee={},Oe=0,le=!1,it=!1,Lt=!0,un=!1,vt=!0,ht=!1;const Be=re,ae=[],H=[],G=[],X=[],Ie=[],je=[],Ue=[],xe=[],jt=[],Mn=[],cn=[],Yt="function"==typeof AnimationEffect||void 0!==p.w&&"function"==typeof p.w.AnimationEffect,Sn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Yt,Wn=()=>cn,Gn=(Z,Re)=>{const Tt=Re.findIndex(wt=>wt.c===Z);Tt>-1&&Re.splice(Tt,1)},Et=(Z,Re)=>((null!=Re&&Re.oneTimeCallback?H:ae).push({c:Z,o:Re}),Xe),mn=()=>{Sn&&(cn.forEach(Z=>{Z.cancel()}),cn.length=0)},Yn=()=>{je.forEach(Z=>{null!=Z&&Z.parentNode&&Z.parentNode.removeChild(Z)}),je.length=0},fr=()=>void 0!==Ne?Ne:Ye?Ye.getFill():"both",Bn=()=>void 0!==at?at:void 0!==Ve?Ve:Ye?Ye.getDirection():"normal",mi=()=>le?"linear":void 0!==Te?Te:Ye?Ye.getEasing():"linear",dr=()=>it?0:void 0!==Ze?Ze:void 0!==He?He:Ye?Ye.getDuration():0,Jr=()=>void 0!==de?de:Ye?Ye.getIterations():1,vi=()=>void 0!==$e?$e:void 0!==Le?Le:Ye?Ye.getDelay():0,ar=()=>{0!==Oe&&(Oe--,0===Oe&&((()=>{jt.forEach(hn=>hn()),Mn.forEach(hn=>hn());const Z=Lt?1:0,Re=rt,Tt=It,wt=Ee;X.forEach(hn=>{const $n=hn.classList;Re.forEach(mr=>$n.add(mr)),Tt.forEach(mr=>$n.remove(mr));for(const mr in wt)wt.hasOwnProperty(mr)&&ne(hn,mr,wt[mr])}),Ze=void 0,at=void 0,$e=void 0,ae.forEach(hn=>hn.c(Z,Xe)),H.forEach(hn=>hn.c(Z,Xe)),H.length=0,vt=!0,Lt&&(un=!0),Lt=!0})(),Ye&&Ye.animationFinish()))},ri=()=>{(()=>{Ue.forEach(wt=>wt()),xe.forEach(wt=>wt());const Z=We,Re=ut,Tt=At;X.forEach(wt=>{const hn=wt.classList;Z.forEach($n=>hn.add($n)),Re.forEach($n=>hn.remove($n));for(const $n in Tt)Tt.hasOwnProperty($n)&&ne(wt,$n,Tt[$n])})})(),ke.length>0&&Sn&&(X.forEach(Z=>{const Re=Z.animate(ke,{id:Be,delay:vi(),duration:dr(),easing:mi(),iterations:Jr(),fill:fr(),direction:Bn()});Re.pause(),cn.push(Re)}),cn.length>0&&(cn[0].onfinish=()=>{ar()})),qe=!0},Vn=Z=>{Z=Math.min(Math.max(Z,0),.9999),Sn&&cn.forEach(Re=>{Re.currentTime=Re.effect.getComputedTiming().delay+dr()*Z,Re.pause()})},In=Z=>{cn.forEach(Re=>{Re.effect.updateTiming({delay:vi(),duration:dr(),easing:mi(),iterations:Jr(),fill:fr(),direction:Bn()})}),void 0!==Z&&Vn(Z)},ei=(Z=!1,Re=!0,Tt)=>(Z&&Ie.forEach(wt=>{wt.update(Z,Re,Tt)}),Sn&&In(Tt),Xe),_i=()=>{qe&&(Sn?cn.forEach(Z=>{Z.pause()}):X.forEach(Z=>{ne(Z,"animation-play-state","paused")}),ht=!0)},Ft=Z=>new Promise(Re=>{null!=Z&&Z.sync&&(it=!0,Et(()=>it=!1,{oneTimeCallback:!0})),qe||ri(),un&&(Sn&&(Vn(0),In()),un=!1),vt&&(Oe=Ie.length+1,vt=!1);const Tt=()=>{Gn(wt,H),Re()},wt=()=>{Gn(Tt,G),Re()};Et(wt,{oneTimeCallback:!0}),((Z,Re)=>{G.push({c:Z,o:{oneTimeCallback:!0}})})(Tt),Ie.forEach(hn=>{hn.play()}),Sn?(cn.forEach(Z=>{Z.play()}),(0===ke.length||0===X.length)&&ar()):ar(),ht=!1}),Q=(Z,Re)=>{const Tt=ke[0];return void 0===Tt||void 0!==Tt.offset&&0!==Tt.offset?ke=[{offset:0,[Z]:Re},...ke]:Tt[Z]=Re,Xe};return Xe={parentAnimation:Ye,elements:X,childAnimations:Ie,id:Be,animationFinish:ar,from:Q,to:(Z,Re)=>{const Tt=ke[ke.length-1];return void 0===Tt||void 0!==Tt.offset&&1!==Tt.offset?ke=[...ke,{offset:1,[Z]:Re}]:Tt[Z]=Re,Xe},fromTo:(Z,Re,Tt)=>Q(Z,Re).to(Z,Tt),parent:Z=>(Ye=Z,Xe),play:Ft,pause:()=>(Ie.forEach(Z=>{Z.pause()}),_i(),Xe),stop:()=>{Ie.forEach(Z=>{Z.stop()}),qe&&(mn(),qe=!1),le=!1,it=!1,vt=!0,at=void 0,Ze=void 0,$e=void 0,Oe=0,un=!1,Lt=!0,ht=!1,G.forEach(Z=>Z.c(0,Xe)),G.length=0},destroy:Z=>(Ie.forEach(Re=>{Re.destroy(Z)}),(Z=>{mn(),Z&&Yn()})(Z),X.length=0,Ie.length=0,ke.length=0,ae.length=0,H.length=0,qe=!1,vt=!0,Xe),keyframes:Z=>{const Re=ke!==Z;return ke=Z,Re&&(Z=>{Sn&&Wn().forEach(Re=>{const Tt=Re.effect;if(Tt.setKeyframes)Tt.setKeyframes(Z);else{const wt=new KeyframeEffect(Tt.target,Z,Tt.getTiming());Re.effect=wt}})})(ke),Xe},addAnimation:Z=>{if(null!=Z)if(Array.isArray(Z))for(const Re of Z)Re.parent(Xe),Ie.push(Re);else Z.parent(Xe),Ie.push(Z);return Xe},addElement:Z=>{if(null!=Z)if(1===Z.nodeType)X.push(Z);else if(Z.length>=0)for(let Re=0;Re<Z.length;Re++)X.push(Z[Re]);else console.error("Invalid addElement value");return Xe},update:ei,fill:Z=>(Ne=Z,ei(!0),Xe),direction:Z=>(Ve=Z,ei(!0),Xe),iterations:Z=>(de=Z,ei(!0),Xe),duration:Z=>(!Sn&&0===Z&&(Z=1),He=Z,ei(!0),Xe),easing:Z=>(Te=Z,ei(!0),Xe),delay:Z=>(Le=Z,ei(!0),Xe),getWebAnimations:Wn,getKeyframes:()=>ke,getFill:fr,getDirection:Bn,getDelay:vi,getIterations:Jr,getEasing:mi,getDuration:dr,afterAddRead:Z=>(jt.push(Z),Xe),afterAddWrite:Z=>(Mn.push(Z),Xe),afterClearStyles:(Z=[])=>{for(const Re of Z)Ee[Re]="";return Xe},afterStyles:(Z={})=>(Ee=Z,Xe),afterRemoveClass:Z=>(It=he(It,Z),Xe),afterAddClass:Z=>(rt=he(rt,Z),Xe),beforeAddRead:Z=>(Ue.push(Z),Xe),beforeAddWrite:Z=>(xe.push(Z),Xe),beforeClearStyles:(Z=[])=>{for(const Re of Z)At[Re]="";return Xe},beforeStyles:(Z={})=>(At=Z,Xe),beforeRemoveClass:Z=>(ut=he(ut,Z),Xe),beforeAddClass:Z=>(We=he(We,Z),Xe),onFinish:Et,isRunning:()=>0!==Oe&&!ht,progressStart:(Z=!1,Re)=>(Ie.forEach(Tt=>{Tt.progressStart(Z,Re)}),_i(),le=Z,qe||ri(),ei(!1,!0,Re),Xe),progressStep:Z=>(Ie.forEach(Re=>{Re.progressStep(Z)}),Vn(Z),Xe),progressEnd:(Z,Re,Tt)=>(le=!1,Ie.forEach(wt=>{wt.progressEnd(Z,Re,Tt)}),void 0!==Tt&&(Ze=Tt),un=!1,Lt=!0,0===Z?(at="reverse"===Bn()?"normal":"reverse","reverse"===at&&(Lt=!1),Sn?(ei(),Vn(1-Re)):($e=(1-Re)*dr()*-1,ei(!1,!1))):1===Z&&(Sn?(ei(),Vn(Re)):($e=Re*dr()*-1,ei(!1,!1))),void 0!==Z&&!Ye&&Ft(),Xe)}}},464:(fn,dt,L)=>{"use strict";L.d(dt,{E:()=>Te,a:()=>p,s:()=>Le});const p=de=>{try{if(de instanceof re)return de.value;if(!ne()||"string"!=typeof de||""===de)return de;if(de.includes("onload="))return"";const Ne=document.createDocumentFragment(),Ve=document.createElement("div");Ne.appendChild(Ve),Ve.innerHTML=de,Se.forEach(qe=>{const Ye=Ne.querySelectorAll(qe);for(let At=Ye.length-1;At>=0;At--){const rt=Ye[At];rt.parentNode?rt.parentNode.removeChild(rt):Ne.removeChild(rt);const It=J(rt);for(let Ee=0;Ee<It.length;Ee++)c(It[Ee])}});const ke=J(Ne);for(let qe=0;qe<ke.length;qe++)c(ke[qe]);const We=document.createElement("div");We.appendChild(Ne);const ut=We.querySelector("div");return null!==ut?ut.innerHTML:We.innerHTML}catch(Ne){return console.error(Ne),""}},c=de=>{if(de.nodeType&&1!==de.nodeType)return;if(typeof NamedNodeMap<"u"&&!(de.attributes instanceof NamedNodeMap))return void de.remove();for(let Ve=de.attributes.length-1;Ve>=0;Ve--){const ke=de.attributes.item(Ve),We=ke.name;if(!he.includes(We.toLowerCase())){de.removeAttribute(We);continue}const ut=ke.value,qe=de[We];(null!=ut&&ut.toLowerCase().includes("javascript:")||null!=qe&&qe.toLowerCase().includes("javascript:"))&&de.removeAttribute(We)}const Ne=J(de);for(let Ve=0;Ve<Ne.length;Ve++)c(Ne[Ve])},J=de=>null!=de.children?de.children:de.childNodes,ne=()=>{var de;const Ne=window,Ve=null===(de=null==Ne?void 0:Ne.Ionic)||void 0===de?void 0:de.config;return!Ve||(Ve.get?Ve.get("sanitizerEnabled",!0):!0===Ve.sanitizerEnabled||void 0===Ve.sanitizerEnabled)},he=["class","id","href","src","name","slot"],Se=["script","style","iframe","meta","link","object","embed"];class re{constructor(Ne){this.value=Ne}}const Le=de=>{const Ne=window,Ve=Ne.Ionic;if(!Ve||!Ve.config||"Object"===Ve.config.constructor.name)return Ne.Ionic=Ne.Ionic||{},Ne.Ionic.config=Object.assign(Object.assign({},Ne.Ionic.config),de),Ne.Ionic.config},Te=!1},8621:(fn,dt,L)=>{"use strict";L.d(dt,{C:()=>he,a:()=>J,d:()=>ne});var p=L(467),c=L(4920);const J=function(){var Se=(0,p.A)(function*(re,Le,He,Te,de,Ne){var Ve;if(re)return re.attachViewToDom(Le,He,de,Te);if(!(Ne||"string"==typeof He||He instanceof HTMLElement))throw new Error("framework delegate is missing");const ke="string"==typeof He?null===(Ve=Le.ownerDocument)||void 0===Ve?void 0:Ve.createElement(He):He;return Te&&Te.forEach(We=>ke.classList.add(We)),de&&Object.assign(ke,de),Le.appendChild(ke),yield new Promise(We=>(0,c.c)(ke,We)),ke});return function(Le,He,Te,de,Ne,Ve){return Se.apply(this,arguments)}}(),ne=(Se,re)=>{if(re){if(Se)return Se.removeViewFromDom(re.parentElement,re);re.remove()}return Promise.resolve()},he=()=>{let Se,re;return{attachViewToDom:function(){var Te=(0,p.A)(function*(de,Ne,Ve={},ke=[]){var We,ut;let qe;if(Se=de,Ne){const At="string"==typeof Ne?null===(We=Se.ownerDocument)||void 0===We?void 0:We.createElement(Ne):Ne;ke.forEach(rt=>At.classList.add(rt)),Object.assign(At,Ve),Se.appendChild(At),qe=At,yield new Promise(rt=>(0,c.c)(At,rt))}else if(Se.children.length>0&&("ION-MODAL"===Se.tagName||"ION-POPOVER"===Se.tagName)&&!(qe=Se.children[0]).classList.contains("ion-delegate-host")){const rt=null===(ut=Se.ownerDocument)||void 0===ut?void 0:ut.createElement("div");rt.classList.add("ion-delegate-host"),ke.forEach(It=>rt.classList.add(It)),rt.append(...Se.children),Se.appendChild(rt),qe=rt}const Ye=document.querySelector("ion-app")||document.body;return re=document.createComment("ionic teleport"),Se.parentNode.insertBefore(re,Se),Ye.appendChild(Se),null!=qe?qe:Se});return function(Ne,Ve){return Te.apply(this,arguments)}}(),removeViewFromDom:()=>(Se&&re&&(re.parentNode.insertBefore(Se,re),re.remove()),Promise.resolve())}}},1970:(fn,dt,L)=>{"use strict";L.d(dt,{B:()=>ne,G:()=>he});class c{constructor(re,Le,He,Te,de){this.id=Le,this.name=He,this.disableScroll=de,this.priority=1e6*Te+Le,this.ctrl=re}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const re=this.ctrl.capture(this.name,this.id,this.priority);return re&&this.disableScroll&&this.ctrl.disableScroll(this.id),re}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class J{constructor(re,Le,He,Te){this.id=Le,this.disable=He,this.disableScroll=Te,this.ctrl=re}block(){if(this.ctrl){if(this.disable)for(const re of this.disable)this.ctrl.disableGesture(re,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const re of this.disable)this.ctrl.enableGesture(re,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ne="backdrop-no-scroll",he=new class p{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(re){var Le;return new c(this,this.newID(),re.name,null!==(Le=re.priority)&&void 0!==Le?Le:0,!!re.disableScroll)}createBlocker(re={}){return new J(this,this.newID(),re.disable,!!re.disableScroll)}start(re,Le,He){return this.canStart(re)?(this.requestedStart.set(Le,He),!0):(this.requestedStart.delete(Le),!1)}capture(re,Le,He){if(!this.start(re,Le,He))return!1;const Te=this.requestedStart;let de=-1e4;if(Te.forEach(Ne=>{de=Math.max(de,Ne)}),de===He){this.capturedId=Le,Te.clear();const Ne=new CustomEvent("ionGestureCaptured",{detail:{gestureName:re}});return document.dispatchEvent(Ne),!0}return Te.delete(Le),!1}release(re){this.requestedStart.delete(re),this.capturedId===re&&(this.capturedId=void 0)}disableGesture(re,Le){let He=this.disabledGestures.get(re);void 0===He&&(He=new Set,this.disabledGestures.set(re,He)),He.add(Le)}enableGesture(re,Le){const He=this.disabledGestures.get(re);void 0!==He&&He.delete(Le)}disableScroll(re){this.disabledScroll.add(re),1===this.disabledScroll.size&&document.body.classList.add(ne)}enableScroll(re){this.disabledScroll.delete(re),0===this.disabledScroll.size&&document.body.classList.remove(ne)}canStart(re){return!(void 0!==this.capturedId||this.isDisabled(re))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(re){const Le=this.disabledGestures.get(re);return!!(Le&&Le.size>0)}newID(){return this.gestureId++,this.gestureId}}},6411:(fn,dt,L)=>{"use strict";L.r(dt),L.d(dt,{MENU_BACK_BUTTON_PRIORITY:()=>He,OVERLAY_BACK_BUTTON_PRIORITY:()=>Le,blockHardwareBackButton:()=>Se,shouldUseCloseWatcher:()=>he,startHardwareBackButton:()=>re});var p=L(467),c=L(8476),J=L(3664);L(9672);const he=()=>J.c.get("experimentalCloseWatcher",!1)&&void 0!==c.w&&"CloseWatcher"in c.w,Se=()=>{document.addEventListener("backbutton",()=>{})},re=()=>{const Te=document;let de=!1;const Ne=()=>{if(de)return;let Ve=0,ke=[];const We=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Ye,At){ke.push({priority:Ye,handler:At,id:Ve++})}}});Te.dispatchEvent(We);const ut=function(){var Ye=(0,p.A)(function*(At){try{if(null!=At&&At.handler){const rt=At.handler(qe);null!=rt&&(yield rt)}}catch(rt){console.error(rt)}});return function(rt){return Ye.apply(this,arguments)}}(),qe=()=>{if(ke.length>0){let Ye={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ke.forEach(At=>{At.priority>=Ye.priority&&(Ye=At)}),de=!0,ke=ke.filter(At=>At.id!==Ye.id),ut(Ye).then(()=>de=!1)}};qe()};if(he()){let Ve;const ke=()=>{null==Ve||Ve.destroy(),Ve=new c.w.CloseWatcher,Ve.onclose=()=>{Ne(),ke()}};ke()}else Te.addEventListener("backbutton",Ne)},Le=100,He=99},4920:(fn,dt,L)=>{"use strict";L.d(dt,{a:()=>Le,b:()=>He,c:()=>J,d:()=>ke,e:()=>At,f:()=>Ve,g:()=>Te,h:()=>he,i:()=>re,j:()=>We,k:()=>ne,l:()=>Ne,m:()=>ut,n:()=>Ye,o:()=>rt,p:()=>qe,r:()=>de,s:()=>It,t:()=>p});const p=(Ee,Oe=0)=>new Promise(le=>{c(Ee,Oe,le)}),c=(Ee,Oe=0,le)=>{let it,at;const Ze={passive:!0},Lt=()=>{it&&it()},un=vt=>{(void 0===vt||Ee===vt.target)&&(Lt(),le(vt))};return Ee&&(Ee.addEventListener("webkitTransitionEnd",un,Ze),Ee.addEventListener("transitionend",un,Ze),at=setTimeout(un,Oe+500),it=()=>{void 0!==at&&(clearTimeout(at),at=void 0),Ee.removeEventListener("webkitTransitionEnd",un,Ze),Ee.removeEventListener("transitionend",un,Ze)}),Lt},J=(Ee,Oe)=>{Ee.componentOnReady?Ee.componentOnReady().then(le=>Oe(le)):de(()=>Oe(Ee))},ne=Ee=>void 0!==Ee.componentOnReady,he=(Ee,Oe=[])=>{const le={};return Oe.forEach(it=>{Ee.hasAttribute(it)&&(null!==Ee.getAttribute(it)&&(le[it]=Ee.getAttribute(it)),Ee.removeAttribute(it))}),le},Se=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],re=(Ee,Oe)=>{let le=Se;return Oe&&Oe.length>0&&(le=le.filter(it=>!Oe.includes(it))),he(Ee,le)},Le=(Ee,Oe,le,it)=>{var at;if(typeof window<"u"){const Ze=window,$e=null===(at=null==Ze?void 0:Ze.Ionic)||void 0===at?void 0:at.config;if($e){const Lt=$e.get("_ael");if(Lt)return Lt(Ee,Oe,le,it);if($e._ael)return $e._ael(Ee,Oe,le,it)}}return Ee.addEventListener(Oe,le,it)},He=(Ee,Oe,le,it)=>{var at;if(typeof window<"u"){const Ze=window,$e=null===(at=null==Ze?void 0:Ze.Ionic)||void 0===at?void 0:at.config;if($e){const Lt=$e.get("_rel");if(Lt)return Lt(Ee,Oe,le,it);if($e._rel)return $e._rel(Ee,Oe,le,it)}}return Ee.removeEventListener(Oe,le,it)},Te=(Ee,Oe=Ee)=>Ee.shadowRoot||Oe,de=Ee=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ee):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ee):setTimeout(Ee),Ne=Ee=>!!Ee.shadowRoot&&!!Ee.attachShadow,Ve=Ee=>{if(Ee.focus(),Ee.classList.contains("ion-focusable")){const Oe=Ee.closest("ion-app");Oe&&Oe.setFocus([Ee])}},ke=(Ee,Oe,le,it,at)=>{if(Ee||Ne(Oe)){let Ze=Oe.querySelector("input.aux-input");Ze||(Ze=Oe.ownerDocument.createElement("input"),Ze.type="hidden",Ze.classList.add("aux-input"),Oe.appendChild(Ze)),Ze.disabled=at,Ze.name=le,Ze.value=it||""}},We=(Ee,Oe,le)=>Math.max(Ee,Math.min(Oe,le)),ut=(Ee,Oe)=>{if(!Ee){const le="ASSERT: "+Oe;throw console.error(le),new Error(le)}},qe=Ee=>{if(Ee){const Oe=Ee.changedTouches;if(Oe&&Oe.length>0){const le=Oe[0];return{x:le.clientX,y:le.clientY}}if(void 0!==Ee.pageX)return{x:Ee.pageX,y:Ee.pageY}}return{x:0,y:0}},Ye=Ee=>{const Oe="rtl"===document.dir;switch(Ee){case"start":return Oe;case"end":return!Oe;default:throw new Error(`"${Ee}" is not a valid value for [side]. Use "start" or "end" instead.`)}},At=(Ee,Oe)=>{const le=Ee._original||Ee;return{_original:Ee,emit:rt(le.emit.bind(le),Oe)}},rt=(Ee,Oe=0)=>{let le;return(...it)=>{clearTimeout(le),le=setTimeout(Ee,Oe,...it)}},It=(Ee,Oe)=>{if(null!=Ee||(Ee={}),null!=Oe||(Oe={}),Ee===Oe)return!0;const le=Object.keys(Ee);if(le.length!==Object.keys(Oe).length)return!1;for(const it of le)if(!(it in Oe)||Ee[it]!==Oe[it])return!1;return!0}},5465:(fn,dt,L)=>{"use strict";L.d(dt,{m:()=>Ve});var p=L(467),c=L(8476),J=L(6411),ne=L(4929),he=L(4920),Se=L(3664),re=L(9986);const Le=ke=>(0,re.c)().duration(ke?400:300),He=ke=>{let We,ut;const qe=ke.width+8,Ye=(0,re.c)(),At=(0,re.c)();ke.isEndSide?(We=qe+"px",ut="0px"):(We=-qe+"px",ut="0px"),Ye.addElement(ke.menuInnerEl).fromTo("transform",`translateX(${We})`,`translateX(${ut})`);const It="ios"===(0,Se.b)(ke),Ee=It?.2:.25;return At.addElement(ke.backdropEl).fromTo("opacity",.01,Ee),Le(It).addAnimation([Ye,At])},Te=ke=>{let We,ut;const qe=(0,Se.b)(ke),Ye=ke.width;ke.isEndSide?(We=-Ye+"px",ut=Ye+"px"):(We=Ye+"px",ut=-Ye+"px");const At=(0,re.c)().addElement(ke.menuInnerEl).fromTo("transform",`translateX(${ut})`,"translateX(0px)"),rt=(0,re.c)().addElement(ke.contentEl).fromTo("transform","translateX(0px)",`translateX(${We})`),It=(0,re.c)().addElement(ke.backdropEl).fromTo("opacity",.01,.32);return Le("ios"===qe).addAnimation([At,rt,It])},de=ke=>{const We=(0,Se.b)(ke),ut=ke.width*(ke.isEndSide?-1:1)+"px",qe=(0,re.c)().addElement(ke.contentEl).fromTo("transform","translateX(0px)",`translateX(${ut})`);return Le("ios"===We).addAnimation(qe)},Ve=(()=>{const ke=new Map,We=[],ut=function(){var G=(0,p.A)(function*(X){const Ie=yield Oe(X,!0);return!!Ie&&Ie.open()});return function(Ie){return G.apply(this,arguments)}}(),qe=function(){var G=(0,p.A)(function*(X){const Ie=yield void 0!==X?Oe(X,!0):le();return void 0!==Ie&&Ie.close()});return function(Ie){return G.apply(this,arguments)}}(),Ye=function(){var G=(0,p.A)(function*(X){const Ie=yield Oe(X,!0);return!!Ie&&Ie.toggle()});return function(Ie){return G.apply(this,arguments)}}(),At=function(){var G=(0,p.A)(function*(X,Ie){const je=yield Oe(Ie);return je&&(je.disabled=!X),je});return function(Ie,je){return G.apply(this,arguments)}}(),rt=function(){var G=(0,p.A)(function*(X,Ie){const je=yield Oe(Ie);return je&&(je.swipeGesture=X),je});return function(Ie,je){return G.apply(this,arguments)}}(),It=function(){var G=(0,p.A)(function*(X){if(null!=X){const Ie=yield Oe(X);return void 0!==Ie&&Ie.isOpen()}return void 0!==(yield le())});return function(Ie){return G.apply(this,arguments)}}(),Ee=function(){var G=(0,p.A)(function*(X){const Ie=yield Oe(X);return!!Ie&&!Ie.disabled});return function(Ie){return G.apply(this,arguments)}}(),Oe=function(){var G=(0,p.A)(function*(X,Ie=!1){if(yield H(),"start"===X||"end"===X){const Ue=We.filter(jt=>jt.side===X&&!jt.disabled);if(Ue.length>=1)return Ue.length>1&&Ie&&(0,ne.p)(`menuController queried for a menu on the "${X}" side, but ${Ue.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ue.map(jt=>jt.el)),Ue[0].el;const xe=We.filter(jt=>jt.side===X);if(xe.length>=1)return xe.length>1&&Ie&&(0,ne.p)(`menuController queried for a menu on the "${X}" side, but ${xe.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,xe.map(jt=>jt.el)),xe[0].el}else if(null!=X)return ae(Ue=>Ue.menuId===X);return ae(Ue=>!Ue.disabled)||(We.length>0?We[0].el:void 0)});return function(Ie){return G.apply(this,arguments)}}(),le=function(){var G=(0,p.A)(function*(){return yield H(),Xe()});return function(){return G.apply(this,arguments)}}(),it=function(){var G=(0,p.A)(function*(){return yield H(),ht()});return function(){return G.apply(this,arguments)}}(),at=function(){var G=(0,p.A)(function*(){return yield H(),Be()});return function(){return G.apply(this,arguments)}}(),Ze=(G,X)=>{ke.set(G,X)},un=function(){var G=(0,p.A)(function*(X,Ie,je){if(Be())return!1;if(Ie){const Ue=yield le();Ue&&X.el!==Ue&&(yield Ue.setOpen(!1,!1))}return X._setOpen(Ie,je)});return function(Ie,je,Ue){return G.apply(this,arguments)}}(),Xe=()=>ae(G=>G._isOpen),ht=()=>We.map(G=>G.el),Be=()=>We.some(G=>G.isAnimating),ae=G=>{const X=We.find(G);if(void 0!==X)return X.el},H=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(G=>new Promise(X=>(0,he.c)(G,X))));return Ze("reveal",de),Ze("push",Te),Ze("overlay",He),null==c.d||c.d.addEventListener("ionBackButton",G=>{const X=Xe();X&&G.detail.register(J.MENU_BACK_BUTTON_PRIORITY,()=>X.close())}),{registerAnimation:Ze,get:Oe,getMenus:it,getOpen:le,isEnabled:Ee,swipeGesture:rt,isAnimating:at,isOpen:It,enable:At,toggle:Ye,close:qe,open:ut,_getOpenSync:Xe,_createAnimation:(G,X)=>{const Ie=ke.get(G);if(!Ie)throw new Error("animation not registered");return Ie(X)},_register:G=>{We.indexOf(G)<0&&We.push(G)},_unregister:G=>{const X=We.indexOf(G);X>-1&&We.splice(X,1)},_setOpen:un}})()},8607:(fn,dt,L)=>{"use strict";L.r(dt),L.d(dt,{GESTURE_CONTROLLER:()=>p.G,createGesture:()=>He});var p=L(1970);const c=(Ve,ke,We,ut)=>{const qe=J(Ve)?{capture:!!ut.capture,passive:!!ut.passive}:!!ut.capture;let Ye,At;return Ve.__zone_symbol__addEventListener?(Ye="__zone_symbol__addEventListener",At="__zone_symbol__removeEventListener"):(Ye="addEventListener",At="removeEventListener"),Ve[Ye](ke,We,qe),()=>{Ve[At](ke,We,qe)}},J=Ve=>{if(void 0===ne)try{const ke=Object.defineProperty({},"passive",{get:()=>{ne=!0}});Ve.addEventListener("optsTest",()=>{},ke)}catch{ne=!1}return!!ne};let ne;const re=Ve=>Ve instanceof Document?Ve:Ve.ownerDocument,He=Ve=>{let ke=!1,We=!1,ut=!0,qe=!1;const Ye=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Ve),At=Ye.canStart,rt=Ye.onWillStart,It=Ye.onStart,Ee=Ye.onEnd,Oe=Ye.notCaptured,le=Ye.onMove,it=Ye.threshold,at=Ye.passive,Ze=Ye.blurOnStart,$e={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Lt=((Ve,ke,We)=>{const ut=We*(Math.PI/180),qe="x"===Ve,Ye=Math.cos(ut),At=ke*ke;let rt=0,It=0,Ee=!1,Oe=0;return{start(le,it){rt=le,It=it,Oe=0,Ee=!0},detect(le,it){if(!Ee)return!1;const at=le-rt,Ze=it-It,$e=at*at+Ze*Ze;if($e<At)return!1;const Lt=Math.sqrt($e),un=(qe?at:Ze)/Lt;return Oe=un>Ye?1:un<-Ye?-1:0,Ee=!1,!0},isGesture:()=>0!==Oe,getDirection:()=>Oe}})(Ye.direction,Ye.threshold,Ye.maxAngle),un=p.G.createGesture({name:Ve.gestureName,priority:Ve.gesturePriority,disableScroll:Ve.disableScroll}),ht=()=>{ke&&(qe=!1,le&&le($e))},Be=()=>!!un.capture()&&(ke=!0,ut=!1,$e.startX=$e.currentX,$e.startY=$e.currentY,$e.startTime=$e.currentTime,rt?rt($e).then(H):H(),!0),H=()=>{Ze&&(()=>{if(typeof document<"u"){const Ue=document.activeElement;null!=Ue&&Ue.blur&&Ue.blur()}})(),It&&It($e),ut=!0},G=()=>{ke=!1,We=!1,qe=!1,ut=!0,un.release()},X=Ue=>{const xe=ke,jt=ut;if(G(),jt){if(Te($e,Ue),xe)return void(Ee&&Ee($e));Oe&&Oe($e)}},Ie=((Ve,ke,We,ut,qe)=>{let Ye,At,rt,It,Ee,Oe,le,it=0;const at=ae=>{it=Date.now()+2e3,ke(ae)&&(!At&&We&&(At=c(Ve,"touchmove",We,qe)),rt||(rt=c(ae.target,"touchend",$e,qe)),It||(It=c(ae.target,"touchcancel",$e,qe)))},Ze=ae=>{it>Date.now()||ke(ae)&&(!Oe&&We&&(Oe=c(re(Ve),"mousemove",We,qe)),le||(le=c(re(Ve),"mouseup",Lt,qe)))},$e=ae=>{un(),ut&&ut(ae)},Lt=ae=>{vt(),ut&&ut(ae)},un=()=>{At&&At(),rt&&rt(),It&&It(),At=rt=It=void 0},vt=()=>{Oe&&Oe(),le&&le(),Oe=le=void 0},Xe=()=>{un(),vt()},ht=(ae=!0)=>{ae?(Ye||(Ye=c(Ve,"touchstart",at,qe)),Ee||(Ee=c(Ve,"mousedown",Ze,qe))):(Ye&&Ye(),Ee&&Ee(),Ye=Ee=void 0,Xe())};return{enable:ht,stop:Xe,destroy:()=>{ht(!1),ut=We=ke=void 0}}})(Ye.el,Ue=>{const xe=Ne(Ue);return!(We||!ut||(de(Ue,$e),$e.startX=$e.currentX,$e.startY=$e.currentY,$e.startTime=$e.currentTime=xe,$e.velocityX=$e.velocityY=$e.deltaX=$e.deltaY=0,$e.event=Ue,At&&!1===At($e))||(un.release(),!un.start()))&&(We=!0,0===it?Be():(Lt.start($e.startX,$e.startY),!0))},Ue=>{ke?!qe&&ut&&(qe=!0,Te($e,Ue),requestAnimationFrame(ht)):(Te($e,Ue),Lt.detect($e.currentX,$e.currentY)&&(!Lt.isGesture()||!Be())&&je())},X,{capture:!1,passive:at}),je=()=>{G(),Ie.stop(),Oe&&Oe($e)};return{enable(Ue=!0){Ue||(ke&&X(void 0),G()),Ie.enable(Ue)},destroy(){un.destroy(),Ie.destroy()}}},Te=(Ve,ke)=>{if(!ke)return;const We=Ve.currentX,ut=Ve.currentY,qe=Ve.currentTime;de(ke,Ve);const Ye=Ve.currentX,At=Ve.currentY,It=(Ve.currentTime=Ne(ke))-qe;if(It>0&&It<100){const Oe=(At-ut)/It;Ve.velocityX=(Ye-We)/It*.7+.3*Ve.velocityX,Ve.velocityY=.7*Oe+.3*Ve.velocityY}Ve.deltaX=Ye-Ve.startX,Ve.deltaY=At-Ve.startY,Ve.event=ke},de=(Ve,ke)=>{let We=0,ut=0;if(Ve){const qe=Ve.changedTouches;if(qe&&qe.length>0){const Ye=qe[0];We=Ye.clientX,ut=Ye.clientY}else void 0!==Ve.pageX&&(We=Ve.pageX,ut=Ve.pageY)}ke.currentX=We,ke.currentY=ut},Ne=Ve=>Ve.timeStamp||Date.now()},9672:(fn,dt,L)=>{"use strict";L.d(dt,{B:()=>Se,a:()=>Cs,b:()=>Kr,c:()=>jt,d:()=>Sn,e:()=>yr,f:()=>Be,g:()=>Mn,h:()=>Xe,i:()=>Yt,j:()=>ei,k:()=>re,r:()=>ir,w:()=>Ni});var p=L(467);var ne=Object.defineProperty,Se={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},re=$=>{const ue=new URL($,or.$resourcesUrl$);return ue.origin!==ur.location.origin?ue.href:ue.pathname},Le={},Ne=$=>"object"==($=typeof $)||"function"===$;function Ve($){var ue,Ce,ze;return null!=(ze=null==(Ce=null==(ue=$.head)?void 0:ue.querySelector('meta[name="csp-nonce"]'))?void 0:Ce.getAttribute("content"))?ze:void 0}(($,ue)=>{for(var Ce in ue)ne($,Ce,{get:ue[Ce],enumerable:!0})})({},{err:()=>ut,map:()=>qe,ok:()=>We,unwrap:()=>Ye,unwrapErr:()=>At});var We=$=>({isOk:!0,isErr:!1,value:$}),ut=$=>({isOk:!1,isErr:!0,value:$});function qe($,ue){if($.isOk){const Ce=ue($.value);return Ce instanceof Promise?Ce.then(ze=>We(ze)):We(Ce)}if($.isErr)return ut($.value);throw"should never get here"}var Ye=$=>{if($.isOk)return $.value;throw $.value},At=$=>{if($.isErr)return $.value;throw $.value},at="s-id",Ze="sty-id",un="slot-fb{display:contents}slot-fb[hidden]{display:none}",vt="http://www.w3.org/1999/xlink",Xe=($,ue,...Ce)=>{let ze=null,mt=null,gt=null,Bt=!1,Xt=!1;const qt=[],Zt=Tn=>{for(let qn=0;qn<Tn.length;qn++)ze=Tn[qn],Array.isArray(ze)?Zt(ze):null!=ze&&"boolean"!=typeof ze&&((Bt="function"!=typeof $&&!Ne(ze))&&(ze=String(ze)),Bt&&Xt?qt[qt.length-1].$text$+=ze:qt.push(Bt?ht(null,ze):ze),Xt=Bt)};if(Zt(Ce),ue){ue.key&&(mt=ue.key),ue.name&&(gt=ue.name);{const Tn=ue.className||ue.class;Tn&&(ue.class="object"!=typeof Tn?Tn:Object.keys(Tn).filter(qn=>Tn[qn]).join(" "))}}if("function"==typeof $)return $(null===ue?{}:ue,qt,H);const pn=ht($,null);return pn.$attrs$=ue,qt.length>0&&(pn.$children$=qt),pn.$key$=mt,pn.$name$=gt,pn},ht=($,ue)=>({$flags$:0,$tag$:$,$text$:ue,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Be={},H={forEach:($,ue)=>$.map(G).forEach(ue),map:($,ue)=>$.map(G).map(ue).map(X)},G=$=>({vattrs:$.$attrs$,vchildren:$.$children$,vkey:$.$key$,vname:$.$name$,vtag:$.$tag$,vtext:$.$text$}),X=$=>{if("function"==typeof $.vtag){const Ce={...$.vattrs};return $.vkey&&(Ce.key=$.vkey),$.vname&&(Ce.name=$.vname),Xe($.vtag,Ce,...$.vchildren||[])}const ue=ht($.vtag,$.vtext);return ue.$attrs$=$.vattrs,ue.$children$=$.vchildren,ue.$key$=$.vkey,ue.$name$=$.vname,ue},je=($,ue,Ce,ze,mt,gt,Bt)=>{let Xt,qt,Zt,pn;if(1===gt.nodeType){for(Xt=gt.getAttribute("c-id"),Xt&&(qt=Xt.split("."),(qt[0]===Bt||"0"===qt[0])&&(Zt={$flags$:0,$hostId$:qt[0],$nodeId$:qt[1],$depth$:qt[2],$index$:qt[3],$tag$:gt.tagName.toLowerCase(),$elm$:gt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},ue.push(Zt),gt.removeAttribute("c-id"),$.$children$||($.$children$=[]),$.$children$[Zt.$index$]=Zt,$=Zt,ze&&"0"===Zt.$depth$&&(ze[Zt.$index$]=Zt.$elm$))),pn=gt.childNodes.length-1;pn>=0;pn--)je($,ue,Ce,ze,mt,gt.childNodes[pn],Bt);if(gt.shadowRoot)for(pn=gt.shadowRoot.childNodes.length-1;pn>=0;pn--)je($,ue,Ce,ze,mt,gt.shadowRoot.childNodes[pn],Bt)}else if(8===gt.nodeType)qt=gt.nodeValue.split("."),(qt[1]===Bt||"0"===qt[1])&&(Xt=qt[0],Zt={$flags$:0,$hostId$:qt[1],$nodeId$:qt[2],$depth$:qt[3],$index$:qt[4],$elm$:gt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Xt?(Zt.$elm$=gt.nextSibling,Zt.$elm$&&3===Zt.$elm$.nodeType&&(Zt.$text$=Zt.$elm$.textContent,ue.push(Zt),gt.remove(),$.$children$||($.$children$=[]),$.$children$[Zt.$index$]=Zt,ze&&"0"===Zt.$depth$&&(ze[Zt.$index$]=Zt.$elm$))):Zt.$hostId$===Bt&&("s"===Xt?(Zt.$tag$="slot",gt["s-sn"]=qt[5]?Zt.$name$=qt[5]:"",gt["s-sr"]=!0,ze&&(Zt.$elm$=Nr.createElement(Zt.$tag$),Zt.$name$&&Zt.$elm$.setAttribute("name",Zt.$name$),gt.parentNode.insertBefore(Zt.$elm$,gt),gt.remove(),"0"===Zt.$depth$&&(ze[Zt.$index$]=Zt.$elm$)),Ce.push(Zt),$.$children$||($.$children$=[]),$.$children$[Zt.$index$]=Zt):"r"===Xt&&(ze?gt.remove():(mt["s-cr"]=gt,gt["s-cn"]=!0))));else if($&&"style"===$.$tag$){const Tn=ht(null,gt.textContent);Tn.$elm$=gt,Tn.$index$="0",$.$children$=[Tn]}},Ue=($,ue)=>{if(1===$.nodeType){let Ce=0;for(;Ce<$.childNodes.length;Ce++)Ue($.childNodes[Ce],ue);if($.shadowRoot)for(Ce=0;Ce<$.shadowRoot.childNodes.length;Ce++)Ue($.shadowRoot.childNodes[Ce],ue)}else if(8===$.nodeType){const Ce=$.nodeValue.split(".");"o"===Ce[0]&&(ue.set(Ce[1]+"."+Ce[2],$),$.nodeValue="",$["s-en"]=Ce[3])}},jt=$=>As.push($),Mn=$=>bi($).$modeName$,Yt=$=>bi($).$hostElement$,Sn=($,ue,Ce)=>{const ze=Yt($);return{emit:mt=>Wn(ze,ue,{bubbles:!!(4&Ce),composed:!!(2&Ce),cancelable:!!(1&Ce),detail:mt})}},Wn=($,ue,Ce)=>{const ze=or.ce(ue,Ce);return $.dispatchEvent(ze),ze},lr=new WeakMap,Jn=($,ue,Ce)=>{let ze=ls.get($);Qo&&Ce?(ze=ze||new CSSStyleSheet,"string"==typeof ze?ze=ue:ze.replaceSync(ue)):ze=ue,ls.set($,ze)},Kn=($,ue,Ce)=>{var ze;const mt=Gn(ue,Ce),gt=ls.get(mt);if($=11===$.nodeType?$:Nr,gt)if("string"==typeof gt){let Xt,Bt=lr.get($=$.head||$);if(Bt||lr.set($,Bt=new Set),!Bt.has(mt)){if($.host&&(Xt=$.querySelector(`[${Ze}="${mt}"]`)))Xt.innerHTML=gt;else{Xt=Nr.createElement("style"),Xt.innerHTML=gt;const qt=null!=(ze=or.$nonce$)?ze:Ve(Nr);null!=qt&&Xt.setAttribute("nonce",qt),$.insertBefore(Xt,$.querySelector("link"))}4&ue.$flags$&&(Xt.innerHTML+=un),Bt&&Bt.add(mt)}}else $.adoptedStyleSheets.includes(gt)||($.adoptedStyleSheets=[...$.adoptedStyleSheets,gt]);return mt},Gn=($,ue)=>"sc-"+(ue&&32&$.$flags$?$.$tagName$+"-"+ue:$.$tagName$),pt=$=>$.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Et=($,ue,Ce,ze,mt,gt)=>{if(Ce!==ze){let Bt=qi($,ue),Xt=ue.toLowerCase();if("class"===ue){const qt=$.classList,Zt=mn(Ce),pn=mn(ze);qt.remove(...Zt.filter(Tn=>Tn&&!pn.includes(Tn))),qt.add(...pn.filter(Tn=>Tn&&!Zt.includes(Tn)))}else if("style"===ue){for(const qt in Ce)(!ze||null==ze[qt])&&(qt.includes("-")?$.style.removeProperty(qt):$.style[qt]="");for(const qt in ze)(!Ce||ze[qt]!==Ce[qt])&&(qt.includes("-")?$.style.setProperty(qt,ze[qt]):$.style[qt]=ze[qt])}else if("key"!==ue)if("ref"===ue)ze&&ze($);else if(Bt||"o"!==ue[0]||"n"!==ue[1]){const qt=Ne(ze);if((Bt||qt&&null!==ze)&&!mt)try{if($.tagName.includes("-"))$[ue]=ze;else{const pn=null==ze?"":ze;"list"===ue?Bt=!1:(null==Ce||$[ue]!=pn)&&($[ue]=pn)}}catch{}let Zt=!1;Xt!==(Xt=Xt.replace(/^xlink\:?/,""))&&(ue=Xt,Zt=!0),null==ze||!1===ze?(!1!==ze||""===$.getAttribute(ue))&&(Zt?$.removeAttributeNS(vt,ue):$.removeAttribute(ue)):(!Bt||4&gt||mt)&&!qt&&(ze=!0===ze?"":ze,Zt?$.setAttributeNS(vt,ue,ze):$.setAttribute(ue,ze))}else if(ue="-"===ue[2]?ue.slice(3):qi(ur,Xt)?Xt.slice(2):Xt[2]+ue.slice(3),Ce||ze){const qt=ue.endsWith(Yn);ue=ue.replace(Fr,""),Ce&&or.rel($,ue,Ce,qt),ze&&or.ael($,ue,ze,qt)}}},bt=/\s/,mn=$=>$?$.split(bt):[],Yn="Capture",Fr=new RegExp(Yn+"$"),Zn=($,ue,Ce)=>{const ze=11===ue.$elm$.nodeType&&ue.$elm$.host?ue.$elm$.host:ue.$elm$,mt=$&&$.$attrs$||Le,gt=ue.$attrs$||Le;for(const Bt of En(Object.keys(mt)))Bt in gt||Et(ze,Bt,mt[Bt],void 0,Ce,ue.$flags$);for(const Bt of En(Object.keys(gt)))Et(ze,Bt,mt[Bt],gt[Bt],Ce,ue.$flags$)};function En($){return $.includes("ref")?[...$.filter(ue=>"ref"!==ue),"ref"]:$}var vn,er,gr,hr=!1,Gr=!1,Pn=!1,Pr=!1,Ln=($,ue,Ce,ze)=>{var mt;const gt=ue.$children$[Ce];let Xt,qt,Zt,Bt=0;if(hr||(Pn=!0,"slot"===gt.$tag$&&(vn&&ze.classList.add(vn+"-s"),gt.$flags$|=gt.$children$?2:1)),null!==gt.$text$)Xt=gt.$elm$=Nr.createTextNode(gt.$text$);else if(1&gt.$flags$)Xt=gt.$elm$=Nr.createTextNode("");else{if(Pr||(Pr="svg"===gt.$tag$),Xt=gt.$elm$=Nr.createElementNS(Pr?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&gt.$flags$?"slot-fb":gt.$tag$),Pr&&"foreignObject"===gt.$tag$&&(Pr=!1),Zn(null,gt,Pr),($=>null!=$)(vn)&&Xt["s-si"]!==vn&&Xt.classList.add(Xt["s-si"]=vn),gt.$children$)for(Bt=0;Bt<gt.$children$.length;++Bt)qt=Ln($,gt,Bt,Xt),qt&&Xt.appendChild(qt);"svg"===gt.$tag$?Pr=!1:"foreignObject"===Xt.tagName&&(Pr=!0)}return Xt["s-hn"]=gr,3&gt.$flags$&&(Xt["s-sr"]=!0,Xt["s-cr"]=er,Xt["s-sn"]=gt.$name$||"",Xt["s-rf"]=null==(mt=gt.$attrs$)?void 0:mt.ref,Zt=$&&$.$children$&&$.$children$[Ce],Zt&&Zt.$tag$===gt.$tag$&&$.$elm$&&Zr($.$elm$)),Xt},Zr=$=>{or.$flags$|=1;const ue=$.closest(gr.toLowerCase());if(null!=ue){const Ce=Array.from(ue.childNodes).find(mt=>mt["s-cr"]),ze=Array.from($.childNodes);for(const mt of Ce?ze.reverse():ze)null!=mt["s-sh"]&&(pe(ue,mt,null!=Ce?Ce:null),mt["s-sh"]=void 0,Pn=!0)}or.$flags$&=-2},fr=($,ue)=>{or.$flags$|=1;const Ce=Array.from($.childNodes);if($["s-sr"]){let ze=$;for(;ze=ze.nextSibling;)ze&&ze["s-sn"]===$["s-sn"]&&ze["s-sh"]===gr&&Ce.push(ze)}for(let ze=Ce.length-1;ze>=0;ze--){const mt=Ce[ze];mt["s-hn"]!==gr&&mt["s-ol"]&&(pe(Pi(mt),mt,vi(mt)),mt["s-ol"].remove(),mt["s-ol"]=void 0,mt["s-sh"]=void 0,Pn=!0),ue&&fr(mt,ue)}or.$flags$&=-2},Bn=($,ue,Ce,ze,mt,gt)=>{let Xt,Bt=$["s-cr"]&&$["s-cr"].parentNode||$;for(Bt.shadowRoot&&Bt.tagName===gr&&(Bt=Bt.shadowRoot);mt<=gt;++mt)ze[mt]&&(Xt=Ln(null,Ce,mt,$),Xt&&(ze[mt].$elm$=Xt,pe(Bt,Xt,vi(ue))))},mi=($,ue,Ce)=>{for(let ze=ue;ze<=Ce;++ze){const mt=$[ze];if(mt){const gt=mt.$elm$;ce(mt),gt&&(Gr=!0,gt["s-ol"]?gt["s-ol"].remove():fr(gt,!0),gt.remove())}}},Jr=($,ue,Ce=!1)=>$.$tag$===ue.$tag$&&("slot"===$.$tag$?$.$name$===ue.$name$:!!Ce||$.$key$===ue.$key$),vi=$=>$&&$["s-ol"]||$,Pi=$=>($["s-ol"]?$["s-ol"]:$).parentNode,Qr=($,ue,Ce=!1)=>{const ze=ue.$elm$=$.$elm$,mt=$.$children$,gt=ue.$children$,Bt=ue.$tag$,Xt=ue.$text$;let qt;null===Xt?(Pr="svg"===Bt||"foreignObject"!==Bt&&Pr,"slot"!==Bt||hr?Zn($,ue,Pr):$.$name$!==ue.$name$&&(ue.$elm$["s-sn"]=ue.$name$||"",Zr(ue.$elm$.parentElement)),null!==mt&&null!==gt?(($,ue,Ce,ze,mt=!1)=>{let Ui,Rr,gt=0,Bt=0,Xt=0,qt=0,Zt=ue.length-1,pn=ue[0],Tn=ue[Zt],qn=ze.length-1,kn=ze[0],Lr=ze[qn];for(;gt<=Zt&&Bt<=qn;)if(null==pn)pn=ue[++gt];else if(null==Tn)Tn=ue[--Zt];else if(null==kn)kn=ze[++Bt];else if(null==Lr)Lr=ze[--qn];else if(Jr(pn,kn,mt))Qr(pn,kn,mt),pn=ue[++gt],kn=ze[++Bt];else if(Jr(Tn,Lr,mt))Qr(Tn,Lr,mt),Tn=ue[--Zt],Lr=ze[--qn];else if(Jr(pn,Lr,mt))("slot"===pn.$tag$||"slot"===Lr.$tag$)&&fr(pn.$elm$.parentNode,!1),Qr(pn,Lr,mt),pe($,pn.$elm$,Tn.$elm$.nextSibling),pn=ue[++gt],Lr=ze[--qn];else if(Jr(Tn,kn,mt))("slot"===pn.$tag$||"slot"===Lr.$tag$)&&fr(Tn.$elm$.parentNode,!1),Qr(Tn,kn,mt),pe($,Tn.$elm$,pn.$elm$),Tn=ue[--Zt],kn=ze[++Bt];else{for(Xt=-1,qt=gt;qt<=Zt;++qt)if(ue[qt]&&null!==ue[qt].$key$&&ue[qt].$key$===kn.$key$){Xt=qt;break}Xt>=0?(Rr=ue[Xt],Rr.$tag$!==kn.$tag$?Ui=Ln(ue&&ue[Bt],Ce,Xt,$):(Qr(Rr,kn,mt),ue[Xt]=void 0,Ui=Rr.$elm$),kn=ze[++Bt]):(Ui=Ln(ue&&ue[Bt],Ce,Bt,$),kn=ze[++Bt]),Ui&&pe(Pi(pn.$elm$),Ui,vi(pn.$elm$))}gt>Zt?Bn($,null==ze[qn+1]?null:ze[qn+1].$elm$,Ce,ze,Bt,qn):Bt>qn&&mi(ue,gt,Zt)})(ze,mt,ue,gt,Ce):null!==gt?(null!==$.$text$&&(ze.textContent=""),Bn(ze,null,ue,gt,0,gt.length-1)):null!==mt&&mi(mt,0,mt.length-1),Pr&&"svg"===Bt&&(Pr=!1)):(qt=ze["s-cr"])?qt.parentNode.textContent=Xt:$.$text$!==Xt&&(ze.data=Xt)},ft=$=>{const ue=$.childNodes;for(const Ce of ue)if(1===Ce.nodeType){if(Ce["s-sr"]){const ze=Ce["s-sn"];Ce.hidden=!1;for(const mt of ue)if(mt!==Ce)if(mt["s-hn"]!==Ce["s-hn"]||""!==ze){if(1===mt.nodeType&&(ze===mt.getAttribute("slot")||ze===mt["s-sn"])||3===mt.nodeType&&ze===mt["s-sn"]){Ce.hidden=!0;break}}else if(1===mt.nodeType||3===mt.nodeType&&""!==mt.textContent.trim()){Ce.hidden=!0;break}}ft(Ce)}},et=[],Nt=$=>{let ue,Ce,ze;for(const mt of $.childNodes){if(mt["s-sr"]&&(ue=mt["s-cr"])&&ue.parentNode){Ce=ue.parentNode.childNodes;const gt=mt["s-sn"];for(ze=Ce.length-1;ze>=0;ze--)if(ue=Ce[ze],!(ue["s-cn"]||ue["s-nr"]||ue["s-hn"]===mt["s-hn"]||ue["s-sh"]&&ue["s-sh"]===mt["s-hn"]))if(Je(ue,gt)){let Bt=et.find(Xt=>Xt.$nodeToRelocate$===ue);Gr=!0,ue["s-sn"]=ue["s-sn"]||gt,Bt?(Bt.$nodeToRelocate$["s-sh"]=mt["s-hn"],Bt.$slotRefNode$=mt):(ue["s-sh"]=mt["s-hn"],et.push({$slotRefNode$:mt,$nodeToRelocate$:ue})),ue["s-sr"]&&et.map(Xt=>{Je(Xt.$nodeToRelocate$,ue["s-sn"])&&(Bt=et.find(qt=>qt.$nodeToRelocate$===ue),Bt&&!Xt.$slotRefNode$&&(Xt.$slotRefNode$=Bt.$slotRefNode$))})}else et.some(Bt=>Bt.$nodeToRelocate$===ue)||et.push({$nodeToRelocate$:ue})}1===mt.nodeType&&Nt(mt)}},Je=($,ue)=>1===$.nodeType?null===$.getAttribute("slot")&&""===ue||$.getAttribute("slot")===ue:$["s-sn"]===ue||""===ue,ce=$=>{$.$attrs$&&$.$attrs$.ref&&$.$attrs$.ref(null),$.$children$&&$.$children$.map(ce)},pe=($,ue,Ce)=>{const ze=null==$?void 0:$.insertBefore(ue,Ce);return xt(ue,$),ze},Fe=$=>$?$["s-rsc"]||$["s-si"]||$["s-sc"]||Fe($.parentElement):void 0,xt=($,ue)=>{var Ce,ze,mt;if($&&ue){const gt=$["s-rsc"],Bt=Fe(ue);gt&&null!=(Ce=$.classList)&&Ce.contains(gt)&&$.classList.remove(gt),Bt&&($["s-rsc"]=Bt,(null==(ze=$.classList)||!ze.contains(Bt))&&(null==(mt=$.classList)||mt.add(Bt)))}},dn=($,ue)=>{ue&&!$.$onRenderResolve$&&ue["s-p"]&&ue["s-p"].push(new Promise(Ce=>$.$onRenderResolve$=Ce))},Cn=($,ue)=>{if($.$flags$|=16,!(4&$.$flags$))return dn($,$.$ancestorComponent$),Ni(()=>tr($,ue));$.$flags$|=512},tr=($,ue)=>{const ze=$.$lazyInstance$;let mt;return ue&&($.$flags$|=256,$.$queuedListeners$&&($.$queuedListeners$.map(([gt,Bt])=>Cr(ze,gt,Bt)),$.$queuedListeners$=void 0),mt=Cr(ze,"componentWillLoad")),mt=ar(mt,()=>Cr(ze,"componentWillRender")),ar(mt,()=>ri($,ze,ue))},ar=($,ue)=>Wr($)?$.then(ue):ue(),Wr=$=>$ instanceof Promise||$&&$.then&&"function"==typeof $.then,ri=function(){var $=(0,p.A)(function*(ue,Ce,ze){var mt;const gt=ue.$hostElement$,Xt=gt["s-rc"];ze&&($=>{const ue=$.$cmpMeta$,Ce=$.$hostElement$,ze=ue.$flags$,gt=Kn(Ce.shadowRoot?Ce.shadowRoot:Ce.getRootNode(),ue,$.$modeName$);10&ze&&(Ce["s-sc"]=gt,Ce.classList.add(gt+"-h"),2&ze&&Ce.classList.add(gt+"-s"))})(ue);Vn(ue,Ce,gt,ze),Xt&&(Xt.map(Zt=>Zt()),gt["s-rc"]=void 0);{const Zt=null!=(mt=gt["s-p"])?mt:[],pn=()=>In(ue);0===Zt.length?pn():(Promise.all(Zt).then(pn),ue.$flags$|=4,Zt.length=0)}});return function(Ce,ze,mt){return $.apply(this,arguments)}}(),Vn=($,ue,Ce,ze)=>{try{ue=ue.render&&ue.render(),$.$flags$&=-17,$.$flags$|=2,(($,ue,Ce=!1)=>{var ze,mt,gt,Bt,Xt;const qt=$.$hostElement$,Zt=$.$cmpMeta$,pn=$.$vnode$||ht(null,null),Tn=($=>$&&$.$tag$===Be)(ue)?ue:Xe(null,null,ue);if(gr=qt.tagName,Zt.$attrsToReflect$&&(Tn.$attrs$=Tn.$attrs$||{},Zt.$attrsToReflect$.map(([qn,kn])=>Tn.$attrs$[kn]=qt[qn])),Ce&&Tn.$attrs$)for(const qn of Object.keys(Tn.$attrs$))qt.hasAttribute(qn)&&!["key","ref","style","class"].includes(qn)&&(Tn.$attrs$[qn]=qt[qn]);if(Tn.$tag$=null,Tn.$flags$|=4,$.$vnode$=Tn,Tn.$elm$=pn.$elm$=qt.shadowRoot||qt,vn=qt["s-sc"],hr=!!(1&Zt.$flags$),er=qt["s-cr"],Gr=!1,Qr(pn,Tn,Ce),or.$flags$|=1,Pn){Nt(Tn.$elm$);for(const qn of et){const kn=qn.$nodeToRelocate$;if(!kn["s-ol"]){const Lr=Nr.createTextNode("");Lr["s-nr"]=kn,pe(kn.parentNode,kn["s-ol"]=Lr,kn)}}for(const qn of et){const kn=qn.$nodeToRelocate$,Lr=qn.$slotRefNode$;if(Lr){const Ui=Lr.parentNode;let Rr=Lr.nextSibling;if(Rr&&1===Rr.nodeType){let oi=null==(ze=kn["s-ol"])?void 0:ze.previousSibling;for(;oi;){let Oi=null!=(mt=oi["s-nr"])?mt:null;if(Oi&&Oi["s-sn"]===kn["s-sn"]&&Ui===Oi.parentNode){for(Oi=Oi.nextSibling;Oi===kn||null!=Oi&&Oi["s-sr"];)Oi=null==Oi?void 0:Oi.nextSibling;if(!Oi||!Oi["s-nr"]){Rr=Oi;break}}oi=oi.previousSibling}}(!Rr&&Ui!==kn.parentNode||kn.nextSibling!==Rr)&&kn!==Rr&&(pe(Ui,kn,Rr),1===kn.nodeType&&(kn.hidden=null!=(gt=kn["s-ih"])&&gt)),kn&&"function"==typeof Lr["s-rf"]&&Lr["s-rf"](kn)}else 1===kn.nodeType&&(Ce&&(kn["s-ih"]=null!=(Bt=kn.hidden)&&Bt),kn.hidden=!0)}}if(Gr&&ft(Tn.$elm$),or.$flags$&=-2,et.length=0,2&Zt.$flags$)for(const qn of Tn.$elm$.childNodes)qn["s-hn"]!==gr&&!qn["s-sh"]&&(Ce&&null==qn["s-ih"]&&(qn["s-ih"]=null!=(Xt=qn.hidden)&&Xt),qn.hidden=!0);er=void 0})($,ue,ze)}catch(mt){yi(mt,$.$hostElement$)}return null},In=$=>{const Ce=$.$hostElement$,mt=$.$lazyInstance$,gt=$.$ancestorComponent$;Cr(mt,"componentDidRender"),64&$.$flags$?Cr(mt,"componentDidUpdate"):($.$flags$|=64,Ji(Ce),Cr(mt,"componentDidLoad"),$.$onReadyResolve$(Ce),gt||Mi()),$.$onInstanceResolve$(Ce),$.$onRenderResolve$&&($.$onRenderResolve$(),$.$onRenderResolve$=void 0),512&$.$flags$&&ot(()=>Cn($,!1)),$.$flags$&=-517},ei=$=>{{const ue=bi($),Ce=ue.$hostElement$.isConnected;return Ce&&2==(18&ue.$flags$)&&Cn(ue,!1),Ce}},Mi=$=>{Ji(Nr.documentElement),ot(()=>Wn(ur,"appload",{detail:{namespace:"ionic"}}))},Cr=($,ue,Ce)=>{if($&&$[ue])try{return $[ue](Ce)}catch(ze){yi(ze)}},Ji=$=>$.classList.add("hydrated"),Fi=($,ue,Ce)=>{var ze;const mt=$.prototype;if(ue.$members$){$.watchers&&(ue.$watchers$=$.watchers);const gt=Object.entries(ue.$members$);if(gt.map(([Bt,[Xt]])=>{31&Xt||2&Ce&&32&Xt?Object.defineProperty(mt,Bt,{get(){return(($,ue)=>bi(this).$instanceValues$.get(ue))(0,Bt)},set(qt){(($,ue,Ce,ze)=>{const mt=bi($);if(!mt)throw new Error(`Couldn't find host element for "${ze.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const gt=mt.$hostElement$,Bt=mt.$instanceValues$.get(ue),Xt=mt.$flags$,qt=mt.$lazyInstance$;Ce=(($,ue)=>null==$||Ne($)?$:4&ue?"false"!==$&&(""===$||!!$):2&ue?parseFloat($):1&ue?String($):$)(Ce,ze.$members$[ue][0]);const Zt=Number.isNaN(Bt)&&Number.isNaN(Ce);if((!(8&Xt)||void 0===Bt)&&Ce!==Bt&&!Zt&&(mt.$instanceValues$.set(ue,Ce),qt)){if(ze.$watchers$&&128&Xt){const Tn=ze.$watchers$[ue];Tn&&Tn.map(qn=>{try{qt[qn](Ce,Bt,ue)}catch(kn){yi(kn,gt)}})}2==(18&Xt)&&Cn(mt,!1)}})(this,Bt,qt,ue)},configurable:!0,enumerable:!0}):1&Ce&&64&Xt&&Object.defineProperty(mt,Bt,{value(...qt){var Zt;const pn=bi(this);return null==(Zt=null==pn?void 0:pn.$onInstancePromise$)?void 0:Zt.then(()=>{var Tn;return null==(Tn=pn.$lazyInstance$)?void 0:Tn[Bt](...qt)})}})}),1&Ce){const Bt=new Map;mt.attributeChangedCallback=function(Xt,qt,Zt){or.jmp(()=>{var pn;const Tn=Bt.get(Xt);if(this.hasOwnProperty(Tn))Zt=this[Tn],delete this[Tn];else{if(mt.hasOwnProperty(Tn)&&"number"==typeof this[Tn]&&this[Tn]==Zt)return;if(null==Tn){const qn=bi(this),kn=null==qn?void 0:qn.$flags$;if(kn&&!(8&kn)&&128&kn&&Zt!==qt){const Lr=qn.$lazyInstance$,Ui=null==(pn=ue.$watchers$)?void 0:pn[Xt];null==Ui||Ui.forEach(Rr=>{null!=Lr[Rr]&&Lr[Rr].call(Lr,Zt,qt,Xt)})}return}}this[Tn]=(null!==Zt||"boolean"!=typeof this[Tn])&&Zt})},$.observedAttributes=Array.from(new Set([...Object.keys(null!=(ze=ue.$watchers$)?ze:{}),...gt.filter(([Xt,qt])=>15&qt[0]).map(([Xt,qt])=>{var Zt;const pn=qt[1]||Xt;return Bt.set(pn,Xt),512&qt[0]&&(null==(Zt=ue.$attrsToReflect$)||Zt.push([Xt,pn])),pn})]))}}return $},Li=function(){var $=(0,p.A)(function*(ue,Ce,ze,mt){let gt;if(!(32&Ce.$flags$)){if(Ce.$flags$|=32,ze.$lazyBundleId$){if(gt=Xo(ze),gt.then){const pn=()=>{};gt=yield gt,pn()}gt.isProxied||(ze.$watchers$=gt.watchers,Fi(gt,ze,2),gt.isProxied=!0);const Zt=()=>{};Ce.$flags$|=8;try{new gt(Ce)}catch(pn){yi(pn)}Ce.$flags$&=-9,Ce.$flags$|=128,Zt(),li(Ce.$lazyInstance$)}else gt=ue.constructor,customElements.whenDefined(ze.$tagName$).then(()=>Ce.$flags$|=128);if(gt.style){let Zt=gt.style;"string"!=typeof Zt&&(Zt=Zt[Ce.$modeName$=($=>As.map(ue=>ue($)).find(ue=>!!ue))(ue)]);const pn=Gn(ze,Ce.$modeName$);if(!ls.has(pn)){const Tn=()=>{};Jn(pn,Zt,!!(1&ze.$flags$)),Tn()}}}const Bt=Ce.$ancestorComponent$,Xt=()=>Cn(Ce,!0);Bt&&Bt["s-rc"]?Bt["s-rc"].push(Xt):Xt()});return function(Ce,ze,mt,gt){return $.apply(this,arguments)}}(),li=$=>{Cr($,"connectedCallback")},Y=$=>{const ue=$["s-cr"]=Nr.createComment("");ue["s-cn"]=!0,pe($,ue,$.firstChild)},Q=$=>{Cr($,"disconnectedCallback")},Pe=function(){var $=(0,p.A)(function*(ue){if(!(1&or.$flags$)){const Ce=bi(ue);Ce.$rmListeners$&&(Ce.$rmListeners$.map(ze=>ze()),Ce.$rmListeners$=void 0),null!=Ce&&Ce.$lazyInstance$?Q(Ce.$lazyInstance$):null!=Ce&&Ce.$onReadyPromise$&&Ce.$onReadyPromise$.then(()=>Q(Ce.$lazyInstance$))}});return function(Ce){return $.apply(this,arguments)}}(),Z=$=>{const ue=$.cloneNode;$.cloneNode=function(Ce){const ze=this,mt=ze.shadowRoot&&Ts,gt=ue.call(ze,!!mt&&Ce);if(!mt&&Ce){let Xt,qt,Bt=0;const Zt=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-rsc"];for(;Bt<ze.childNodes.length;Bt++)Xt=ze.childNodes[Bt]["s-nr"],qt=Zt.every(pn=>!ze.childNodes[Bt][pn]),Xt&&(gt.__appendChild?gt.__appendChild(Xt.cloneNode(!0)):gt.appendChild(Xt.cloneNode(!0))),qt&&gt.appendChild(ze.childNodes[Bt].cloneNode(!0))}return gt}},Re=$=>{$.__appendChild=$.appendChild,$.appendChild=function(ue){const Ce=ue["s-sn"]=ii(ue),ze=To(this.childNodes,Ce,this.tagName);if(ze){const mt=Vi(ze,Ce),gt=mt[mt.length-1],Bt=pe(gt.parentNode,ue,gt.nextSibling);return ft(this),Bt}return this.__appendChild(ue)}},Tt=$=>{$.__removeChild=$.removeChild,$.removeChild=function(ue){if(ue&&typeof ue["s-sn"]<"u"){const Ce=To(this.childNodes,ue["s-sn"],this.tagName);if(Ce){const mt=Vi(Ce,ue["s-sn"]).find(gt=>gt===ue);if(mt)return mt.remove(),void ft(this)}}return this.__removeChild(ue)}},wt=$=>{const ue=$.prepend;$.prepend=function(...Ce){Ce.forEach(ze=>{"string"==typeof ze&&(ze=this.ownerDocument.createTextNode(ze));const mt=ze["s-sn"]=ii(ze),gt=To(this.childNodes,mt,this.tagName);if(gt){const Bt=document.createTextNode("");Bt["s-nr"]=ze,gt["s-cr"].parentNode.__appendChild(Bt),ze["s-ol"]=Bt;const qt=Vi(gt,mt)[0];return pe(qt.parentNode,ze,qt.nextSibling)}return 1===ze.nodeType&&ze.getAttribute("slot")&&(ze.hidden=!0),ue.call(this,ze)})}},hn=$=>{$.append=function(...ue){ue.forEach(Ce=>{"string"==typeof Ce&&(Ce=this.ownerDocument.createTextNode(Ce)),this.appendChild(Ce)})}},$n=$=>{const ue=$.insertAdjacentHTML;$.insertAdjacentHTML=function(Ce,ze){if("afterbegin"!==Ce&&"beforeend"!==Ce)return ue.call(this,Ce,ze);const mt=this.ownerDocument.createElement("_");let gt;if(mt.innerHTML=ze,"afterbegin"===Ce)for(;gt=mt.firstChild;)this.prepend(gt);else if("beforeend"===Ce)for(;gt=mt.firstChild;)this.append(gt)}},mr=$=>{$.insertAdjacentText=function(ue,Ce){this.insertAdjacentHTML(ue,Ce)}},rr=$=>{const ue=$.insertAdjacentElement;$.insertAdjacentElement=function(Ce,ze){return"afterbegin"!==Ce&&"beforeend"!==Ce?ue.call(this,Ce,ze):"afterbegin"===Ce?(this.prepend(ze),ze):("beforeend"===Ce&&this.append(ze),ze)}},Ki=$=>{const ue=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty($,"__textContent",ue),Object.defineProperty($,"textContent",{get(){return" "+Xn(this.childNodes).map(mt=>{var gt,Bt;const Xt=[];let qt=mt.nextSibling;for(;qt&&qt["s-sn"]===mt["s-sn"];)(3===qt.nodeType||1===qt.nodeType)&&Xt.push(null!=(Bt=null==(gt=qt.textContent)?void 0:gt.trim())?Bt:""),qt=qt.nextSibling;return Xt.filter(Zt=>""!==Zt).join(" ")}).filter(mt=>""!==mt).join(" ")+" "},set(Ce){Xn(this.childNodes).forEach(mt=>{let gt=mt.nextSibling;for(;gt&&gt["s-sn"]===mt["s-sn"];){const Bt=gt;gt=gt.nextSibling,Bt.remove()}if(""===mt["s-sn"]){const Bt=this.ownerDocument.createTextNode(Ce);Bt["s-sn"]="",pe(mt.parentElement,Bt,mt.nextSibling)}else mt.remove()})}})},ai=($,ue)=>{class Ce extends Array{item(mt){return this[mt]}}if(8&ue.$flags$){const ze=$.__lookupGetter__("childNodes");Object.defineProperty($,"children",{get(){return this.childNodes.map(mt=>1===mt.nodeType)}}),Object.defineProperty($,"childElementCount",{get:()=>$.children.length}),Object.defineProperty($,"childNodes",{get(){const mt=ze.call(this);if(!(1&or.$flags$)&&2&bi(this).$flags$){const gt=new Ce;for(let Bt=0;Bt<mt.length;Bt++){const Xt=mt[Bt]["s-nr"];Xt&&gt.push(Xt)}return gt}return Ce.from(mt)}})}},Xn=$=>{const ue=[];for(const Ce of Array.from($))Ce["s-sr"]&&ue.push(Ce),ue.push(...Xn(Ce.childNodes));return ue},ii=$=>$["s-sn"]||1===$.nodeType&&$.getAttribute("slot")||"",To=($,ue,Ce)=>{let mt,ze=0;for(;ze<$.length;ze++)if(mt=$[ze],mt["s-sr"]&&mt["s-sn"]===ue&&mt["s-hn"]===Ce||(mt=To(mt.childNodes,ue,Ce),mt))return mt;return null},Vi=($,ue)=>{const Ce=[$];for(;($=$.nextSibling)&&$["s-sn"]===ue;)Ce.push($);return Ce},Kr=($,ue={})=>{var Ce;const mt=[],gt=ue.exclude||[],Bt=ur.customElements,Xt=Nr.head,qt=Xt.querySelector("meta[charset]"),Zt=Nr.createElement("style"),pn=[],Tn=Nr.querySelectorAll(`[${Ze}]`);let qn,kn=!0,Lr=0;for(Object.assign(or,ue),or.$resourcesUrl$=new URL(ue.resourcesUrl||"./",Nr.baseURI).href,or.$flags$|=2;Lr<Tn.length;Lr++)Jn(Tn[Lr].getAttribute(Ze),pt(Tn[Lr].innerHTML),!0);let Ui=!1;if($.map(Rr=>{Rr[1].map(oi=>{var Oi;const wi={$flags$:oi[0],$tagName$:oi[1],$members$:oi[2],$listeners$:oi[3]};4&wi.$flags$&&(Ui=!0),wi.$members$=oi[2],wi.$listeners$=oi[3],wi.$attrsToReflect$=[],wi.$watchers$=null!=(Oi=oi[4])?Oi:{};const jo=wi.$tagName$,Xs=class extends HTMLElement{constructor(us){super(us),xr(us=this,wi),1&wi.$flags$&&us.attachShadow({mode:"open",delegatesFocus:!!(16&wi.$flags$)})}connectedCallback(){qn&&(clearTimeout(qn),qn=null),kn?pn.push(this):or.jmp(()=>($=>{if(!(1&or.$flags$)){const ue=bi($),Ce=ue.$cmpMeta$,ze=()=>{};if(1&ue.$flags$)Di($,ue,Ce.$listeners$),null!=ue&&ue.$lazyInstance$?li(ue.$lazyInstance$):null!=ue&&ue.$onReadyPromise$&&ue.$onReadyPromise$.then(()=>li(ue.$lazyInstance$));else{let mt;if(ue.$flags$|=1,mt=$.getAttribute(at),mt){if(1&Ce.$flags$){const gt=Kn($.shadowRoot,Ce,$.getAttribute("s-mode"));$.classList.remove(gt+"-h",gt+"-s")}(($,ue,Ce,ze)=>{const gt=$.shadowRoot,Bt=[],qt=gt?[]:null,Zt=ze.$vnode$=ht(ue,null);or.$orgLocNodes$||Ue(Nr.body,or.$orgLocNodes$=new Map),$[at]=Ce,$.removeAttribute(at),je(Zt,Bt,[],qt,$,$,Ce),Bt.map(pn=>{const Tn=pn.$hostId$+"."+pn.$nodeId$,qn=or.$orgLocNodes$.get(Tn),kn=pn.$elm$;qn&&Ts&&""===qn["s-en"]&&qn.parentNode.insertBefore(kn,qn.nextSibling),gt||(kn["s-hn"]=ue,qn&&(kn["s-ol"]=qn,kn["s-ol"]["s-nr"]=kn)),or.$orgLocNodes$.delete(Tn)}),gt&&qt.map(pn=>{pn&&gt.appendChild(pn)})})($,Ce.$tagName$,mt,ue)}mt||12&Ce.$flags$&&Y($);{let gt=$;for(;gt=gt.parentNode||gt.host;)if(1===gt.nodeType&&gt.hasAttribute("s-id")&&gt["s-p"]||gt["s-p"]){dn(ue,ue.$ancestorComponent$=gt);break}}Ce.$members$&&Object.entries(Ce.$members$).map(([gt,[Bt]])=>{if(31&Bt&&$.hasOwnProperty(gt)){const Xt=$[gt];delete $[gt],$[gt]=Xt}}),Li($,ue,Ce)}ze()}})(this))}disconnectedCallback(){or.jmp(()=>Pe(this))}componentOnReady(){return bi(this).$onReadyPromise$}};2&wi.$flags$&&(($,ue)=>{Z($),Re($),hn($),wt($),rr($),$n($),mr($),Ki($),ai($,ue),Tt($)})(Xs.prototype,wi),wi.$lazyBundleId$=Rr[0],!gt.includes(jo)&&!Bt.get(jo)&&(mt.push(jo),Bt.define(jo,Fi(Xs,wi,1)))})}),mt.length>0&&(Ui&&(Zt.textContent+=un),Zt.textContent+=mt+"{visibility:hidden}.hydrated{visibility:inherit}",Zt.innerHTML.length)){Zt.setAttribute("data-styles","");const Rr=null!=(Ce=or.$nonce$)?Ce:Ve(Nr);null!=Rr&&Zt.setAttribute("nonce",Rr),Xt.insertBefore(Zt,qt?qt.nextSibling:Xt.firstChild)}kn=!1,pn.length?pn.map(Rr=>Rr.connectedCallback()):or.jmp(()=>qn=setTimeout(Mi,30))},Di=($,ue,Ce,ze)=>{Ce&&Ce.map(([mt,gt,Bt])=>{const Xt=co($,mt),qt=io(ue,Bt),Zt=xo(mt);or.ael(Xt,gt,qt,Zt),(ue.$rmListeners$=ue.$rmListeners$||[]).push(()=>or.rel(Xt,gt,qt,Zt))})},io=($,ue)=>Ce=>{try{256&$.$flags$?$.$lazyInstance$[ue](Ce):($.$queuedListeners$=$.$queuedListeners$||[]).push([ue,Ce])}catch(ze){yi(ze)}},co=($,ue)=>4&ue?Nr:8&ue?ur:16&ue?Nr.body:$,xo=$=>Ds?{passive:!!(1&$),capture:!!(2&$)}:!!(2&$),yo=new WeakMap,bi=$=>yo.get($),ir=($,ue)=>yo.set(ue.$lazyInstance$=$,ue),xr=($,ue)=>{const Ce={$flags$:0,$hostElement$:$,$cmpMeta$:ue,$instanceValues$:new Map};return Ce.$onInstancePromise$=new Promise(ze=>Ce.$onInstanceResolve$=ze),Ce.$onReadyPromise$=new Promise(ze=>Ce.$onReadyResolve$=ze),$["s-p"]=[],$["s-rc"]=[],Di($,Ce,ue.$listeners$),yo.set($,Ce)},qi=($,ue)=>ue in $,yi=($,ue)=>(0,console.error)($,ue),la=new Map,Xo=($,ue,Ce)=>{const ze=$.$tagName$.replace(/-/g,"_"),mt=$.$lazyBundleId$,gt=la.get(mt);return gt?gt[ze]:L(8996)(`./${mt}.entry.js`).then(Bt=>(la.set(mt,Bt),Bt[ze]),yi)},ls=new Map,As=[],ur=typeof window<"u"?window:{},Nr=ur.document||{head:{}},or={$flags$:0,$resourcesUrl$:"",jmp:$=>$(),raf:$=>requestAnimationFrame($),ael:($,ue,Ce,ze)=>$.addEventListener(ue,Ce,ze),rel:($,ue,Ce,ze)=>$.removeEventListener(ue,Ce,ze),ce:($,ue)=>new CustomEvent($,ue)},Cs=$=>{Object.assign(or,$)},Ts=!0,Ds=(()=>{let $=!1;try{Nr.addEventListener("e",null,Object.defineProperty({},"passive",{get(){$=!0}}))}catch{}return $})(),Qo=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),xi=!1,S=[],q=[],me=($,ue)=>Ce=>{$.push(Ce),xi||(xi=!0,ue&&4&or.$flags$?ot(ve):or.raf(ve))},x=$=>{for(let ue=0;ue<$.length;ue++)try{$[ue](performance.now())}catch(Ce){yi(Ce)}$.length=0},ve=()=>{x(S),x(q),(xi=S.length>0)&&or.raf(ve)},ot=$=>Promise.resolve(void 0).then($),yr=me(S,!1),Ni=me(q,!0)},2725:(fn,dt,L)=>{"use strict";L.d(dt,{b:()=>Le,c:()=>He,d:()=>Te,e:()=>Xe,g:()=>ae,l:()=>un,s:()=>ht,t:()=>Ye,w:()=>vt});var p=L(467),c=L(3664),J=L(9672),ne=L(4929),he=L(4920);const Le="ionViewWillLeave",He="ionViewDidLeave",Te="ionViewWillUnload",de=H=>{H.tabIndex=-1,H.focus()},Ne=H=>null!==H.offsetParent,ke="ion-last-focus",qe_saveViewFocus=X=>{if(c.c.get("focusManagerPriority",!1)){const je=document.activeElement;null!==je&&null!=X&&X.contains(je)&&je.setAttribute(ke,"true")}},qe_setViewFocus=X=>{const Ie=c.c.get("focusManagerPriority",!1);if(Array.isArray(Ie)&&!X.contains(document.activeElement)){const je=X.querySelector(`[${ke}]`);if(je&&Ne(je))return void de(je);for(const Ue of Ie)switch(Ue){case"content":const xe=X.querySelector('main, [role="main"]');if(xe&&Ne(xe))return void de(xe);break;case"heading":const jt=X.querySelector('h1, [role="heading"][aria-level="1"]');if(jt&&Ne(jt))return void de(jt);break;case"banner":const Mn=X.querySelector('header, [role="banner"]');if(Mn&&Ne(Mn))return void de(Mn);break;default:(0,ne.p)(`Unrecognized focus manager priority value ${Ue}`)}de(X)}},Ye=H=>new Promise((G,X)=>{(0,J.w)(()=>{At(H),rt(H).then(Ie=>{Ie.animation&&Ie.animation.destroy(),It(H),G(Ie)},Ie=>{It(H),X(Ie)})})}),At=H=>{const G=H.enteringEl,X=H.leavingEl;qe_saveViewFocus(X),Be(G,X,H.direction),H.showGoBack?G.classList.add("can-go-back"):G.classList.remove("can-go-back"),ht(G,!1),G.style.setProperty("pointer-events","none"),X&&(ht(X,!1),X.style.setProperty("pointer-events","none"))},rt=function(){var H=(0,p.A)(function*(G){const X=yield Ee(G);return X&&J.B.isBrowser?Oe(X,G):le(G)});return function(X){return H.apply(this,arguments)}}(),It=H=>{const G=H.enteringEl,X=H.leavingEl;G.classList.remove("ion-page-invisible"),G.style.removeProperty("pointer-events"),void 0!==X&&(X.classList.remove("ion-page-invisible"),X.style.removeProperty("pointer-events")),qe_setViewFocus(G)},Ee=function(){var H=(0,p.A)(function*(G){return G.leavingEl&&G.animated&&0!==G.duration?G.animationBuilder?G.animationBuilder:"ios"===G.mode?(yield Promise.resolve().then(L.bind(L,8454))).iosTransitionAnimation:(yield Promise.resolve().then(L.bind(L,3314))).mdTransitionAnimation:void 0});return function(X){return H.apply(this,arguments)}}(),Oe=function(){var H=(0,p.A)(function*(G,X){yield it(X,!0);const Ie=G(X.baseEl,X);$e(X.enteringEl,X.leavingEl);const je=yield Ze(Ie,X);return X.progressCallback&&X.progressCallback(void 0),je&&Lt(X.enteringEl,X.leavingEl),{hasCompleted:je,animation:Ie}});return function(X,Ie){return H.apply(this,arguments)}}(),le=function(){var H=(0,p.A)(function*(G){const X=G.enteringEl,Ie=G.leavingEl,je=c.c.get("focusManagerPriority",!1);return yield it(G,je),$e(X,Ie),Lt(X,Ie),{hasCompleted:!0}});return function(X){return H.apply(this,arguments)}}(),it=function(){var H=(0,p.A)(function*(G,X){(void 0!==G.deepWait?G.deepWait:X)&&(yield Promise.all([Xe(G.enteringEl),Xe(G.leavingEl)])),yield at(G.viewIsReady,G.enteringEl)});return function(X,Ie){return H.apply(this,arguments)}}(),at=function(){var H=(0,p.A)(function*(G,X){G&&(yield G(X))});return function(X,Ie){return H.apply(this,arguments)}}(),Ze=(H,G)=>{const X=G.progressCallback,Ie=new Promise(je=>{H.onFinish(Ue=>je(1===Ue))});return X?(H.progressStart(!0),X(H)):H.play(),Ie},$e=(H,G)=>{un(G,Le),un(H,"ionViewWillEnter")},Lt=(H,G)=>{un(H,"ionViewDidEnter"),un(G,He)},un=(H,G)=>{if(H){const X=new CustomEvent(G,{bubbles:!1,cancelable:!1});H.dispatchEvent(X)}},vt=()=>new Promise(H=>(0,he.r)(()=>(0,he.r)(()=>H()))),Xe=function(){var H=(0,p.A)(function*(G){const X=G;if(X){if(null!=X.componentOnReady){if(null!=(yield X.componentOnReady()))return}else if(null!=X.__registerHost)return void(yield new Promise(je=>(0,he.r)(je)));yield Promise.all(Array.from(X.children).map(Xe))}});return function(X){return H.apply(this,arguments)}}(),ht=(H,G)=>{G?(H.setAttribute("aria-hidden","true"),H.classList.add("ion-page-hidden")):(H.hidden=!1,H.removeAttribute("aria-hidden"),H.classList.remove("ion-page-hidden"))},Be=(H,G,X)=>{void 0!==H&&(H.style.zIndex="back"===X?"99":"101"),void 0!==G&&(G.style.zIndex="100")},ae=H=>H.classList.contains("ion-page")?H:H.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||H},4929:(fn,dt,L)=>{"use strict";L.d(dt,{a:()=>c,b:()=>J,p:()=>p});const p=(ne,...he)=>console.warn(`[Ionic Warning]: ${ne}`,...he),c=(ne,...he)=>console.error(`[Ionic Error]: ${ne}`,...he),J=(ne,...he)=>console.error(`<${ne.tagName.toLowerCase()}> must be used inside ${he.join(" or ")}.`)},8476:(fn,dt,L)=>{"use strict";L.d(dt,{d:()=>c,w:()=>p});const p=typeof window<"u"?window:void 0,c=typeof document<"u"?document:void 0},3664:(fn,dt,L)=>{"use strict";L.d(dt,{a:()=>de,b:()=>ht,c:()=>J,i:()=>Be});var p=L(9672);class c{constructor(){this.m=new Map}reset(H){this.m=new Map(Object.entries(H))}get(H,G){const X=this.m.get(H);return void 0!==X?X:G}getBoolean(H,G=!1){const X=this.m.get(H);return void 0===X?G:"string"==typeof X?"true"===X:!!X}getNumber(H,G){const X=parseFloat(this.m.get(H));return isNaN(X)?void 0!==G?G:NaN:X}set(H,G){this.m.set(H,G)}}const J=new c,He="ionic-persist-config",de=(ae,H)=>("string"==typeof ae&&(H=ae,ae=void 0),(ae=>Ne(ae))(ae).includes(H)),Ne=(ae=window)=>{if(typeof ae>"u")return[];ae.Ionic=ae.Ionic||{};let H=ae.Ionic.platforms;return null==H&&(H=ae.Ionic.platforms=Ve(ae),H.forEach(G=>ae.document.documentElement.classList.add(`plt-${G}`))),H},Ve=ae=>{const H=J.get("platform");return Object.keys(vt).filter(G=>{const X=null==H?void 0:H[G];return"function"==typeof X?X(ae):vt[G](ae)})},We=ae=>!!(Lt(ae,/iPad/i)||Lt(ae,/Macintosh/i)&&Ee(ae)),Ye=ae=>Lt(ae,/android|sink/i),Ee=ae=>un(ae,"(any-pointer:coarse)"),le=ae=>it(ae)||at(ae),it=ae=>!!(ae.cordova||ae.phonegap||ae.PhoneGap),at=ae=>{const H=ae.Capacitor;return!(null==H||!H.isNative)},Lt=(ae,H)=>H.test(ae.navigator.userAgent),un=(ae,H)=>{var G;return null===(G=ae.matchMedia)||void 0===G?void 0:G.call(ae,H).matches},vt={ipad:We,iphone:ae=>Lt(ae,/iPhone/i),ios:ae=>Lt(ae,/iPhone|iPod/i)||We(ae),android:Ye,phablet:ae=>{const H=ae.innerWidth,G=ae.innerHeight,X=Math.min(H,G),Ie=Math.max(H,G);return X>390&&X<520&&Ie>620&&Ie<800},tablet:ae=>{const H=ae.innerWidth,G=ae.innerHeight,X=Math.min(H,G),Ie=Math.max(H,G);return We(ae)||(ae=>Ye(ae)&&!Lt(ae,/mobile/i))(ae)||X>460&&X<820&&Ie>780&&Ie<1400},cordova:it,capacitor:at,electron:ae=>Lt(ae,/electron/i),pwa:ae=>{var H;return!!(null!==(H=ae.matchMedia)&&void 0!==H&&H.call(ae,"(display-mode: standalone)").matches||ae.navigator.standalone)},mobile:Ee,mobileweb:ae=>Ee(ae)&&!le(ae),desktop:ae=>!Ee(ae),hybrid:le};let Xe;const ht=ae=>ae&&(0,p.g)(ae)||Xe,Be=(ae={})=>{if(typeof window>"u")return;const H=window.document,G=window,X=G.Ionic=G.Ionic||{},Ie={};ae._ael&&(Ie.ael=ae._ael),ae._rel&&(Ie.rel=ae._rel),ae._ce&&(Ie.ce=ae._ce),(0,p.a)(Ie);const je=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(ae=>{try{const H=ae.sessionStorage.getItem(He);return null!==H?JSON.parse(H):{}}catch{return{}}})(G)),{persistConfig:!1}),X.config),(ae=>{const H={};return ae.location.search.slice(1).split("&").map(G=>G.split("=")).map(([G,X])=>{try{return[decodeURIComponent(G),decodeURIComponent(X)]}catch{return["",""]}}).filter(([G])=>((ae,H)=>ae.substr(0,H.length)===H)(G,"ionic:")).map(([G,X])=>[G.slice(6),X]).forEach(([G,X])=>{H[G]=X}),H})(G)),ae);J.reset(je),J.getBoolean("persistConfig")&&((ae,H)=>{try{ae.sessionStorage.setItem(He,JSON.stringify(H))}catch{return}})(G,je),Ne(G),X.config=J,X.mode=Xe=J.get("mode",H.documentElement.getAttribute("mode")||(de(G,"ios")?"ios":"md")),J.set("mode",Xe),H.documentElement.setAttribute("mode",Xe),H.documentElement.classList.add(Xe),J.getBoolean("_testing")&&J.set("animated",!1);const Ue=jt=>{var Mn;return null===(Mn=jt.tagName)||void 0===Mn?void 0:Mn.startsWith("ION-")},xe=jt=>["ios","md"].includes(jt);(0,p.c)(jt=>{for(;jt;){const Mn=jt.mode||jt.getAttribute("mode");if(Mn){if(xe(Mn))return Mn;Ue(jt)&&console.warn('Invalid ionic mode: "'+Mn+'", expected: "ios" or "md"')}jt=jt.parentElement}return Xe})}},8454:(fn,dt,L)=>{"use strict";L.r(dt),L.d(dt,{iosTransitionAnimation:()=>ke,shadow:()=>Le});var p=L(9986),c=L(2725);L(8476),L(3664),L(9672);const re=ut=>document.querySelector(`${ut}.ion-cloned-element`),Le=ut=>ut.shadowRoot||ut,He=ut=>{const qe="ION-TABS"===ut.tagName?ut:ut.querySelector("ion-tabs"),Ye="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=qe){const At=qe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=At?At.querySelector(Ye):null}return ut.querySelector(Ye)},Te=(ut,qe)=>{const Ye="ION-TABS"===ut.tagName?ut:ut.querySelector("ion-tabs");let At=[];if(null!=Ye){const rt=Ye.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=rt&&(At=rt.querySelectorAll("ion-buttons"))}else At=ut.querySelectorAll("ion-buttons");for(const rt of At){const It=rt.closest("ion-header"),Ee=It&&!It.classList.contains("header-collapse-condense-inactive"),Oe=rt.querySelector("ion-back-button"),le=rt.classList.contains("buttons-collapse");if(null!==Oe&&("start"===rt.slot||""===rt.slot)&&(le&&Ee&&qe||!le))return Oe}return null},Ne=(ut,qe,Ye,At,rt,It,Ee,Oe,le)=>{var it,at;const Ze=qe?`calc(100% - ${rt.right+4}px)`:rt.left-4+"px",$e=qe?"right":"left",Lt=qe?"left":"right",un=qe?"right":"left";let vt=1,Xe=1,ht=`scale(${Xe})`;const Be="scale(1)";if(It&&Ee){const bt=(null===(it=It.textContent)||void 0===it?void 0:it.trim())===(null===(at=Oe.textContent)||void 0===at?void 0:at.trim());vt=le.width/Ee.width,Xe=(le.height-We)/Ee.height,ht=bt?`scale(${vt}, ${Xe})`:`scale(${Xe})`}const H=Le(At).querySelector("ion-icon").getBoundingClientRect(),G=qe?H.width/2-(H.right-rt.right)+"px":rt.left-H.width/2+"px",X=qe?`-${window.innerWidth-rt.right}px`:`${rt.left}px`,Ie=`${le.top}px`,je=`${rt.top}px`,jt=Ye?[{offset:0,transform:`translate3d(${X}, ${je}, 0)`},{offset:1,transform:`translate3d(${G}, ${Ie}, 0)`}]:[{offset:0,transform:`translate3d(${G}, ${Ie}, 0)`},{offset:1,transform:`translate3d(${X}, ${je}, 0)`}],Yt=Ye?[{offset:0,opacity:1,transform:Be},{offset:1,opacity:0,transform:ht}]:[{offset:0,opacity:0,transform:ht},{offset:1,opacity:1,transform:Be}],lr=Ye?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Jn=(0,p.c)(),Kn=(0,p.c)(),On=(0,p.c)(),Gn=re("ion-back-button"),pt=Le(Gn).querySelector(".button-text"),Et=Le(Gn).querySelector("ion-icon");Gn.text=At.text,Gn.mode=At.mode,Gn.icon=At.icon,Gn.color=At.color,Gn.disabled=At.disabled,Gn.style.setProperty("display","block"),Gn.style.setProperty("position","fixed"),Kn.addElement(Et),Jn.addElement(pt),On.addElement(Gn),On.beforeStyles({position:"absolute",top:"0px",[un]:"0px"}).beforeAddWrite(()=>{At.style.setProperty("display","none"),Gn.style.setProperty($e,Ze)}).afterAddWrite(()=>{At.style.setProperty("display",""),Gn.style.setProperty("display","none"),Gn.style.removeProperty($e)}).keyframes(jt),Jn.beforeStyles({"transform-origin":`${$e} top`}).keyframes(Yt),Kn.beforeStyles({"transform-origin":`${Lt} center`}).keyframes(lr),ut.addAnimation([Jn,Kn,On])},Ve=(ut,qe,Ye,At,rt,It,Ee,Oe,le)=>{var it,at;const Ze=qe?"right":"left",$e=qe?`calc(100% - ${rt.right}px)`:`${rt.left}px`,un=`${rt.top}px`;let Xe=qe?`-${window.innerWidth-Ee.right-8}px`:`${Ee.x+8}px`,ht=.5;const Be="scale(1)";let ae=`scale(${ht})`;if(Oe&&le){Xe=qe?`-${window.innerWidth-le.right-8}px`:le.x-8+"px";const Mn=(null===(it=Oe.textContent)||void 0===it?void 0:it.trim())===(null===(at=At.textContent)||void 0===at?void 0:at.trim());ht=le.height/(It.height-We),ae=Mn?`scale(${le.width/It.width}, ${ht})`:`scale(${ht})`}const X=Ee.top+Ee.height/2-rt.height*ht/2+"px",Ue=Ye?[{offset:0,opacity:0,transform:`translate3d(${Xe}, ${X}, 0) ${ae}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${un}, 0) ${Be}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${un}, 0) ${Be}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Xe}, ${X}, 0) ${ae}`}],xe=re("ion-title"),jt=(0,p.c)();xe.innerText=At.innerText,xe.size=At.size,xe.color=At.color,jt.addElement(xe),jt.beforeStyles({"transform-origin":`${Ze} top`,height:`${rt.height}px`,display:"",position:"relative",[Ze]:$e}).beforeAddWrite(()=>{At.style.setProperty("opacity","0")}).afterAddWrite(()=>{At.style.setProperty("opacity",""),xe.style.setProperty("display","none")}).keyframes(Ue),ut.addAnimation(jt)},ke=(ut,qe)=>{var Ye;try{const At="cubic-bezier(0.32,0.72,0,1)",rt="opacity",It="transform",Ee="0%",le="rtl"===ut.ownerDocument.dir,it=le?"-99.5%":"99.5%",at=le?"33%":"-33%",Ze=qe.enteringEl,$e=qe.leavingEl,Lt="back"===qe.direction,un=Ze.querySelector(":scope > ion-content"),vt=Ze.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Xe=Ze.querySelectorAll(":scope > ion-header > ion-toolbar"),ht=(0,p.c)(),Be=(0,p.c)();if(ht.addElement(Ze).duration((null!==(Ye=qe.duration)&&void 0!==Ye?Ye:0)||540).easing(qe.easing||At).fill("both").beforeRemoveClass("ion-page-invisible"),$e&&null!=ut){const X=(0,p.c)();X.addElement(ut),ht.addAnimation(X)}if(un||0!==Xe.length||0!==vt.length?(Be.addElement(un),Be.addElement(vt)):Be.addElement(Ze.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ht.addAnimation(Be),Lt?Be.beforeClearStyles([rt]).fromTo("transform",`translateX(${at})`,`translateX(${Ee})`).fromTo(rt,.8,1):Be.beforeClearStyles([rt]).fromTo("transform",`translateX(${it})`,`translateX(${Ee})`),un){const X=Le(un).querySelector(".transition-effect");if(X){const Ie=X.querySelector(".transition-cover"),je=X.querySelector(".transition-shadow"),Ue=(0,p.c)(),xe=(0,p.c)(),jt=(0,p.c)();Ue.addElement(X).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),xe.addElement(Ie).beforeClearStyles([rt]).fromTo(rt,0,.1),jt.addElement(je).beforeClearStyles([rt]).fromTo(rt,.03,.7),Ue.addAnimation([xe,jt]),Be.addAnimation([Ue])}}const ae=Ze.querySelector("ion-header.header-collapse-condense"),{forward:H,backward:G}=((ut,qe,Ye,At,rt)=>{const It=Te(At,Ye),Ee=He(rt),Oe=He(At),le=Te(rt,Ye),it=null!==It&&null!==Ee&&!Ye,at=null!==Oe&&null!==le&&Ye;if(it){const Ze=Ee.getBoundingClientRect(),$e=It.getBoundingClientRect(),Lt=Le(It).querySelector(".button-text"),un=null==Lt?void 0:Lt.getBoundingClientRect(),Xe=Le(Ee).querySelector(".toolbar-title").getBoundingClientRect();Ve(ut,qe,Ye,Ee,Ze,Xe,$e,Lt,un),Ne(ut,qe,Ye,It,$e,Lt,un,Ee,Xe)}else if(at){const Ze=Oe.getBoundingClientRect(),$e=le.getBoundingClientRect(),Lt=Le(le).querySelector(".button-text"),un=null==Lt?void 0:Lt.getBoundingClientRect(),Xe=Le(Oe).querySelector(".toolbar-title").getBoundingClientRect();Ve(ut,qe,Ye,Oe,Ze,Xe,$e,Lt,un),Ne(ut,qe,Ye,le,$e,Lt,un,Oe,Xe)}return{forward:it,backward:at}})(ht,le,Lt,Ze,$e);if(Xe.forEach(X=>{const Ie=(0,p.c)();Ie.addElement(X),ht.addAnimation(Ie);const je=(0,p.c)();je.addElement(X.querySelector("ion-title"));const Ue=(0,p.c)(),xe=Array.from(X.querySelectorAll("ion-buttons,[menuToggle]")),jt=X.closest("ion-header"),Mn=null==jt?void 0:jt.classList.contains("header-collapse-condense-inactive");let cn;cn=xe.filter(Lt?Jn=>{const Kn=Jn.classList.contains("buttons-collapse");return Kn&&!Mn||!Kn}:Jn=>!Jn.classList.contains("buttons-collapse")),Ue.addElement(cn);const Yt=(0,p.c)();Yt.addElement(X.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Sn=(0,p.c)();Sn.addElement(Le(X).querySelector(".toolbar-background"));const Wn=(0,p.c)(),lr=X.querySelector("ion-back-button");if(lr&&Wn.addElement(lr),Ie.addAnimation([je,Ue,Yt,Sn,Wn]),Ue.fromTo(rt,.01,1),Yt.fromTo(rt,.01,1),Lt)Mn||je.fromTo("transform",`translateX(${at})`,`translateX(${Ee})`).fromTo(rt,.01,1),Yt.fromTo("transform",`translateX(${at})`,`translateX(${Ee})`),Wn.fromTo(rt,.01,1);else if(ae||je.fromTo("transform",`translateX(${it})`,`translateX(${Ee})`).fromTo(rt,.01,1),Yt.fromTo("transform",`translateX(${it})`,`translateX(${Ee})`),Sn.beforeClearStyles([rt,"transform"]),(null==jt?void 0:jt.translucent)?Sn.fromTo("transform",le?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Sn.fromTo(rt,.01,"var(--opacity)"),H||Wn.fromTo(rt,.01,1),lr&&!H){const Kn=(0,p.c)();Kn.addElement(Le(lr).querySelector(".button-text")).fromTo("transform",le?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ie.addAnimation(Kn)}}),$e){const X=(0,p.c)(),Ie=$e.querySelector(":scope > ion-content"),je=$e.querySelectorAll(":scope > ion-header > ion-toolbar"),Ue=$e.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ie||0!==je.length||0!==Ue.length?(X.addElement(Ie),X.addElement(Ue)):X.addElement($e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ht.addAnimation(X),Lt){X.beforeClearStyles([rt]).fromTo("transform",`translateX(${Ee})`,le?"translateX(-100%)":"translateX(100%)");const xe=(0,c.g)($e);ht.afterAddWrite(()=>{"normal"===ht.getDirection()&&xe.style.setProperty("display","none")})}else X.fromTo("transform",`translateX(${Ee})`,`translateX(${at})`).fromTo(rt,1,.8);if(Ie){const xe=Le(Ie).querySelector(".transition-effect");if(xe){const jt=xe.querySelector(".transition-cover"),Mn=xe.querySelector(".transition-shadow"),cn=(0,p.c)(),Yt=(0,p.c)(),Sn=(0,p.c)();cn.addElement(xe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Yt.addElement(jt).beforeClearStyles([rt]).fromTo(rt,.1,0),Sn.addElement(Mn).beforeClearStyles([rt]).fromTo(rt,.7,.03),cn.addAnimation([Yt,Sn]),X.addAnimation([cn])}}je.forEach(xe=>{const jt=(0,p.c)();jt.addElement(xe);const Mn=(0,p.c)();Mn.addElement(xe.querySelector("ion-title"));const cn=(0,p.c)(),Yt=xe.querySelectorAll("ion-buttons,[menuToggle]"),Sn=xe.closest("ion-header"),Wn=null==Sn?void 0:Sn.classList.contains("header-collapse-condense-inactive"),lr=Array.from(Yt).filter(Et=>{const bt=Et.classList.contains("buttons-collapse");return bt&&!Wn||!bt});cn.addElement(lr);const Jn=(0,p.c)(),Kn=xe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Kn.length>0&&Jn.addElement(Kn);const On=(0,p.c)();On.addElement(Le(xe).querySelector(".toolbar-background"));const Gn=(0,p.c)(),pt=xe.querySelector("ion-back-button");if(pt&&Gn.addElement(pt),jt.addAnimation([Mn,cn,Jn,Gn,On]),ht.addAnimation(jt),Gn.fromTo(rt,.99,0),cn.fromTo(rt,.99,0),Jn.fromTo(rt,.99,0),Lt){if(Wn||Mn.fromTo("transform",`translateX(${Ee})`,le?"translateX(-100%)":"translateX(100%)").fromTo(rt,.99,0),Jn.fromTo("transform",`translateX(${Ee})`,le?"translateX(-100%)":"translateX(100%)"),On.beforeClearStyles([rt,"transform"]),(null==Sn?void 0:Sn.translucent)?On.fromTo("transform","translateX(0px)",le?"translateX(-100%)":"translateX(100%)"):On.fromTo(rt,"var(--opacity)",0),pt&&!G){const bt=(0,p.c)();bt.addElement(Le(pt).querySelector(".button-text")).fromTo("transform",`translateX(${Ee})`,`translateX(${(le?-124:124)+"px"})`),jt.addAnimation(bt)}}else Wn||Mn.fromTo("transform",`translateX(${Ee})`,`translateX(${at})`).fromTo(rt,.99,0).afterClearStyles([It,rt]),Jn.fromTo("transform",`translateX(${Ee})`,`translateX(${at})`).afterClearStyles([It,rt]),Gn.afterClearStyles([rt]),Mn.afterClearStyles([rt]),cn.afterClearStyles([rt])})}return ht}catch(At){throw At}},We=10},3314:(fn,dt,L)=>{"use strict";L.r(dt),L.d(dt,{mdTransitionAnimation:()=>Se});var p=L(9986),c=L(2725);L(8476),L(3664),L(9672);const Se=(re,Le)=>{var He,Te,de;const ke="back"===Le.direction,ut=Le.leavingEl,qe=(0,c.g)(Le.enteringEl),Ye=qe.querySelector("ion-toolbar"),At=(0,p.c)();if(At.addElement(qe).fill("both").beforeRemoveClass("ion-page-invisible"),ke?At.duration((null!==(He=Le.duration)&&void 0!==He?He:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):At.duration((null!==(Te=Le.duration)&&void 0!==Te?Te:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Ye){const rt=(0,p.c)();rt.addElement(Ye),At.addAnimation(rt)}if(ut&&ke){At.duration((null!==(de=Le.duration)&&void 0!==de?de:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const rt=(0,p.c)();rt.addElement((0,c.g)(ut)).onFinish(It=>{1===It&&rt.elements.length>0&&rt.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),At.addAnimation(rt)}return At}},6002:(fn,dt,L)=>{"use strict";L.d(dt,{B:()=>Yt,F:()=>Gn,G:()=>Sn,O:()=>Wn,a:()=>qe,b:()=>Ye,c:()=>Ee,d:()=>lr,e:()=>Jn,f:()=>H,g:()=>X,h:()=>Ue,i:()=>jt,j:()=>le,k:()=>it,m:()=>rt,n:()=>Te,o:()=>Be,q:()=>de,s:()=>cn});var p=L(467),c=L(8476),J=L(4920),ne=L(6411),he=L(3664),Se=L(8621),re=L(1970),Le=L(4929);const He='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Te=(pt,Et)=>{const bt=pt.querySelector(He);Ne(bt,null!=Et?Et:pt)},de=(pt,Et)=>{const bt=Array.from(pt.querySelectorAll(He));Ne(bt.length>0?bt[bt.length-1]:null,null!=Et?Et:pt)},Ne=(pt,Et)=>{let bt=pt;const mn=null==pt?void 0:pt.shadowRoot;mn&&(bt=mn.querySelector(He)||pt),bt?(0,J.f)(bt):Et.focus()};let Ve=0,ke=0;const We=new WeakMap,ut=pt=>({create:Et=>at(pt,Et),dismiss:(Et,bt,mn)=>vt(document,Et,bt,pt,mn),getTop:()=>(0,p.A)(function*(){return Be(document,pt)})()}),qe=ut("ion-alert"),Ye=ut("ion-action-sheet"),rt=ut("ion-modal"),Ee=ut("ion-popover"),le=pt=>{typeof document<"u"&&un(document);const Et=Ve++;pt.overlayIndex=Et},it=pt=>(pt.hasAttribute("id")||(pt.id="ion-overlay-"+ ++ke),pt.id),at=(pt,Et)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(pt).then(()=>{const bt=document.createElement(pt);return bt.classList.add("overlay-hidden"),Object.assign(bt,Object.assign(Object.assign({},Et),{hasController:!0})),Ie(document).appendChild(bt),new Promise(mn=>(0,J.c)(bt,mn))}):Promise.resolve(),$e=(pt,Et)=>{let bt=pt;const mn=null==pt?void 0:pt.shadowRoot;mn&&(bt=mn.querySelector(He)||pt),bt?(0,J.f)(bt):Et.focus()},un=pt=>{0===Ve&&(Ve=1,pt.addEventListener("focus",Et=>{((pt,Et)=>{const bt=Be(Et,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),mn=pt.target;bt&&mn&&!bt.classList.contains(Gn)&&(bt.shadowRoot?(()=>{if(bt.contains(mn))bt.lastFocus=mn;else if("ION-TOAST"===mn.tagName)$e(bt.lastFocus,bt);else{const Zn=bt.lastFocus;Te(bt),Zn===Et.activeElement&&de(bt),bt.lastFocus=Et.activeElement}})():(()=>{if(bt===mn)bt.lastFocus=void 0;else if("ION-TOAST"===mn.tagName)$e(bt.lastFocus,bt);else{const Zn=(0,J.g)(bt);if(!Zn.contains(mn))return;const En=Zn.querySelector(".ion-overlay-wrapper");if(!En)return;if(En.contains(mn)||mn===Zn.querySelector("ion-backdrop"))bt.lastFocus=mn;else{const vn=bt.lastFocus;Te(En,bt),vn===Et.activeElement&&de(En,bt),bt.lastFocus=Et.activeElement}}})())})(Et,pt)},!0),pt.addEventListener("ionBackButton",Et=>{const bt=Be(pt);null!=bt&&bt.backdropDismiss&&Et.detail.register(ne.OVERLAY_BACK_BUTTON_PRIORITY,()=>{bt.dismiss(void 0,Yt)})}),(0,ne.shouldUseCloseWatcher)()||pt.addEventListener("keydown",Et=>{if("Escape"===Et.key){const bt=Be(pt);null!=bt&&bt.backdropDismiss&&bt.dismiss(void 0,Yt)}}))},vt=(pt,Et,bt,mn,Yn)=>{const Fr=Be(pt,mn,Yn);return Fr?Fr.dismiss(Et,bt):Promise.reject("overlay does not exist")},ht=(pt,Et)=>((pt,Et)=>(void 0===Et&&(Et="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(pt.querySelectorAll(Et)).filter(bt=>bt.overlayIndex>0)))(pt,Et).filter(bt=>!(pt=>pt.classList.contains("overlay-hidden"))(bt)),Be=(pt,Et,bt)=>{const mn=ht(pt,Et);return void 0===bt?mn[mn.length-1]:mn.find(Yn=>Yn.id===bt)},ae=(pt=!1)=>{const bt=Ie(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");bt&&(pt?bt.setAttribute("aria-hidden","true"):bt.removeAttribute("aria-hidden"))},H=function(){var pt=(0,p.A)(function*(Et,bt,mn,Yn,Fr){var Zn,En;if(Et.presented)return;ae(!0),document.body.classList.add(re.B),Kn(Et.el),Et.presented=!0,Et.willPresent.emit(),null===(Zn=Et.willPresentShorthand)||void 0===Zn||Zn.emit();const vn=(0,he.b)(Et),er=Et.enterAnimation?Et.enterAnimation:he.c.get(bt,"ios"===vn?mn:Yn);(yield je(Et,er,Et.el,Fr))&&(Et.didPresent.emit(),null===(En=Et.didPresentShorthand)||void 0===En||En.emit()),"ION-TOAST"!==Et.el.tagName&&G(Et.el),Et.keyboardClose&&(null===document.activeElement||!Et.el.contains(document.activeElement))&&Et.el.focus(),Et.el.removeAttribute("aria-hidden")});return function(bt,mn,Yn,Fr,Zn){return pt.apply(this,arguments)}}(),G=function(){var pt=(0,p.A)(function*(Et){let bt=document.activeElement;if(!bt)return;const mn=null==bt?void 0:bt.shadowRoot;mn&&(bt=mn.querySelector(He)||bt),yield Et.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&bt.focus()});return function(bt){return pt.apply(this,arguments)}}(),X=function(){var pt=(0,p.A)(function*(Et,bt,mn,Yn,Fr,Zn,En){var vn,er;if(!Et.presented)return!1;void 0!==c.d&&1===ht(c.d).length&&(ae(!1),document.body.classList.remove(re.B)),Et.presented=!1;try{Et.el.style.setProperty("pointer-events","none"),Et.willDismiss.emit({data:bt,role:mn}),null===(vn=Et.willDismissShorthand)||void 0===vn||vn.emit({data:bt,role:mn});const hr=(0,he.b)(Et),Gr=Et.leaveAnimation?Et.leaveAnimation:he.c.get(Yn,"ios"===hr?Fr:Zn);mn!==Sn&&(yield je(Et,Gr,Et.el,En)),Et.didDismiss.emit({data:bt,role:mn}),null===(er=Et.didDismissShorthand)||void 0===er||er.emit({data:bt,role:mn}),(We.get(Et)||[]).forEach(Pr=>Pr.destroy()),We.delete(Et),Et.el.classList.add("overlay-hidden"),Et.el.style.removeProperty("pointer-events"),void 0!==Et.el.lastFocus&&(Et.el.lastFocus=void 0)}catch(hr){console.error(hr)}return Et.el.remove(),On(),!0});return function(bt,mn,Yn,Fr,Zn,En,vn){return pt.apply(this,arguments)}}(),Ie=pt=>pt.querySelector("ion-app")||pt.body,je=function(){var pt=(0,p.A)(function*(Et,bt,mn,Yn){mn.classList.remove("overlay-hidden");const Zn=bt(Et.el,Yn);(!Et.animated||!he.c.getBoolean("animated",!0))&&Zn.duration(0),Et.keyboardClose&&Zn.beforeAddWrite(()=>{const vn=mn.ownerDocument.activeElement;null!=vn&&vn.matches("input,ion-input, ion-textarea")&&vn.blur()});const En=We.get(Et)||[];return We.set(Et,[...En,Zn]),yield Zn.play(),!0});return function(bt,mn,Yn,Fr){return pt.apply(this,arguments)}}(),Ue=(pt,Et)=>{let bt;const mn=new Promise(Yn=>bt=Yn);return xe(pt,Et,Yn=>{bt(Yn.detail)}),mn},xe=(pt,Et,bt)=>{const mn=Yn=>{(0,J.b)(pt,Et,mn),bt(Yn)};(0,J.a)(pt,Et,mn)},jt=pt=>"cancel"===pt||pt===Yt,Mn=pt=>pt(),cn=(pt,Et)=>{if("function"==typeof pt)return he.c.get("_zoneGate",Mn)(()=>{try{return pt(Et)}catch(mn){throw mn}})},Yt="backdrop",Sn="gesture",Wn=39,lr=pt=>{let bt,Et=!1;const mn=(0,Se.C)(),Yn=(En=!1)=>{if(bt&&!En)return{delegate:bt,inline:Et};const{el:vn,hasController:er,delegate:gr}=pt;return Et=null!==vn.parentNode&&!er,bt=Et?gr||mn:gr,{inline:Et,delegate:bt}};return{attachViewToDom:function(){var En=(0,p.A)(function*(vn){const{delegate:er}=Yn(!0);if(er)return yield er.attachViewToDom(pt.el,vn);const{hasController:gr}=pt;if(gr&&void 0!==vn)throw new Error("framework delegate is missing");return null});return function(er){return En.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:En}=Yn();En&&void 0!==pt.el&&En.removeViewFromDom(pt.el.parentElement,pt.el)}}},Jn=()=>{let pt;const Et=()=>{pt&&(pt(),pt=void 0)};return{addClickListener:(mn,Yn)=>{Et();const Fr=void 0!==Yn?document.getElementById(Yn):null;Fr?pt=((En,vn)=>{const er=()=>{vn.present()};return En.addEventListener("click",er),()=>{En.removeEventListener("click",er)}})(Fr,mn):(0,Le.p)(`A trigger element with the ID "${Yn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,mn)},removeClickListener:Et}},Kn=pt=>{var Et;if(void 0===c.d)return;const bt=ht(c.d);for(let mn=bt.length-1;mn>=0;mn--){const Yn=bt[mn],Fr=null!==(Et=bt[mn+1])&&void 0!==Et?Et:pt;(Fr.hasAttribute("aria-hidden")||"ION-TOAST"!==Fr.tagName)&&Yn.setAttribute("aria-hidden","true")}},On=()=>{if(void 0===c.d)return;const pt=ht(c.d);for(let Et=pt.length-1;Et>=0;Et--){const bt=pt[Et];if(bt.removeAttribute("aria-hidden"),"ION-TOAST"!==bt.tagName)break}},Gn="ion-disable-focus-trap"},1877:(fn,dt,L)=>{"use strict";var p=L(345),c=L(4438),J=L(4964),ne=L(2872),he=L(7863);let Se=(()=>{var a;class e{constructor(){}}return(a=e).\u0275fac=function(s){return new(s||a)},a.\u0275cmp=c.VBU({type:a,selectors:[["app-root"]],decls:2,vars:0,template:function(s,u){1&s&&(c.j41(0,"ion-app"),c.nrm(1,"ion-router-outlet"),c.k0s())},dependencies:[he.U1,he.Rg]}),e})();const re=[{path:"home",loadChildren:()=>L.e(6973).then(L.bind(L,6973)).then(a=>a.HomePageModule)},{path:"",redirectTo:"home",pathMatch:"full"}];let Le=(()=>{var a;class e{}return(a=e).\u0275fac=function(s){return new(s||a)},a.\u0275mod=c.$C({type:a}),a.\u0275inj=c.G2t({imports:[J.iI.forRoot(re,{preloadingStrategy:J.Kp}),J.iI]}),e})();var He=L(5797),Te=L(1319),de=L(9842),Ne=L(1825),Ve=L(1985),ke=L(7673),We=L(8455),ut=L(3236),qe=L(9974),Ye=L(4360),rt=L(6354),It=L(5558),Ee=L(9253),Oe=L(3345),le=L(467),it=L(7852),at=L(1076),Ze=L(1362);const $e="firebasestorage.googleapis.com",Lt="storageBucket";class ht extends at.g{constructor(e,r,s=0){super(ae(e),`Firebase Storage: ${r} (${ae(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ht.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ae(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Be=function(a){return a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment",a}(Be||{});function ae(a){return"storage/"+a}function H(){return new ht(Be.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function xe(){return new ht(Be.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jt(){return new ht(Be.CANCELED,"User canceled the upload/download.")}function Sn(){return new ht(Be.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Kn(a){return new ht(Be.INVALID_ARGUMENT,a)}function On(){return new ht(Be.APP_DELETED,"The Firebase app was deleted.")}function Gn(a){return new ht(Be.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pt(a,e){return new ht(Be.INVALID_FORMAT,"String does not match format '"+a+"': "+e)}function Et(a){throw new ht(Be.INTERNAL_ERROR,"Internal error: "+a)}class bt{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let s;try{s=bt.makeFromUrl(e,r)}catch{return new bt(e,"")}if(""===s.path)return s;throw function cn(a){return new ht(Be.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}(e)}static makeFromUrl(e,r){let s=null;const u="([A-Za-z0-9.\\-_]+)",C=new RegExp("^gs://"+u+"(/(.*))?$","i");function B(zn){zn.path_=decodeURIComponent(zn.path)}const Ae=r.replace(/[.]/g,"\\."),bn=[{regex:C,indices:{bucket:1,path:3},postModify:function f(zn){"/"===zn.path.charAt(zn.path.length-1)&&(zn.path_=zn.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Ae}/v[A-Za-z0-9_]+/b/${u}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:B},{regex:new RegExp(`^https?://${r===$e?"(?:storage.googleapis.com|storage.cloud.google.com)":r}/${u}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:B}];for(let zn=0;zn<bn.length;zn++){const Br=bn[zn],_r=Br.regex.exec(e);if(_r){let Ge=_r[Br.indices.path];Ge||(Ge=""),s=new bt(_r[Br.indices.bucket],Ge),Br.postModify(s);break}}if(null==s)throw function Mn(a){return new ht(Be.INVALID_URL,"Invalid URL '"+a+"'.")}(e);return s}}class mn{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function er(a){return"string"==typeof a||a instanceof String}function gr(a){return hr()&&a instanceof Blob}function hr(){return typeof Blob<"u"}function Gr(a,e,r,s){if(s<e)throw Kn(`Invalid value for '${a}'. Expected ${e} or greater.`);if(s>r)throw Kn(`Invalid value for '${a}'. Expected ${r} or less.`)}function Pn(a,e,r){let s=e;return null==r&&(s=`https://${e}`),`${r}://${s}/v0${a}`}function Pr(a){const e=encodeURIComponent;let r="?";for(const s in a)a.hasOwnProperty(s)&&(r=r+(e(s)+"=")+e(a[s])+"&");return r=r.slice(0,-1),r}var Ln=function(a){return a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT",a}(Ln||{});function Zr(a,e){const r=a>=500&&a<600,u=-1!==[408,429].indexOf(a),f=-1!==e.indexOf(a);return r||u||f}class fr{constructor(e,r,s,u,f,v,C,R,B,ee,Ae,Ke=!0){this.url_=e,this.method_=r,this.headers_=s,this.body_=u,this.successCodes_=f,this.additionalRetryCodes_=v,this.callback_=C,this.errorCallback_=R,this.timeout_=B,this.progressCallback_=ee,this.connectionFactory_=Ae,this.retry=Ke,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Dt,Ht)=>{this.resolve_=Dt,this.reject_=Ht,this.start_()})}start_(){const r=(s,u)=>{const f=this.resolve_,v=this.reject_,C=u.connection;if(u.wasSuccessCode)try{const R=this.callback_(C,C.getResponse());!function Zn(a){return void 0!==a}(R)?f():f(R)}catch(R){v(R)}else if(null!==C){const R=H();R.serverResponse=C.getErrorText(),v(this.errorCallback_?this.errorCallback_(C,R):R)}else v(u.canceled?this.appDelete_?On():jt():xe())};this.canceled_?r(0,new Bn(!1,null,!0)):this.backoffId_=function Yn(a,e,r){let s=1,u=null,f=null,v=!1,C=0;function R(){return 2===C}let B=!1;function ee(...Kt){B||(B=!0,e.apply(null,Kt))}function Ae(Kt){u=setTimeout(()=>{u=null,a(Dt,R())},Kt)}function Ke(){f&&clearTimeout(f)}function Dt(Kt,...Nn){if(B)return void Ke();if(Kt)return Ke(),void ee.call(null,Kt,...Nn);if(R()||v)return Ke(),void ee.call(null,Kt,...Nn);let bn;s<64&&(s*=2),1===C?(C=2,bn=0):bn=1e3*(s+Math.random()),Ae(bn)}let Ht=!1;function rn(Kt){Ht||(Ht=!0,Ke(),!B&&(null!==u?(Kt||(C=2),clearTimeout(u),Ae(0)):Kt||(C=1)))}return Ae(0),f=setTimeout(()=>{v=!0,rn(!0)},r),rn}((s,u)=>{if(u)return void s(!1,new Bn(!1,null,!0));const f=this.connectionFactory_();this.pendingConnection_=f;const v=C=>{null!==this.progressCallback_&&this.progressCallback_(C.loaded,C.lengthComputable?C.total:-1)};null!==this.progressCallback_&&f.addUploadProgressListener(v),f.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&f.removeUploadProgressListener(v),this.pendingConnection_=null;const C=f.getErrorCode()===Ln.NO_ERROR,R=f.getStatus();if(!C||Zr(R,this.additionalRetryCodes_)&&this.retry){const ee=f.getErrorCode()===Ln.ABORT;return void s(!1,new Bn(!1,null,ee))}const B=-1!==this.successCodes_.indexOf(R);s(!0,new Bn(B,f))})},r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Fr(a){a(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Bn{constructor(e,r,s){this.wasSuccessCode=e,this.connection=r,this.canceled=!!s}}function ft(...a){const e=function Qr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const r=new e;for(let s=0;s<a.length;s++)r.append(a[s]);return r.getBlob()}if(hr())return new Blob(a);throw new ht(Be.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Je={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ce{constructor(e,r){this.data=e,this.contentType=r||null}}function pe(a,e){switch(a){case Je.RAW:return new ce(Fe(e));case Je.BASE64:case Je.BASE64URL:return new ce(_t(a,e));case Je.DATA_URL:return new ce(function Cn(a){const e=new dn(a);return e.base64?_t(Je.BASE64,e.rest):function xt(a){let e;try{e=decodeURIComponent(a)}catch{throw pt(Je.DATA_URL,"Malformed data URL.")}return Fe(e)}(e.rest)}(e),function tr(a){return new dn(a).contentType}(e))}throw H()}function Fe(a){const e=[];for(let r=0;r<a.length;r++){let s=a.charCodeAt(r);s<=127?e.push(s):s<=2047?e.push(192|s>>6,128|63&s):55296==(64512&s)?r<a.length-1&&56320==(64512&a.charCodeAt(r+1))?(s=65536|(1023&s)<<10|1023&a.charCodeAt(++r),e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)):e.push(239,191,189):56320==(64512&s)?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|63&s)}return new Uint8Array(e)}function _t(a,e){switch(a){case Je.BASE64:{const u=-1!==e.indexOf("-"),f=-1!==e.indexOf("_");if(u||f)throw pt(a,"Invalid character '"+(u?"-":"_")+"' found: is it base64url encoded?");break}case Je.BASE64URL:{const u=-1!==e.indexOf("+"),f=-1!==e.indexOf("/");if(u||f)throw pt(a,"Invalid character '"+(u?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=function Nt(a){if(typeof atob>"u")throw function Jn(a){return new ht(Be.UNSUPPORTED_ENVIRONMENT,`${a} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(a)}(e)}catch(u){throw u.message.includes("polyfill")?u:pt(a,"Invalid character found")}const s=new Uint8Array(r.length);for(let u=0;u<r.length;u++)s[u]=r.charCodeAt(u);return s}class dn{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(null===r)throw pt(Je.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=r[1]||null;null!=s&&(this.base64=function ar(a,e){return a.length>=e.length&&a.substring(a.length-e.length)===e}(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}class Wr{constructor(e,r){let s=0,u="";gr(e)?(this.data_=e,s=e.size,u=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=u}size(){return this.size_}type(){return this.type_}slice(e,r){if(gr(this.data_)){const u=function et(a,e,r){return a.webkitSlice?a.webkitSlice(e,r):a.mozSlice?a.mozSlice(e,r):a.slice?a.slice(e,r):null}(this.data_,e,r);return null===u?null:new Wr(u)}{const s=new Uint8Array(this.data_.buffer,e,r-e);return new Wr(s,!0)}}static getBlob(...e){if(hr()){const r=e.map(s=>s instanceof Wr?s.data_:s);return new Wr(ft.apply(null,r))}{const r=e.map(v=>er(v)?pe(Je.RAW,v).data:v.data_);let s=0;r.forEach(v=>{s+=v.byteLength});const u=new Uint8Array(s);let f=0;return r.forEach(v=>{for(let C=0;C<v.length;C++)u[f++]=v[C]}),new Wr(u,!0)}}uploadData(){return this.data_}}function ri(a){let e;try{e=JSON.parse(a)}catch{return null}return function vn(a){return"object"==typeof a&&!Array.isArray(a)}(e)?e:null}function ei(a){const e=a.lastIndexOf("/",a.length-2);return-1===e?a:a.slice(e+1)}function Mi(a,e){return e}class Cr{constructor(e,r,s,u){this.server=e,this.local=r||e,this.writable=!!s,this.xform=u||Mi}}let Ji=null;function nr(){if(Ji)return Ji;const a=[];a.push(new Cr("bucket")),a.push(new Cr("generation")),a.push(new Cr("metageneration")),a.push(new Cr("name","fullPath",!0));const r=new Cr("name");r.xform=function e(f,v){return function _i(a){return!er(a)||a.length<2?a:ei(a)}(v)},a.push(r);const u=new Cr("size");return u.xform=function s(f,v){return void 0!==v?Number(v):v},a.push(u),a.push(new Cr("timeCreated")),a.push(new Cr("updated")),a.push(new Cr("md5Hash",null,!0)),a.push(new Cr("cacheControl",null,!0)),a.push(new Cr("contentDisposition",null,!0)),a.push(new Cr("contentEncoding",null,!0)),a.push(new Cr("contentLanguage",null,!0)),a.push(new Cr("contentType",null,!0)),a.push(new Cr("metadata","customMetadata",!0)),Ji=a,Ji}function li(a,e,r){const s=ri(e);return null===s?null:function Li(a,e,r){const s={type:"file"},u=r.length;for(let f=0;f<u;f++){const v=r[f];s[v.local]=v.xform(s,e[v.server])}return function Fi(a,e){Object.defineProperty(a,"ref",{get:function r(){const f=new bt(a.bucket,a.fullPath);return e._makeStorageReference(f)}})}(s,a),s}(a,s,r)}function Y(a,e){const r={},s=e.length;for(let u=0;u<s;u++){const f=e[u];f.writable&&(r[f.server]=a[f.local])}return JSON.stringify(r)}const Q="prefixes",Pe="items";class Re{constructor(e,r,s,u){this.url=e,this.method=r,this.handler=s,this.timeout=u,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Tt(a){if(!a)throw H()}function wt(a,e){return function r(s,u){const f=li(a,u,e);return Tt(null!==f),f}}function mr(a){return function e(r,s){let u;return u=401===r.getStatus()?r.getErrorText().includes("Firebase App Check token is invalid")?function je(){return new ht(Be.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Ie(){return new ht(Be.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===r.getStatus()?function X(a){return new ht(Be.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(a.bucket):403===r.getStatus()?function Ue(a){return new ht(Be.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")}(a.path):s,u.status=r.getStatus(),u.serverResponse=s.serverResponse,u}}function rr(a){const e=mr(a);return function r(s,u){let f=e(s,u);return 404===s.getStatus()&&(f=function G(a){return new ht(Be.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")}(a.path)),f.serverResponse=u.serverResponse,f}}function Ki(a,e,r){const u=Pn(e.fullServerUrl(),a.host,a._protocol),v=a.maxOperationRetryTime,C=new Re(u,"GET",wt(a,r),v);return C.errorHandler=rr(e),C}function ai(a,e,r,s,u){const f={};f.prefix=e.isRoot?"":e.path+"/",r&&r.length>0&&(f.delimiter=r),s&&(f.pageToken=s),u&&(f.maxResults=u);const C=Pn(e.bucketOnlyServerUrl(),a.host,a._protocol),B=a.maxOperationRetryTime,ee=new Re(C,"GET",function hn(a,e){return function r(s,u){const f=function Z(a,e,r){const s=ri(r);return null===s?null:function te(a,e,r){const s={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[Q])for(const u of r[Q]){const f=u.replace(/\/$/,""),v=a._makeStorageReference(new bt(e,f));s.prefixes.push(v)}if(r[Pe])for(const u of r[Pe]){const f=a._makeStorageReference(new bt(e,u.name));s.items.push(f)}return s}(a,e,s)}(a,e,u);return Tt(null!==f),f}}(a,e.bucket),B);return ee.urlParams=f,ee.errorHandler=mr(e),ee}function Di(a,e,r){const s=Object.assign({},r);return s.fullPath=a.path,s.size=e.size(),s.contentType||(s.contentType=function Kr(a,e){return a&&a.contentType||e&&e.type()||"application/octet-stream"}(null,e)),s}class co{constructor(e,r,s,u){this.current=e,this.total=r,this.finalized=!!s,this.metadata=u||null}}function xo(a,e){let r=null;try{r=a.getResponseHeader("X-Goog-Upload-Status")}catch{Tt(!1)}return Tt(!!r&&-1!==(e||["active"]).indexOf(r)),r}const xr={STATE_CHANGED:"state_changed"},qi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function yi(a){switch(a){case"running":case"pausing":case"canceling":return qi.RUNNING;case"paused":return qi.PAUSED;case"success":return qi.SUCCESS;case"canceled":return qi.CANCELED;default:return qi.ERROR}}class la{constructor(e,r,s){if(function En(a){return"function"==typeof a}(e)||null!=r||null!=s)this.next=e,this.error=null!=r?r:void 0,this.complete=null!=s?s:void 0;else{const f=e;this.next=f.next,this.error=f.error,this.complete=f.complete}}}function Xo(a){return(...e)=>{Promise.resolve().then(()=>a(...e))}}let ls=null;class As{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ln.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ln.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ln.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,s,u){if(this.sent_)throw Et("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),void 0!==u)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return void 0!==s?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Et("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Et("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Et("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Et("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class ur extends As{initXhr(){this.xhr_.responseType="text"}}function Nr(){return ls?ls():new ur}class Ds{constructor(e,r,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=r,this._metadata=s,this._mappings=nr(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=u=>{if(this._request=void 0,this._chunkMultiplier=1,u._codeEquals(Be.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const f=this.isExponentialBackoffExpired();if(Zr(u.status,[])){if(!f)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();u=xe()}this._error=u,this._transition("error")}},this._metadataErrorHandler=u=>{this._request=void 0,u._codeEquals(Be.CANCELED)?this.completeTransitions_():(this._error=u,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((u,f)=>{this._resolve=u,this._reject=f,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return r=>this._updateProgress(e+r)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([r,s])=>{switch(this._state){case"running":e(r,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,r)=>{const s=function No(a,e,r,s,u){const f=e.bucketOnlyServerUrl(),v=Di(e,s,u),C={name:v.fullPath},R=Pn(f,a.host,a._protocol),ee={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":v.contentType,"Content-Type":"application/json; charset=utf-8"},Ae=Y(v,r),Ht=new Re(R,"POST",function Dt(rn){let Kt;xo(rn);try{Kt=rn.getResponseHeader("X-Goog-Upload-URL")}catch{Tt(!1)}return Tt(er(Kt)),Kt},a.maxUploadRetryTime);return Ht.urlParams=C,Ht.headers=ee,Ht.body=Ae,Ht.errorHandler=mr(e),Ht}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),u=this._ref.storage._makeRequest(s,Nr,e,r);this._request=u,u.getPromise().then(f=>{this._request=void 0,this._uploadUrl=f,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((r,s)=>{const u=function yo(a,e,r,s){const R=new Re(r,"POST",function f(B){const ee=xo(B,["active","final"]);let Ae=null;try{Ae=B.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Tt(!1)}Ae||Tt(!1);const Ke=Number(Ae);return Tt(!isNaN(Ke)),new co(Ke,s.size(),"final"===ee)},a.maxUploadRetryTime);return R.headers={"X-Goog-Upload-Command":"query"},R.errorHandler=mr(e),R}(this._ref.storage,this._ref._location,e,this._blob),f=this._ref.storage._makeRequest(u,Nr,r,s);this._request=f,f.getPromise().then(v=>{this._request=void 0,this._updateProgress(v.current),this._needToFetchStatus=!1,v.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,r=new co(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((u,f)=>{let v;try{v=function ir(a,e,r,s,u,f,v,C){const R=new co(0,0);if(v?(R.current=v.current,R.total=v.total):(R.current=0,R.total=s.size()),s.size()!==R.total)throw function Wn(){return new ht(Be.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const B=R.total-R.current;let ee=B;u>0&&(ee=Math.min(ee,u));const Ae=R.current;let Dt="";Dt=0===ee?"finalize":B===ee?"upload, finalize":"upload";const Ht={"X-Goog-Upload-Command":Dt,"X-Goog-Upload-Offset":`${R.current}`},rn=s.slice(Ae,Ae+ee);if(null===rn)throw Sn();const bn=new Re(r,"POST",function Kt(zn,Br){const _r=xo(zn,["active","final"]),Ct=R.current+ee,Ge=s.size();let lt;return lt="final"===_r?wt(e,f)(zn,Br):null,new co(Ct,Ge,"final"===_r,lt)},e.maxUploadRetryTime);return bn.headers=Ht,bn.body=rn.uploadData(),bn.progressCallback=C||null,bn.errorHandler=mr(a),bn}(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,r,this._makeProgressCallback())}catch(R){return this._error=R,void this._transition("error")}const C=this._ref.storage._makeRequest(v,Nr,u,f,!1);this._request=C,C.getPromise().then(R=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(R.current),R.finalized?(this._metadata=R.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,r)=>{const s=Ki(this._ref.storage,this._ref._location,this._mappings),u=this._ref.storage._makeRequest(s,Nr,e,r);this._request=u,u.getPromise().then(f=>{this._request=void 0,this._metadata=f,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,r)=>{const s=function io(a,e,r,s,u){const f=e.bucketOnlyServerUrl(),v={"X-Goog-Upload-Protocol":"multipart"},R=function C(){let bn="";for(let zn=0;zn<2;zn++)bn+=Math.random().toString().slice(2);return bn}();v["Content-Type"]="multipart/related; boundary="+R;const B=Di(e,s,u),ee=Y(B,r),Dt=Wr.getBlob("--"+R+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ee+"\r\n--"+R+"\r\nContent-Type: "+B.contentType+"\r\n\r\n",s,"\r\n--"+R+"--");if(null===Dt)throw Sn();const Ht={name:B.fullPath},rn=Pn(f,a.host,a._protocol),Nn=a.maxUploadRetryTime,Hn=new Re(rn,"POST",wt(a,r),Nn);return Hn.urlParams=Ht,Hn.headers=v,Hn.body=Dt.uploadData(),Hn.errorHandler=mr(e),Hn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),u=this._ref.storage._makeRequest(s,Nr,e,r);this._request=u,u.getPromise().then(f=>{this._request=void 0,this._metadata=f,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const r=this._transferred;this._transferred=e,this._transferred!==r&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const r="paused"===this._state;this._state=e,r&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=jt(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=yi(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,r,s,u){const f=new la(r||void 0,s||void 0,u||void 0);return this._addObserver(f),()=>{this._removeObserver(f)}}then(e,r){return this._promise.then(e,r)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const r=this._observers.indexOf(e);-1!==r&&this._observers.splice(r,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(r=>{this._notifyObserver(r)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(yi(this._state)){case qi.SUCCESS:Xo(this._resolve.bind(null,this.snapshot))();break;case qi.CANCELED:case qi.ERROR:Xo(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(yi(this._state)){case qi.RUNNING:case qi.PAUSED:e.next&&Xo(e.next.bind(e,this.snapshot))();break;case qi.SUCCESS:e.complete&&Xo(e.complete.bind(e))();break;default:e.error&&Xo(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class oo{constructor(e,r){this._service=e,this._location=r instanceof bt?r:bt.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new oo(e,r)}get root(){const e=new bt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ei(this._location.path)}get storage(){return this._service}get parent(){const e=function Vn(a){if(0===a.length)return null;const e=a.lastIndexOf("/");return-1===e?"":a.slice(0,e)}(this._location.path);if(null===e)return null;const r=new bt(this._location.bucket,e);return new oo(this._service,r)}_throwIfRoot(e){if(""===this._location.path)throw Gn(e)}}function ve(a,e,r){return ot.apply(this,arguments)}function ot(){return(ot=(0,le.A)(function*(a,e,r){const u=yield yr(a,{pageToken:r});e.prefixes.push(...u.prefixes),e.items.push(...u.items),null!=u.nextPageToken&&(yield ve(a,e,u.nextPageToken))})).apply(this,arguments)}function yr(a,e){null!=e&&"number"==typeof e.maxResults&&Gr("options.maxResults",1,1e3,e.maxResults);const r=e||{},s=ai(a.storage,a._location,"/",r.pageToken,r.maxResults);return a.storage.makeRequestWithTokens(s,Nr)}function ue(a){a._throwIfRoot("getDownloadURL");const e=function ii(a,e,r){const u=Pn(e.fullServerUrl(),a.host,a._protocol),v=a.maxOperationRetryTime,C=new Re(u,"GET",function $n(a,e){return function r(s,u){const f=li(a,u,e);return Tt(null!==f),function Ft(a,e,r,s){const u=ri(e);if(null===u||!er(u.downloadTokens))return null;const f=u.downloadTokens;if(0===f.length)return null;const v=encodeURIComponent;return f.split(",").map(B=>{const Ae=a.fullPath;return Pn("/b/"+v(a.bucket)+"/o/"+v(Ae),r,s)+Pr({alt:"media",token:B})})[0]}(f,u,a.host,a._protocol)}}(a,r),v);return C.errorHandler=rr(e),C}(a.storage,a._location,nr());return a.storage.makeRequestWithTokens(e,Nr).then(r=>{if(null===r)throw function lr(){return new ht(Be.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return r})}function ze(a,e){const r=function In(a,e){const r=e.split("/").filter(s=>s.length>0).join("/");return 0===a.length?r:a+"/"+r}(a._location.path,e),s=new bt(a._location.bucket,r);return new oo(a.storage,s)}function Bt(a,e){if(a instanceof pn){const r=a;if(null==r._bucket)throw function Yt(){return new ht(Be.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Lt+"' property when initializing the app?")}();const s=new oo(r,r._bucket);return null!=e?Bt(s,e):s}return void 0!==e?ze(a,e):a}function Xt(a,e){if(e&&function mt(a){return/^[A-Za-z]+:\/\//.test(a)}(e)){if(a instanceof pn)return function gt(a,e){return new oo(a,e)}(a,e);throw Kn("To use ref(service, url), the first argument must be a Storage instance.")}return Bt(a,e)}function qt(a,e){const r=null==e?void 0:e[Lt];return null==r?null:bt.makeFromBucketSpec(r,a)}class pn{constructor(e,r,s,u,f){this.app=e,this._authProvider=r,this._appCheckProvider=s,this._url=u,this._firebaseVersion=f,this._bucket=null,this._host=$e,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=u?bt.makeFromBucketSpec(u,this._host):qt(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?bt.makeFromBucketSpec(this._url,e):qt(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Gr("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Gr("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,le.A)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const r=e._authProvider.getImmediate({optional:!0});if(r){const s=yield r.getToken();if(null!==s)return s.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,le.A)(function*(){const r=e._appCheckProvider.getImmediate({optional:!0});return r?(yield r.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new oo(this,e)}_makeRequest(e,r,s,u,f=!0){if(this._deleted)return new mn(On());{const v=function Pi(a,e,r,s,u,f,v=!0){const C=Pr(a.urlParams),R=a.url+C,B=Object.assign({},a.headers);return function Jr(a,e){e&&(a["X-Firebase-GMPID"]=e)}(B,e),function mi(a,e){null!==e&&e.length>0&&(a.Authorization="Firebase "+e)}(B,r),function dr(a,e){a["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(B,f),function vi(a,e){null!==e&&(a["X-Firebase-AppCheck"]=e)}(B,s),new fr(R,a.method,B,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,u,v)}(e,this._appId,s,u,r,this._firebaseVersion,f);return this._requests.add(v),v.getPromise().then(()=>this._requests.delete(v),()=>this._requests.delete(v)),v}}makeRequestWithTokens(e,r){var s=this;return(0,le.A)(function*(){const[u,f]=yield Promise.all([s._getAuthToken(),s._getAppCheckToken()]);return s._makeRequest(e,r,u,f).getPromise()})()}}const Tn="@firebase/storage";function ba(a,e){return Xt(a=(0,at.Ku)(a),e)}function fo(a,{instanceIdentifier:e}){const r=a.getProvider("app").getImmediate(),s=a.getProvider("auth-internal"),u=a.getProvider("app-check-internal");return new pn(r,s,u,e,it.SDK_VERSION)}!function Er(){(0,it._registerComponent)(new Ze.uA("storage",fo,"PUBLIC").setMultipleInstances(!0)),(0,it.registerVersion)(Tn,"0.12.5",""),(0,it.registerVersion)(Tn,"0.12.5","esm2017")}();class cs{constructor(e,r,s){this._delegate=e,this.task=r,this.ref=s}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Sa{constructor(e,r){this._delegate=e,this._ref=r,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new cs(this._delegate.snapshot,this,this._ref)}then(e,r){return this._delegate.then(s=>{if(e)return e(new cs(s,this,this._ref))},r)}on(e,r,s,u){let f;return r&&(f="function"==typeof r?v=>r(new cs(v,this,this._ref)):{next:r.next?v=>r.next(new cs(v,this,this._ref)):void 0,complete:r.complete||void 0,error:r.error||void 0}),this._delegate.on(e,f,s||void 0,u||void 0)}}class Ra{constructor(e,r){this._delegate=e,this._service=r}get prefixes(){return this._delegate.prefixes.map(e=>new ko(e,this._service))}get items(){return this._delegate.items.map(e=>new ko(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ko{constructor(e,r){this._delegate=e,this.storage=r}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const r=function Do(a,e){return ze(a,e)}(this._delegate,e);return new ko(r,this.storage)}get root(){return new ko(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new ko(e,this.storage)}put(e,r){return this._throwIfRoot("put"),new Sa(function oi(a,e,r){return function q(a,e,r){return a._throwIfRoot("uploadBytesResumable"),new Ds(a,new Wr(e),r)}(a=(0,at.Ku)(a),e,r)}(this._delegate,e,r),this)}putString(e,r=Je.RAW,s){this._throwIfRoot("putString");const u=pe(r,e),f=Object.assign({},s);return null==f.contentType&&null!=u.contentType&&(f.contentType=u.contentType),new Sa(new Ds(this._delegate,new Wr(u.data,!0),f),this)}listAll(){return function Xs(a){return function x(a){const e={prefixes:[],items:[]};return ve(a,e).then(()=>e)}(a=(0,at.Ku)(a))}(this._delegate).then(e=>new Ra(e,this.storage))}list(e){return function jo(a,e){return yr(a=(0,at.Ku)(a),e)}(this._delegate,e||void 0).then(r=>new Ra(r,this.storage))}getMetadata(){return function Oi(a){return function Ni(a){a._throwIfRoot("getMetadata");const e=Ki(a.storage,a._location,nr());return a.storage.makeRequestWithTokens(e,Nr)}(a=(0,at.Ku)(a))}(this._delegate)}updateMetadata(e){return function wi(a,e){return function $(a,e){a._throwIfRoot("updateMetadata");const r=function To(a,e,r,s){const f=Pn(e.fullServerUrl(),a.host,a._protocol),C=Y(r,s),B=a.maxOperationRetryTime,ee=new Re(f,"PATCH",wt(a,s),B);return ee.headers={"Content-Type":"application/json; charset=utf-8"},ee.body=C,ee.errorHandler=rr(e),ee}(a.storage,a._location,e,nr());return a.storage.makeRequestWithTokens(r,Nr)}(a=(0,at.Ku)(a),e)}(this._delegate,e)}getDownloadURL(){return function us(a){return ue(a=(0,at.Ku)(a))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Qs(a){return function Ce(a){a._throwIfRoot("deleteObject");const e=function Vi(a,e){const s=Pn(e.fullServerUrl(),a.host,a._protocol),C=new Re(s,"DELETE",function v(R,B){},a.maxOperationRetryTime);return C.successCodes=[200,204],C.errorHandler=rr(e),C}(a.storage,a._location);return a.storage.makeRequestWithTokens(e,Nr)}(a=(0,at.Ku)(a))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw Gn(e)}}class Fo{constructor(e,r){this.app=e,this._delegate=r}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(bs(e))throw Kn("ref() expected a child path but got a URL, use refFromURL instead.");return new ko(ba(this._delegate,e),this)}refFromURL(e){if(!bs(e))throw Kn("refFromURL() expected a full URL but got a child path, use ref() instead.");try{bt.makeFromUrl(e,this._delegate.host)}catch{throw Kn("refFromUrl() expected a valid full URL but got an invalid one.")}return new ko(ba(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,r,s={}){!function Ho(a,e,r,s={}){!function Zt(a,e,r,s={}){a.host=`${e}:${r}`,a._protocol="http";const{mockUserToken:u}=s;u&&(a._overrideAuthToken="string"==typeof u?u:(0,at.Fy)(u,a.app.options.projectId))}(a,e,r,s)}(this._delegate,e,r,s)}}function bs(a){return/^[A-Za-z]+:\/\//.test(a)}function Ha(a,{instanceIdentifier:e}){const r=a.getProvider("app-compat").getImmediate(),s=a.getProvider("storage").getImmediate({identifier:e});return new Fo(r,s)}!function zo(a){const e={TaskState:qi,TaskEvent:xr,StringFormat:Je,Storage:Fo,Reference:ko};a.INTERNAL.registerComponent(new Ze.uA("storage-compat",Ha,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),a.registerVersion("@firebase/storage-compat","0.3.8")}(Oe.A);var ds=L(7935);function Pa(a){const e=function ua(a){return new Ve.c(e=>{const r=v=>e.next(v);r(a.snapshot);const f=a.on("state_changed",r);return a.then(v=>{r(v),e.complete()},v=>{r(a.snapshot),(v=>{e.error(v)})(v)}),function(){f()}}).pipe(function At(a,e=ut.E){return(0,qe.N)((r,s)=>{let u=null,f=null,v=null;const C=()=>{if(u){u.unsubscribe(),u=null;const B=f;f=null,s.next(B)}};function R(){const B=v+a,ee=e.now();if(ee<B)return u=this.schedule(void 0,B-ee),void s.add(u);C()}r.subscribe((0,Ye._)(s,B=>{f=B,v=e.now(),u||(u=e.schedule(R,a),s.add(u))},()=>{C(),s.complete()},void 0,()=>{f=u=null}))})}(0))}(a);return{task:a,then:a.then.bind(a),catch:a.catch.bind(a),pause:a.pause.bind(a),cancel:a.cancel.bind(a),resume:a.resume.bind(a),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,rt.T)(r=>r.bytesTransferred/r.totalBytes*100))}}function Ls(a){return{getDownloadURL:()=>(0,ke.of)(void 0).pipe(Ne.Oe,(0,It.n)(()=>a.getDownloadURL()),Ne.U0),getMetadata:()=>(0,ke.of)(void 0).pipe(Ne.Oe,(0,It.n)(()=>a.getMetadata()),Ne.U0),delete:()=>(0,We.H)(a.delete()),child:e=>Ls(a.child(e)),updateMetadata:e=>(0,We.H)(a.updateMetadata(e)),put:(e,r)=>Pa(a.put(e,r)),putString:(e,r,s)=>Pa(a.putString(e,r,s)),list:e=>(0,We.H)(a.list(e)),listAll:()=>(0,We.H)(a.listAll())}}const ll=new c.nKC("angularfire2.storageBucket"),z=new c.nKC("angularfire2.storage.maxUploadRetryTime"),O=new c.nKC("angularfire2.storage.maxOperationRetryTime"),ge=new c.nKC("angularfire2.storage.use-emulator");let j=(()=>{var a;class e{constructor(s,u,f,v,C,R,B,ee,Ae,Ke){(0,de.A)(this,"storage",void 0);const Dt=(0,Ee.iB)(s,C,u);this.storage=(0,Ee.BM)(`${Dt.name}.storage.${f}`,"AngularFireStorage",Dt.name,()=>{const Ht=C.runOutsideAngular(()=>Dt.storage(f||void 0)),rn=Ae;return rn&&Ht.useEmulator(...rn),B&&Ht.setMaxUploadRetryTime(B),ee&&Ht.setMaxOperationRetryTime(ee),Ht},[B,ee])}ref(s){return Ls(this.storage.ref(s))}refFromURL(s){return Ls(this.storage.refFromURL(s))}upload(s,u,f){return Ls(this.storage.ref(s)).put(u,f)}}return a=e,(0,de.A)(e,"\u0275fac",function(s){return new(s||a)(c.KVO(Ee.rx),c.KVO(Ee.uP,8),c.KVO(ll,8),c.KVO(c.Agw),c.KVO(c.SKi),c.KVO(Ne.u0),c.KVO(z,8),c.KVO(O,8),c.KVO(ge,8),c.KVO(Ne.Jv,8))}),(0,de.A)(e,"\u0275prov",c.jDH({token:a,factory:a.\u0275fac,providedIn:"any"})),e})(),en=(()=>{var a;class e{}return a=e,(0,de.A)(e,"\u0275fac",function(s){return new(s||a)}),(0,de.A)(e,"\u0275mod",c.$C({type:a})),(0,de.A)(e,"\u0275inj",c.G2t({})),e})(),Qn=(()=>{var a;class e{constructor(){ds.A.registerVersion("angularfire",Ne.xv.full,"gcs-compat")}}return a=e,(0,de.A)(e,"\u0275fac",function(s){return new(s||a)}),(0,de.A)(e,"\u0275mod",c.$C({type:a})),(0,de.A)(e,"\u0275inj",c.G2t({providers:[j],imports:[en]})),e})();var cr=L(177),Bi=L(1977),Zo=L(9172);function Go(){return(0,qe.N)((a,e)=>{let r,s=!1;a.subscribe((0,Ye._)(e,u=>{const f=r;r=u,s&&e.next([f,u]),s=!0}))})}var hs,Us,Vs=L(2816),ul=L(3294),Wl=L(5964),Jo=(L(4635),L(8041)),za=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cl={};(function(){var a;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(Ct,Ge,lt){lt||(lt=0);var Rt=Array(16);if("string"==typeof Ge)for(var Ot=0;16>Ot;++Ot)Rt[Ot]=Ge.charCodeAt(lt++)|Ge.charCodeAt(lt++)<<8|Ge.charCodeAt(lt++)<<16|Ge.charCodeAt(lt++)<<24;else for(Ot=0;16>Ot;++Ot)Rt[Ot]=Ge[lt++]|Ge[lt++]<<8|Ge[lt++]<<16|Ge[lt++]<<24;var Vt=Ct.g[3],st=(Ge=Ct.g[0])+(Vt^(lt=Ct.g[1])&((Ot=Ct.g[2])^Vt))+Rt[0]+3614090360&4294967295;st=(lt=(Ot=(Vt=(Ge=(lt=(Ot=(Vt=(Ge=(lt=(Ot=(Vt=(Ge=(lt=(Ot=(Vt=(Ge=(lt=(Ot=(Vt=(Ge=(lt=(Ot=(Vt=(Ge=(lt=(Ot=(Vt=(Ge=(lt=(Ot=(Vt=(Ge=(lt=(Ot=(Vt=(Ge=(lt=(Ot=(Vt=(Ge=(lt=(Ot=(Vt=(Ge=(lt=(Ot=(Vt=(Ge=(lt=(Ot=(Vt=(Ge=(lt=(Ot=(Vt=(Ge=(lt=(Ot=(Vt=(Ge=lt+(st<<7&4294967295|st>>>25))+((st=Vt+(Ot^Ge&(lt^Ot))+Rt[1]+3905402710&4294967295)<<12&4294967295|st>>>20))+((st=Ot+(lt^Vt&(Ge^lt))+Rt[2]+606105819&4294967295)<<17&4294967295|st>>>15))+((st=lt+(Ge^Ot&(Vt^Ge))+Rt[3]+3250441966&4294967295)<<22&4294967295|st>>>10))+((st=Ge+(Vt^lt&(Ot^Vt))+Rt[4]+4118548399&4294967295)<<7&4294967295|st>>>25))+((st=Vt+(Ot^Ge&(lt^Ot))+Rt[5]+1200080426&4294967295)<<12&4294967295|st>>>20))+((st=Ot+(lt^Vt&(Ge^lt))+Rt[6]+2821735955&4294967295)<<17&4294967295|st>>>15))+((st=lt+(Ge^Ot&(Vt^Ge))+Rt[7]+4249261313&4294967295)<<22&4294967295|st>>>10))+((st=Ge+(Vt^lt&(Ot^Vt))+Rt[8]+1770035416&4294967295)<<7&4294967295|st>>>25))+((st=Vt+(Ot^Ge&(lt^Ot))+Rt[9]+2336552879&4294967295)<<12&4294967295|st>>>20))+((st=Ot+(lt^Vt&(Ge^lt))+Rt[10]+4294925233&4294967295)<<17&4294967295|st>>>15))+((st=lt+(Ge^Ot&(Vt^Ge))+Rt[11]+2304563134&4294967295)<<22&4294967295|st>>>10))+((st=Ge+(Vt^lt&(Ot^Vt))+Rt[12]+1804603682&4294967295)<<7&4294967295|st>>>25))+((st=Vt+(Ot^Ge&(lt^Ot))+Rt[13]+4254626195&4294967295)<<12&4294967295|st>>>20))+((st=Ot+(lt^Vt&(Ge^lt))+Rt[14]+2792965006&4294967295)<<17&4294967295|st>>>15))+((st=lt+(Ge^Ot&(Vt^Ge))+Rt[15]+1236535329&4294967295)<<22&4294967295|st>>>10))+((st=Ge+(Ot^Vt&(lt^Ot))+Rt[1]+4129170786&4294967295)<<5&4294967295|st>>>27))+((st=Vt+(lt^Ot&(Ge^lt))+Rt[6]+3225465664&4294967295)<<9&4294967295|st>>>23))+((st=Ot+(Ge^lt&(Vt^Ge))+Rt[11]+643717713&4294967295)<<14&4294967295|st>>>18))+((st=lt+(Vt^Ge&(Ot^Vt))+Rt[0]+3921069994&4294967295)<<20&4294967295|st>>>12))+((st=Ge+(Ot^Vt&(lt^Ot))+Rt[5]+3593408605&4294967295)<<5&4294967295|st>>>27))+((st=Vt+(lt^Ot&(Ge^lt))+Rt[10]+38016083&4294967295)<<9&4294967295|st>>>23))+((st=Ot+(Ge^lt&(Vt^Ge))+Rt[15]+3634488961&4294967295)<<14&4294967295|st>>>18))+((st=lt+(Vt^Ge&(Ot^Vt))+Rt[4]+3889429448&4294967295)<<20&4294967295|st>>>12))+((st=Ge+(Ot^Vt&(lt^Ot))+Rt[9]+568446438&4294967295)<<5&4294967295|st>>>27))+((st=Vt+(lt^Ot&(Ge^lt))+Rt[14]+3275163606&4294967295)<<9&4294967295|st>>>23))+((st=Ot+(Ge^lt&(Vt^Ge))+Rt[3]+4107603335&4294967295)<<14&4294967295|st>>>18))+((st=lt+(Vt^Ge&(Ot^Vt))+Rt[8]+1163531501&4294967295)<<20&4294967295|st>>>12))+((st=Ge+(Ot^Vt&(lt^Ot))+Rt[13]+2850285829&4294967295)<<5&4294967295|st>>>27))+((st=Vt+(lt^Ot&(Ge^lt))+Rt[2]+4243563512&4294967295)<<9&4294967295|st>>>23))+((st=Ot+(Ge^lt&(Vt^Ge))+Rt[7]+1735328473&4294967295)<<14&4294967295|st>>>18))+((st=lt+(Vt^Ge&(Ot^Vt))+Rt[12]+2368359562&4294967295)<<20&4294967295|st>>>12))+((st=Ge+(lt^Ot^Vt)+Rt[5]+4294588738&4294967295)<<4&4294967295|st>>>28))+((st=Vt+(Ge^lt^Ot)+Rt[8]+2272392833&4294967295)<<11&4294967295|st>>>21))+((st=Ot+(Vt^Ge^lt)+Rt[11]+1839030562&4294967295)<<16&4294967295|st>>>16))+((st=lt+(Ot^Vt^Ge)+Rt[14]+4259657740&4294967295)<<23&4294967295|st>>>9))+((st=Ge+(lt^Ot^Vt)+Rt[1]+2763975236&4294967295)<<4&4294967295|st>>>28))+((st=Vt+(Ge^lt^Ot)+Rt[4]+1272893353&4294967295)<<11&4294967295|st>>>21))+((st=Ot+(Vt^Ge^lt)+Rt[7]+4139469664&4294967295)<<16&4294967295|st>>>16))+((st=lt+(Ot^Vt^Ge)+Rt[10]+3200236656&4294967295)<<23&4294967295|st>>>9))+((st=Ge+(lt^Ot^Vt)+Rt[13]+681279174&4294967295)<<4&4294967295|st>>>28))+((st=Vt+(Ge^lt^Ot)+Rt[0]+3936430074&4294967295)<<11&4294967295|st>>>21))+((st=Ot+(Vt^Ge^lt)+Rt[3]+3572445317&4294967295)<<16&4294967295|st>>>16))+((st=lt+(Ot^Vt^Ge)+Rt[6]+76029189&4294967295)<<23&4294967295|st>>>9))+((st=Ge+(lt^Ot^Vt)+Rt[9]+3654602809&4294967295)<<4&4294967295|st>>>28))+((st=Vt+(Ge^lt^Ot)+Rt[12]+3873151461&4294967295)<<11&4294967295|st>>>21))+((st=Ot+(Vt^Ge^lt)+Rt[15]+530742520&4294967295)<<16&4294967295|st>>>16))+((st=lt+(Ot^Vt^Ge)+Rt[2]+3299628645&4294967295)<<23&4294967295|st>>>9))+((st=Ge+(Ot^(lt|~Vt))+Rt[0]+4096336452&4294967295)<<6&4294967295|st>>>26))+((st=Vt+(lt^(Ge|~Ot))+Rt[7]+1126891415&4294967295)<<10&4294967295|st>>>22))+((st=Ot+(Ge^(Vt|~lt))+Rt[14]+2878612391&4294967295)<<15&4294967295|st>>>17))+((st=lt+(Vt^(Ot|~Ge))+Rt[5]+4237533241&4294967295)<<21&4294967295|st>>>11))+((st=Ge+(Ot^(lt|~Vt))+Rt[12]+1700485571&4294967295)<<6&4294967295|st>>>26))+((st=Vt+(lt^(Ge|~Ot))+Rt[3]+2399980690&4294967295)<<10&4294967295|st>>>22))+((st=Ot+(Ge^(Vt|~lt))+Rt[10]+4293915773&4294967295)<<15&4294967295|st>>>17))+((st=lt+(Vt^(Ot|~Ge))+Rt[1]+2240044497&4294967295)<<21&4294967295|st>>>11))+((st=Ge+(Ot^(lt|~Vt))+Rt[8]+1873313359&4294967295)<<6&4294967295|st>>>26))+((st=Vt+(lt^(Ge|~Ot))+Rt[15]+4264355552&4294967295)<<10&4294967295|st>>>22))+((st=Ot+(Ge^(Vt|~lt))+Rt[6]+2734768916&4294967295)<<15&4294967295|st>>>17))+((st=lt+(Vt^(Ot|~Ge))+Rt[13]+1309151649&4294967295)<<21&4294967295|st>>>11))+((Vt=(Ge=lt+((st=Ge+(Ot^(lt|~Vt))+Rt[4]+4149444226&4294967295)<<6&4294967295|st>>>26))+((st=Vt+(lt^(Ge|~Ot))+Rt[11]+3174756917&4294967295)<<10&4294967295|st>>>22))^((Ot=Vt+((st=Ot+(Ge^(Vt|~lt))+Rt[2]+718787259&4294967295)<<15&4294967295|st>>>17))|~Ge))+Rt[9]+3951481745&4294967295,Ct.g[0]=Ct.g[0]+Ge&4294967295,Ct.g[1]=Ct.g[1]+(Ot+(st<<21&4294967295|st>>>11))&4294967295,Ct.g[2]=Ct.g[2]+Ot&4294967295,Ct.g[3]=Ct.g[3]+Vt&4294967295}function v(Ct,Ge){this.h=Ge;for(var lt=[],Rt=!0,Ot=Ct.length-1;0<=Ot;Ot--){var Vt=0|Ct[Ot];Rt&&Vt==Ge||(lt[Ot]=Vt,Rt=!1)}this.g=lt}(function e(Ct,Ge){function lt(){}lt.prototype=Ge.prototype,Ct.D=Ge.prototype,Ct.prototype=new lt,Ct.prototype.constructor=Ct,Ct.C=function(Rt,Ot,Vt){for(var st=Array(arguments.length-2),yc=2;yc<arguments.length;yc++)st[yc-2]=arguments[yc];return Ge.prototype[Ot].apply(Rt,st)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(Ct,Ge){void 0===Ge&&(Ge=Ct.length);for(var lt=Ge-this.blockSize,Rt=this.B,Ot=this.h,Vt=0;Vt<Ge;){if(0==Ot)for(;Vt<=lt;)u(this,Ct,Vt),Vt+=this.blockSize;if("string"==typeof Ct){for(;Vt<Ge;)if(Rt[Ot++]=Ct.charCodeAt(Vt++),Ot==this.blockSize){u(this,Rt),Ot=0;break}}else for(;Vt<Ge;)if(Rt[Ot++]=Ct[Vt++],Ot==this.blockSize){u(this,Rt),Ot=0;break}}this.h=Ot,this.o+=Ge},s.prototype.v=function(){var Ct=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Ct[0]=128;for(var Ge=1;Ge<Ct.length-8;++Ge)Ct[Ge]=0;var lt=8*this.o;for(Ge=Ct.length-8;Ge<Ct.length;++Ge)Ct[Ge]=255&lt,lt/=256;for(this.u(Ct),Ct=Array(16),Ge=lt=0;4>Ge;++Ge)for(var Rt=0;32>Rt;Rt+=8)Ct[lt++]=this.g[Ge]>>>Rt&255;return Ct};var C={};function R(Ct){return-128<=Ct&&128>Ct?function f(Ct,Ge){var lt=C;return Object.prototype.hasOwnProperty.call(lt,Ct)?lt[Ct]:lt[Ct]=Ge(Ct)}(Ct,function(Ge){return new v([0|Ge],0>Ge?-1:0)}):new v([0|Ct],0>Ct?-1:0)}function B(Ct){if(isNaN(Ct)||!isFinite(Ct))return Ae;if(0>Ct)return Kt(B(-Ct));for(var Ge=[],lt=1,Rt=0;Ct>=lt;Rt++)Ge[Rt]=Ct/lt|0,lt*=4294967296;return new v(Ge,0)}var Ae=R(0),Ke=R(1),Dt=R(16777216);function Ht(Ct){if(0!=Ct.h)return!1;for(var Ge=0;Ge<Ct.g.length;Ge++)if(0!=Ct.g[Ge])return!1;return!0}function rn(Ct){return-1==Ct.h}function Kt(Ct){for(var Ge=Ct.g.length,lt=[],Rt=0;Rt<Ge;Rt++)lt[Rt]=~Ct.g[Rt];return new v(lt,~Ct.h).add(Ke)}function Nn(Ct,Ge){return Ct.add(Kt(Ge))}function Hn(Ct,Ge){for(;(65535&Ct[Ge])!=Ct[Ge];)Ct[Ge+1]+=Ct[Ge]>>>16,Ct[Ge]&=65535,Ge++}function bn(Ct,Ge){this.g=Ct,this.h=Ge}function zn(Ct,Ge){if(Ht(Ge))throw Error("division by zero");if(Ht(Ct))return new bn(Ae,Ae);if(rn(Ct))return Ge=zn(Kt(Ct),Ge),new bn(Kt(Ge.g),Kt(Ge.h));if(rn(Ge))return Ge=zn(Ct,Kt(Ge)),new bn(Kt(Ge.g),Ge.h);if(30<Ct.g.length){if(rn(Ct)||rn(Ge))throw Error("slowDivide_ only works with positive integers.");for(var lt=Ke,Rt=Ge;0>=Rt.l(Ct);)lt=Br(lt),Rt=Br(Rt);var Ot=_r(lt,1),Vt=_r(Rt,1);for(Rt=_r(Rt,2),lt=_r(lt,2);!Ht(Rt);){var st=Vt.add(Rt);0>=st.l(Ct)&&(Ot=Ot.add(lt),Vt=st),Rt=_r(Rt,1),lt=_r(lt,1)}return Ge=Nn(Ct,Ot.j(Ge)),new bn(Ot,Ge)}for(Ot=Ae;0<=Ct.l(Ge);){for(lt=Math.max(1,Math.floor(Ct.m()/Ge.m())),Rt=48>=(Rt=Math.ceil(Math.log(lt)/Math.LN2))?1:Math.pow(2,Rt-48),st=(Vt=B(lt)).j(Ge);rn(st)||0<st.l(Ct);)st=(Vt=B(lt-=Rt)).j(Ge);Ht(Vt)&&(Vt=Ke),Ot=Ot.add(Vt),Ct=Nn(Ct,st)}return new bn(Ot,Ct)}function Br(Ct){for(var Ge=Ct.g.length+1,lt=[],Rt=0;Rt<Ge;Rt++)lt[Rt]=Ct.i(Rt)<<1|Ct.i(Rt-1)>>>31;return new v(lt,Ct.h)}function _r(Ct,Ge){var lt=Ge>>5;Ge%=32;for(var Rt=Ct.g.length-lt,Ot=[],Vt=0;Vt<Rt;Vt++)Ot[Vt]=0<Ge?Ct.i(Vt+lt)>>>Ge|Ct.i(Vt+lt+1)<<32-Ge:Ct.i(Vt+lt);return new v(Ot,Ct.h)}(a=v.prototype).m=function(){if(rn(this))return-Kt(this).m();for(var Ct=0,Ge=1,lt=0;lt<this.g.length;lt++){var Rt=this.i(lt);Ct+=(0<=Rt?Rt:4294967296+Rt)*Ge,Ge*=4294967296}return Ct},a.toString=function(Ct){if(2>(Ct=Ct||10)||36<Ct)throw Error("radix out of range: "+Ct);if(Ht(this))return"0";if(rn(this))return"-"+Kt(this).toString(Ct);for(var Ge=B(Math.pow(Ct,6)),lt=this,Rt="";;){var Ot=zn(lt,Ge).g,Vt=((0<(lt=Nn(lt,Ot.j(Ge))).g.length?lt.g[0]:lt.h)>>>0).toString(Ct);if(Ht(lt=Ot))return Vt+Rt;for(;6>Vt.length;)Vt="0"+Vt;Rt=Vt+Rt}},a.i=function(Ct){return 0>Ct?0:Ct<this.g.length?this.g[Ct]:this.h},a.l=function(Ct){return rn(Ct=Nn(this,Ct))?-1:Ht(Ct)?0:1},a.abs=function(){return rn(this)?Kt(this):this},a.add=function(Ct){for(var Ge=Math.max(this.g.length,Ct.g.length),lt=[],Rt=0,Ot=0;Ot<=Ge;Ot++){var Vt=Rt+(65535&this.i(Ot))+(65535&Ct.i(Ot)),st=(Vt>>>16)+(this.i(Ot)>>>16)+(Ct.i(Ot)>>>16);Rt=st>>>16,lt[Ot]=(st&=65535)<<16|(Vt&=65535)}return new v(lt,-2147483648&lt[lt.length-1]?-1:0)},a.j=function(Ct){if(Ht(this)||Ht(Ct))return Ae;if(rn(this))return rn(Ct)?Kt(this).j(Kt(Ct)):Kt(Kt(this).j(Ct));if(rn(Ct))return Kt(this.j(Kt(Ct)));if(0>this.l(Dt)&&0>Ct.l(Dt))return B(this.m()*Ct.m());for(var Ge=this.g.length+Ct.g.length,lt=[],Rt=0;Rt<2*Ge;Rt++)lt[Rt]=0;for(Rt=0;Rt<this.g.length;Rt++)for(var Ot=0;Ot<Ct.g.length;Ot++){var Vt=this.i(Rt)>>>16,st=65535&this.i(Rt),yc=Ct.i(Ot)>>>16,Xh=65535&Ct.i(Ot);lt[2*Rt+2*Ot]+=st*Xh,Hn(lt,2*Rt+2*Ot),lt[2*Rt+2*Ot+1]+=Vt*Xh,Hn(lt,2*Rt+2*Ot+1),lt[2*Rt+2*Ot+1]+=st*yc,Hn(lt,2*Rt+2*Ot+1),lt[2*Rt+2*Ot+2]+=Vt*yc,Hn(lt,2*Rt+2*Ot+2)}for(Rt=0;Rt<Ge;Rt++)lt[Rt]=lt[2*Rt+1]<<16|lt[2*Rt];for(Rt=Ge;Rt<2*Ge;Rt++)lt[Rt]=0;return new v(lt,0)},a.A=function(Ct){return zn(this,Ct).h},a.and=function(Ct){for(var Ge=Math.max(this.g.length,Ct.g.length),lt=[],Rt=0;Rt<Ge;Rt++)lt[Rt]=this.i(Rt)&Ct.i(Rt);return new v(lt,this.h&Ct.h)},a.or=function(Ct){for(var Ge=Math.max(this.g.length,Ct.g.length),lt=[],Rt=0;Rt<Ge;Rt++)lt[Rt]=this.i(Rt)|Ct.i(Rt);return new v(lt,this.h|Ct.h)},a.xor=function(Ct){for(var Ge=Math.max(this.g.length,Ct.g.length),lt=[],Rt=0;Rt<Ge;Rt++)lt[Rt]=this.i(Rt)^Ct.i(Rt);return new v(lt,this.h^Ct.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Us=cl.Md5=s,v.prototype.add=v.prototype.add,v.prototype.multiply=v.prototype.j,v.prototype.modulo=v.prototype.A,v.prototype.compare=v.prototype.l,v.prototype.toNumber=v.prototype.m,v.prototype.toString=v.prototype.toString,v.prototype.getBits=v.prototype.i,v.fromNumber=B,v.fromString=function ee(Ct,Ge){if(0==Ct.length)throw Error("number format error: empty string");if(2>(Ge=Ge||10)||36<Ge)throw Error("radix out of range: "+Ge);if("-"==Ct.charAt(0))return Kt(ee(Ct.substring(1),Ge));if(0<=Ct.indexOf("-"))throw Error('number format error: interior "-" character');for(var lt=B(Math.pow(Ge,8)),Rt=Ae,Ot=0;Ot<Ct.length;Ot+=8){var Vt=Math.min(8,Ct.length-Ot),st=parseInt(Ct.substring(Ot,Ot+Vt),Ge);8>Vt?(Vt=B(Math.pow(Ge,Vt)),Rt=Rt.j(Vt).add(B(st))):Rt=(Rt=Rt.j(lt)).add(B(st))}return Rt},hs=cl.Integer=v}).apply(typeof za<"u"?za:typeof self<"u"?self:typeof window<"u"?window:{});var $i,bo,Si,dl,ws,ca,hl,xc,Ma,Dr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ti={};(function(){var a,e="function"==typeof Object.defineProperties?Object.defineProperty:function(_,k,W){return _==Array.prototype||_==Object.prototype||(_[k]=W.value),_},s=function r(_){_=["object"==typeof globalThis&&globalThis,_,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Dr&&Dr];for(var k=0;k<_.length;++k){var W=_[k];if(W&&W.Math==Math)return W}throw Error("Cannot find global object")}(this);!function u(_,k){if(k)e:{var W=s;_=_.split(".");for(var ye=0;ye<_.length-1;ye++){var kt=_[ye];if(!(kt in W))break e;W=W[kt]}(k=k(ye=W[_=_[_.length-1]]))!=ye&&null!=k&&e(W,_,{configurable:!0,writable:!0,value:k})}}("Array.prototype.values",function(_){return _||function(){return function f(_,k){_ instanceof String&&(_+="");var W=0,ye=!1,kt={next:function(){if(!ye&&W<_.length){var $t=W++;return{value:k($t,_[$t]),done:!1}}return ye=!0,{done:!0,value:void 0}}};return kt[Symbol.iterator]=function(){return kt},kt}(this,function(k,W){return W})}});var v=v||{},C=this||self;function R(_){var k=typeof _;return"array"==(k="object"!=k?k:_?Array.isArray(_)?"array":k:"null")||"object"==k&&"number"==typeof _.length}function B(_){var k=typeof _;return"object"==k&&null!=_||"function"==k}function ee(_,k,W){return _.call.apply(_.bind,arguments)}function Ae(_,k,W){if(!_)throw Error();if(2<arguments.length){var ye=Array.prototype.slice.call(arguments,2);return function(){var kt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(kt,ye),_.apply(k,kt)}}return function(){return _.apply(k,arguments)}}function Ke(_,k,W){return(Ke=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ee:Ae).apply(null,arguments)}function Dt(_,k){var W=Array.prototype.slice.call(arguments,1);return function(){var ye=W.slice();return ye.push.apply(ye,arguments),_.apply(this,ye)}}function Ht(_,k){function W(){}W.prototype=k.prototype,_.aa=k.prototype,_.prototype=new W,_.prototype.constructor=_,_.Qb=function(ye,kt,$t){for(var wn=Array(arguments.length-2),Zi=2;Zi<arguments.length;Zi++)wn[Zi-2]=arguments[Zi];return k.prototype[kt].apply(ye,wn)}}function rn(_){const k=_.length;if(0<k){const W=Array(k);for(let ye=0;ye<k;ye++)W[ye]=_[ye];return W}return[]}function Kt(_,k){for(let W=1;W<arguments.length;W++){const ye=arguments[W];if(R(ye)){const kt=_.length||0,$t=ye.length||0;_.length=kt+$t;for(let wn=0;wn<$t;wn++)_[kt+wn]=ye[wn]}else _.push(ye)}}function Hn(_){return/^[\s\xa0]*$/.test(_)}function bn(){var _=C.navigator;return _&&(_=_.userAgent)?_:""}function zn(_){return zn[" "](_),_}zn[" "]=function(){};var Br=!(-1==bn().indexOf("Gecko")||-1!=bn().toLowerCase().indexOf("webkit")&&-1==bn().indexOf("Edge")||-1!=bn().indexOf("Trident")||-1!=bn().indexOf("MSIE")||-1!=bn().indexOf("Edge"));function _r(_,k,W){for(const ye in _)k.call(W,_[ye],ye,_)}function Ge(_){const k={};for(const W in _)k[W]=_[W];return k}const lt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rt(_,k){let W,ye;for(let kt=1;kt<arguments.length;kt++){for(W in ye=arguments[kt],ye)_[W]=ye[W];for(let $t=0;$t<lt.length;$t++)W=lt[$t],Object.prototype.hasOwnProperty.call(ye,W)&&(_[W]=ye[W])}}function Ot(_){var k=1;_=_.split(":");const W=[];for(;0<k&&_.length;)W.push(_.shift()),k--;return _.length&&W.push(_.join(":")),W}function Vt(_){C.setTimeout(()=>{throw _},0)}function st(){var _=q_;let k=null;return _.g&&(k=_.g,_.g=_.g.next,_.g||(_.h=null),k.next=null),k}var Xh=new class Nn{constructor(k,W){this.i=k,this.j=W,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}(()=>new pI,_=>_.reset());class pI{constructor(){this.next=this.g=this.h=null}set(k,W){this.h=k,this.g=W,this.next=null}reset(){this.next=this.g=this.h=null}}let ol,Qh=!1,q_=new class yc{constructor(){this.h=this.g=null}add(k,W){const ye=Xh.get();ye.set(k,W),this.h?this.h.next=ye:this.g=ye,this.h=ye}},NA=()=>{const _=C.Promise.resolve(void 0);ol=()=>{_.then(X_)}};var X_=()=>{for(var _;_=st();){try{_.h.call(_.g)}catch(W){Vt(W)}var k=Xh;k.j(_),100>k.h&&(k.h++,_.next=k.g,k.g=_)}Qh=!1};function Vl(){this.s=this.s,this.C=this.C}function Os(_,k){this.type=_,this.g=this.target=k,this.defaultPrevented=!1}Vl.prototype.s=!1,Vl.prototype.ma=function(){this.s||(this.s=!0,this.N())},Vl.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Os.prototype.h=function(){this.defaultPrevented=!0};var gI=function(){if(!C.addEventListener||!Object.defineProperty)return!1;var _=!1,k=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const W=()=>{};C.addEventListener("test",W,k),C.removeEventListener("test",W,k)}catch{}return _}();function bd(_,k){if(Os.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var W=this.type=_.type,ye=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=k,k=_.relatedTarget){if(Br){e:{try{zn(k.nodeName);var kt=!0;break e}catch{}kt=!1}kt||(k=null)}}else"mouseover"==W?k=_.fromElement:"mouseout"==W&&(k=_.toElement);this.relatedTarget=k,ye?(this.clientX=void 0!==ye.clientX?ye.clientX:ye.pageX,this.clientY=void 0!==ye.clientY?ye.clientY:ye.pageY,this.screenX=ye.screenX||0,this.screenY=ye.screenY||0):(this.clientX=void 0!==_.clientX?_.clientX:_.pageX,this.clientY=void 0!==_.clientY?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType="string"==typeof _.pointerType?_.pointerType:OA[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&bd.aa.h.call(this)}}Ht(bd,Os);var OA={2:"touch",3:"pen",4:"mouse"};bd.prototype.h=function(){bd.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var Ic="closure_listenable_"+(1e6*Math.random()|0),pT=0;function gT(_,k,W,ye,kt){this.listener=_,this.proxy=null,this.src=k,this.type=W,this.capture=!!ye,this.ha=kt,this.key=++pT,this.da=this.fa=!1}function xm(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function Q_(_){this.src=_,this.g={},this.h=0}function Ec(_,k){var W=k.type;if(W in _.g){var $t,ye=_.g[W],kt=Array.prototype.indexOf.call(ye,k,void 0);($t=0<=kt)&&Array.prototype.splice.call(ye,kt,1),$t&&(xm(k),0==_.g[W].length&&(delete _.g[W],_.h--))}}function mI(_,k,W,ye){for(var kt=0;kt<_.length;++kt){var $t=_[kt];if(!$t.da&&$t.listener==k&&$t.capture==!!W&&$t.ha==ye)return kt}return-1}Q_.prototype.add=function(_,k,W,ye,kt){var $t=_.toString();(_=this.g[$t])||(_=this.g[$t]=[],this.h++);var wn=mI(_,k,ye,kt);return-1<wn?(k=_[wn],W||(k.fa=!1)):((k=new gT(k,this.src,$t,!!ye,kt)).fa=W,_.push(k)),k};var Yh="closure_lm_"+(1e6*Math.random()|0),Y_={};function vI(_,k,W,ye,kt){if(ye&&ye.once)return sl(_,k,W,ye,kt);if(Array.isArray(k)){for(var $t=0;$t<k.length;$t++)vI(_,k[$t],W,ye,kt);return null}return W=Z_(W),_&&_[Ic]?_.K(k,W,B(ye)?!!ye.capture:!!ye,kt):Nm(_,k,W,!1,ye,kt)}function Nm(_,k,W,ye,kt,$t){if(!k)throw Error("Invalid event type");var wn=B(kt)?!!kt.capture:!!kt,Zi=sa(_);if(Zi||(_[Yh]=Zi=new Q_(_)),(W=Zi.add(k,W,ye,wn,$t)).proxy)return W;if(ye=function kA(){const k=Om;return function _(W){return k.call(_.src,_.listener,W)}}(),W.proxy=ye,ye.src=_,ye.listener=W,_.addEventListener)gI||(kt=wn),void 0===kt&&(kt=!1),_.addEventListener(k.toString(),ye,kt);else if(_.attachEvent)_.attachEvent(Ac(k.toString()),ye);else{if(!_.addListener||!_.removeListener)throw Error("addEventListener and attachEvent are unavailable.");_.addListener(ye)}return W}function sl(_,k,W,ye,kt){if(Array.isArray(k)){for(var $t=0;$t<k.length;$t++)sl(_,k[$t],W,ye,kt);return null}return W=Z_(W),_&&_[Ic]?_.L(k,W,B(ye)?!!ye.capture:!!ye,kt):Nm(_,k,W,!0,ye,kt)}function Zh(_,k,W,ye,kt){if(Array.isArray(k))for(var $t=0;$t<k.length;$t++)Zh(_,k[$t],W,ye,kt);else ye=B(ye)?!!ye.capture:!!ye,W=Z_(W),_&&_[Ic]?(_=_.i,(k=String(k).toString())in _.g&&-1<(W=mI($t=_.g[k],W,ye,kt))&&(xm($t[W]),Array.prototype.splice.call($t,W,1),0==$t.length&&(delete _.g[k],_.h--))):_&&(_=sa(_))&&(k=_.g[k.toString()],_=-1,k&&(_=mI(k,W,ye,kt)),(W=-1<_?k[_]:null)&&vo(W))}function vo(_){if("number"!=typeof _&&_&&!_.da){var k=_.src;if(k&&k[Ic])Ec(k.i,_);else{var W=_.type,ye=_.proxy;k.removeEventListener?k.removeEventListener(W,ye,_.capture):k.detachEvent?k.detachEvent(Ac(W),ye):k.addListener&&k.removeListener&&k.removeListener(ye),(W=sa(k))?(Ec(W,_),0==W.h&&(W.src=null,k[Yh]=null)):xm(_)}}}function Ac(_){return _ in Y_?Y_[_]:Y_[_]="on"+_}function Om(_,k){if(_.da)_=!0;else{k=new bd(k,this);var W=_.listener,ye=_.ha||_.src;_.fa&&vo(_),_=W.call(ye,k)}return _}function sa(_){return(_=_[Yh])instanceof Q_?_:null}var wd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Z_(_){return"function"==typeof _?_:(_[wd]||(_[wd]=function(k){return _.handleEvent(k)}),_[wd])}function Po(){Vl.call(this),this.i=new Q_(this),this.M=this,this.F=null}function ks(_,k){var W,ye=_.F;if(ye)for(W=[];ye;ye=ye.F)W.push(ye);if(_=_.M,ye=k.type||k,"string"==typeof k)k=new Os(k,_);else if(k instanceof Os)k.target=k.target||_;else{var kt=k;Rt(k=new Os(ye,_),kt)}if(kt=!0,W)for(var $t=W.length-1;0<=$t;$t--){var wn=k.g=W[$t];kt=Rp(wn,ye,!0,k)&&kt}if(kt=Rp(wn=k.g=_,ye,!0,k)&&kt,kt=Rp(wn,ye,!1,k)&&kt,W)for($t=0;$t<W.length;$t++)kt=Rp(wn=k.g=W[$t],ye,!1,k)&&kt}function Rp(_,k,W,ye){if(!(k=_.i.g[String(k)]))return!0;k=k.concat();for(var kt=!0,$t=0;$t<k.length;++$t){var wn=k[$t];if(wn&&!wn.da&&wn.capture==W){var Zi=wn.listener,no=wn.ha||wn.src;wn.fa&&Ec(_.i,wn),kt=!1!==Zi.call(no,ye)&&kt}}return kt&&!ye.defaultPrevented}function _I(_,k,W){if("function"==typeof _)W&&(_=Ke(_,W));else{if(!_||"function"!=typeof _.handleEvent)throw Error("Invalid listener argument");_=Ke(_.handleEvent,_)}return 2147483647<Number(k)?-1:C.setTimeout(_,k||0)}function yI(_){_.g=_I(()=>{_.g=null,_.i&&(_.i=!1,yI(_))},_.l);const k=_.h;_.h=null,_.m.apply(null,k)}Ht(Po,Vl),Po.prototype[Ic]=!0,Po.prototype.removeEventListener=function(_,k,W,ye){Zh(this,_,k,W,ye)},Po.prototype.N=function(){if(Po.aa.N.call(this),this.i){var k,_=this.i;for(k in _.g){for(var W=_.g[k],ye=0;ye<W.length;ye++)xm(W[ye]);delete _.g[k],_.h--}}this.F=null},Po.prototype.K=function(_,k,W,ye){return this.i.add(String(_),k,!1,W,ye)},Po.prototype.L=function(_,k,W,ye){return this.i.add(String(_),k,!0,W,ye)};class Mo extends Vl{constructor(k,W){super(),this.m=k,this.l=W,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:yI(this)}N(){super.N(),this.g&&(C.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jh(_){Vl.call(this),this.h=_,this.g={}}Ht(Jh,Vl);var II=[];function Co(_){_r(_.g,function(k,W){this.g.hasOwnProperty(W)&&vo(k)},_),_.g={}}Jh.prototype.N=function(){Jh.aa.N.call(this),Co(this)},Jh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sd=C.JSON.stringify,ef=C.JSON.parse,km=class{stringify(_){return C.JSON.stringify(_,void 0)}parse(_){return C.JSON.parse(_,void 0)}};function Rd(){}function J_(){}Rd.prototype.h=null;var tf={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fm(){Os.call(this,"d")}function nf(){Os.call(this,"c")}Ht(Fm,Os),Ht(nf,Os);var Pu={},ey=null;function Pd(){return ey=ey||new Po}function Cc(_){Os.call(this,Pu.La,_)}function Mp(_){const k=Pd();ks(k,new Cc(k))}function aa(_,k){Os.call(this,Pu.STAT_EVENT,_),this.stat=k}function Ks(_){const k=Pd();ks(k,new aa(k,_))}function EI(_,k){Os.call(this,Pu.Ma,_),this.size=k}function Md(_,k){if("function"!=typeof _)throw Error("Fn must not be null and must be a function");return C.setTimeout(function(){_()},k)}function rf(){this.g=!0}function xp(_,k,W,ye){_.info(function(){return"XMLHTTP TEXT ("+k+"): "+function Lm(_,k){if(!_.g)return k;if(!k)return null;try{var W=JSON.parse(k);if(W)for(_=0;_<W.length;_++)if(Array.isArray(W[_])){var ye=W[_];if(!(2>ye.length)){var kt=ye[1];if(Array.isArray(kt)&&!(1>kt.length)){var $t=kt[0];if("noop"!=$t&&"stop"!=$t&&"close"!=$t)for(var wn=1;wn<kt.length;wn++)kt[wn]=""}}}return Sd(W)}catch{return k}}(_,W)+(ye?" "+ye:"")})}Pu.La="serverreachability",Ht(Cc,Os),Pu.STAT_EVENT="statevent",Ht(aa,Os),Pu.Ma="timingevent",Ht(EI,Os),rf.prototype.xa=function(){this.g=!1},rf.prototype.info=function(){};var Tc,sf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Np(){}function Mu(_,k,W,ye){this.j=_,this.i=k,this.l=W,this.R=ye||1,this.U=new Jh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xd}function xd(){this.i=null,this.g="",this.h=!1}Ht(Np,Rd),Np.prototype.g=function(){return new XMLHttpRequest},Np.prototype.i=function(){return{}},Tc=new Np;var Um={},Op={};function Bm(_,k,W){_.L=1,_.v=Wm(xu(k)),_.m=W,_.P=!0,ty(_,null)}function ty(_,k){_.F=Date.now(),$m(_),_.A=xu(_.v);var W=_.A,ye=_.R;Array.isArray(ye)||(ye=[String(ye)]),lf(W.i,"t",ye),_.C=0,W=_.j.J,_.h=new xd,_.g=my(_.j,W?k:null,!_.m),0<_.O&&(_.M=new Mo(Ke(_.Y,_,_.g),_.O)),k=_.U,W=_.g,ye=_.ca;var kt="readystatechange";Array.isArray(kt)||(kt&&(II[0]=kt.toString()),kt=II);for(var $t=0;$t<kt.length;$t++){var wn=vI(W,kt[$t],ye||k.handleEvent,!1,k.h||k);if(!wn)break;k.g[wn.key]=wn}k=_.H?Ge(_.H):{},_.m?(_.u||(_.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,k)):(_.u="GET",_.g.ea(_.A,_.u,null,k)),Mp(),function AI(_,k,W,ye,kt,$t){_.info(function(){if(_.g)if($t)for(var wn="",Zi=$t.split("&"),no=0;no<Zi.length;no++){var $r=Zi[no].split("=");if(1<$r.length){var ro=$r[0];$r=$r[1];var Is=ro.split("_");wn=2<=Is.length&&"type"==Is[1]?wn+(ro+"=")+$r+"&":wn+(ro+"=redacted&")}}else wn=null;else wn=$t;return"XMLHTTP REQ ("+ye+") [attempt "+kt+"]: "+k+"\n"+W+"\n"+wn})}(_.i,_.u,_.A,_.l,_.R,_.m)}function ny(_){return!!_.g&&"GET"==_.u&&2!=_.L&&_.j.Ca}function VA(_,k){var W=_.C,ye=k.indexOf("\n",W);return-1==ye?Op:(W=Number(k.substring(W,ye)),isNaN(W)?Um:(ye+=1)+W>k.length?Op:(k=k.slice(ye,ye+W),_.C=ye+W,k))}function $m(_){_.S=Date.now()+_.I,Nd(_,_.I)}function Nd(_,k){if(null!=_.B)throw Error("WatchDog timer not null");_.B=Md(Ke(_.ba,_),k)}function jm(_){_.B&&(C.clearTimeout(_.B),_.B=null)}function kp(_){0==_.j.G||_.J||FI(_.j,_)}function Od(_){jm(_);var k=_.M;k&&"function"==typeof k.ma&&k.ma(),_.M=null,Co(_.U),_.g&&(k=_.g,_.g=null,k.abort(),k.ma())}function ry(_,k){try{var W=_.j;if(0!=W.G&&(W.g==_||oy(W.h,_)))if(!_.K&&oy(W.h,_)&&3==W.G){try{var ye=W.Da.g.parse(k)}catch{ye=null}if(Array.isArray(ye)&&3==ye.length){var kt=ye;if(0==kt[0]){e:if(!W.u){if(W.g){if(!(W.g.F+3e3<_.F))break e;Hp(W),zl(W)}Qm(W),Ks(18)}}else W.za=kt[1],0<W.za-W.T&&37500>kt[2]&&W.F&&0==W.v&&!W.C&&(W.C=Md(Ke(W.Za,W),6e3));if(1>=UA(W.h)&&W.ca){try{W.ca()}catch{}W.ca=void 0}}else Pc(W,11)}else if((_.K||W.g==_)&&Hp(W),!Hn(k))for(kt=W.Da.g.parse(k),k=0;k<kt.length;k++){let $r=kt[k];if(W.T=$r[0],$r=$r[1],2==W.G)if("c"==$r[0]){W.K=$r[1],W.ia=$r[2];const ro=$r[3];null!=ro&&(W.la=ro,W.j.info("VER="+W.la));const Is=$r[4];null!=Is&&(W.Aa=Is,W.j.info("SVER="+W.Aa));const Bd=$r[5];null!=Bd&&"number"==typeof Bd&&0<Bd&&(W.L=ye=1.5*Bd,W.j.info("backChannelRequestTimeoutMs_="+ye)),ye=W;const al=_.g;if(al){const Zm=al.g?al.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zm){var $t=ye.h;$t.g||-1==Zm.indexOf("spdy")&&-1==Zm.indexOf("quic")&&-1==Zm.indexOf("h2")||($t.j=$t.l,$t.g=new Set,$t.h&&(Fp($t,$t.h),$t.h=null))}if(ye.D){const _y=al.g?al.g.getResponseHeader("X-HTTP-Session-Id"):null;_y&&(ye.ya=_y,uo(ye.I,ye.D,_y))}}W.G=3,W.l&&W.l.ua(),W.ba&&(W.R=Date.now()-_.F,W.j.info("Handshake RTT: "+W.R+"ms"));var wn=_;if((ye=W).qa=gy(ye,ye.J?ye.ia:null,ye.W),wn.K){Hm(ye.h,wn);var Zi=wn,no=ye.L;no&&(Zi.I=no),Zi.B&&(jm(Zi),$m(Zi)),ye.g=wn}else kI(ye);0<W.i.length&&qm(W)}else"stop"!=$r[0]&&"close"!=$r[0]||Pc(W,7);else 3==W.G&&("stop"==$r[0]||"close"==$r[0]?"stop"==$r[0]?Pc(W,7):jp(W):"noop"!=$r[0]&&W.l&&W.l.ta($r),W.v=0)}Mp()}catch{}}Mu.prototype.ca=function(_){_=_.target;const k=this.M;k&&3==Hl(_)?k.j():this.Y(_)},Mu.prototype.Y=function(_){try{if(_==this.g)e:{const Is=Hl(this.g);var k=this.g.Ba();if(this.g.Z(),!(3>Is)&&(3!=Is||this.g&&(this.h.h||this.g.oa()||Bp(this.g)))){this.J||4!=Is||7==k||Mp(),jm(this);var W=this.g.Z();this.X=W;t:if(ny(this)){var ye=Bp(this.g);_="";var kt=ye.length,$t=4==Hl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Od(this),kp(this);var wn="";break t}this.h.i=new C.TextDecoder}for(k=0;k<kt;k++)this.h.h=!0,_+=this.h.i.decode(ye[k],{stream:!($t&&k==kt-1)});ye.length=0,this.h.g+=_,this.C=0,wn=this.h.g}else wn=this.g.oa();if(this.o=200==W,function FA(_,k,W,ye,kt,$t,wn){_.info(function(){return"XMLHTTP RESP ("+ye+") [ attempt "+kt+"]: "+k+"\n"+W+"\n"+$t+" "+wn})}(this.i,this.u,this.A,this.l,this.R,Is,W),this.o){if(this.T&&!this.K){t:{if(this.g){var Zi,no=this.g;if((Zi=no.g?no.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hn(Zi)){var $r=Zi;break t}}$r=null}if(!(W=$r)){this.o=!1,this.s=3,Ks(12),Od(this),kp(this);break e}xp(this.i,this.l,W,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ry(this,W)}if(this.P){let al;for(W=!0;!this.J&&this.C<wn.length;){if(al=VA(this,wn),al==Op){4==Is&&(this.s=4,Ks(14),W=!1),xp(this.i,this.l,null,"[Incomplete Response]");break}if(al==Um){this.s=4,Ks(15),xp(this.i,this.l,wn,"[Invalid Chunk]"),W=!1;break}xp(this.i,this.l,al,null),ry(this,al)}if(ny(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Is||0!=wn.length||this.h.h||(this.s=1,Ks(16),W=!1),this.o=this.o&&W,W){if(0<wn.length&&!this.W){this.W=!0;var ro=this.j;ro.g==this&&ro.ba&&!ro.M&&(ro.j.info("Great, no buffering proxy detected. Bytes received: "+wn.length),py(ro),ro.M=!0,Ks(11))}}else xp(this.i,this.l,wn,"[Invalid Chunked Response]"),Od(this),kp(this)}else xp(this.i,this.l,wn,null),ry(this,wn);4==Is&&Od(this),this.o&&!this.J&&(4==Is?FI(this.j,this):(this.o=!1,$m(this)))}else(function Rc(_){const k={};_=(_.g&&2<=Hl(_)&&_.g.getAllResponseHeaders()||"").split("\r\n");for(let ye=0;ye<_.length;ye++){if(Hn(_[ye]))continue;var W=Ot(_[ye]);const kt=W[0];if("string"!=typeof(W=W[1]))continue;W=W.trim();const $t=k[kt]||[];k[kt]=$t,$t.push(W)}!function Ct(_,k){for(const W in _)k.call(void 0,_[W],W,_)}(k,function(ye){return ye.join(", ")})})(this.g),400==W&&0<wn.indexOf("Unknown SID")?(this.s=3,Ks(12)):(this.s=0,Ks(13)),Od(this),kp(this)}}}catch{}},Mu.prototype.cancel=function(){this.J=!0,Od(this)},Mu.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(function LA(_,k){_.info(function(){return"TIMEOUT: "+k})}(this.i,this.A),2!=this.L&&(Mp(),Ks(17)),Od(this),this.s=2,kp(this)):Nd(this,this.S-_)};var CI=class{constructor(_,k){this.g=_,this.map=k}};function iy(_){this.l=_||10,_=C.PerformanceNavigationTiming?0<(_=C.performance.getEntriesByType("navigation")).length&&("hq"==_[0].nextHopProtocol||"h2"==_[0].nextHopProtocol):!!(C.chrome&&C.chrome.loadTimes&&C.chrome.loadTimes()&&C.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function TI(_){return!!_.h||!!_.g&&_.g.size>=_.j}function UA(_){return _.h?1:_.g?_.g.size:0}function oy(_,k){return _.h?_.h==k:!!_.g&&_.g.has(k)}function Fp(_,k){_.g?_.g.add(k):_.h=k}function Hm(_,k){_.h&&_.h==k?_.h=null:_.g&&_.g.has(k)&&_.g.delete(k)}function DI(_){if(null!=_.h)return _.i.concat(_.h.D);if(null!=_.g&&0!==_.g.size){let k=_.i;for(const W of _.g.values())k=k.concat(W.D);return k}return rn(_.i)}function bI(_,k){if(_.forEach&&"function"==typeof _.forEach)_.forEach(k,void 0);else if(R(_)||"string"==typeof _)Array.prototype.forEach.call(_,k,void 0);else for(var W=function $A(_){if(_.na&&"function"==typeof _.na)return _.na();if(!_.V||"function"!=typeof _.V){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(R(_)||"string"==typeof _){var k=[];_=_.length;for(var W=0;W<_;W++)k.push(W);return k}k=[],W=0;for(const ye in _)k[W++]=ye;return k}}}(_),ye=function BA(_){if(_.V&&"function"==typeof _.V)return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if("string"==typeof _)return _.split("");if(R(_)){for(var k=[],W=_.length,ye=0;ye<W;ye++)k.push(_[ye]);return k}for(ye in k=[],W=0,_)k[W++]=_[ye];return k}(_),kt=ye.length,$t=0;$t<kt;$t++)k.call(void 0,ye[$t],W&&W[$t],_)}iy.prototype.cancel=function(){if(this.i=DI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const _ of this.g.values())_.cancel();this.g.clear()}};var wI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kd(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof kd){this.h=_.h,zm(this,_.j),this.o=_.o,this.g=_.g,Gm(this,_.s),this.l=_.l;var k=_.i,W=new af;W.i=k.i,k.g&&(W.g=new Map(k.g),W.h=k.h),SI(this,W),this.m=_.m}else _&&(k=String(_).match(wI))?(this.h=!1,zm(this,k[1]||"",!0),this.o=Lp(k[2]||""),this.g=Lp(k[3]||"",!0),Gm(this,k[4]),this.l=Lp(k[5]||"",!0),SI(this,k[6]||"",!0),this.m=Lp(k[7]||"")):(this.h=!1,this.i=new af(null,this.h))}function xu(_){return new kd(_)}function zm(_,k,W){_.j=W?Lp(k,!0):k,_.j&&(_.j=_.j.replace(/:$/,""))}function Gm(_,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);_.s=k}else _.s=null}function SI(_,k,W){k instanceof af?(_.i=k,function uf(_,k){k&&!_.j&&(bc(_),_.i=null,_.g.forEach(function(W,ye){var kt=ye.toLowerCase();ye!=kt&&(ay(this,ye),lf(this,kt,W))},_)),_.j=k}(_.i,_.h)):(W||(k=Vp(k,zA)),_.i=new af(k,_.h))}function uo(_,k,W){_.i.set(k,W)}function Wm(_){return uo(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function Lp(_,k){return _?k?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function Vp(_,k,W){return"string"==typeof _?(_=encodeURI(_).replace(k,HA),W&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function HA(_){return"%"+((_=_.charCodeAt(0))>>4&15).toString(16)+(15&_).toString(16)}kd.prototype.toString=function(){var _=[],k=this.j;k&&_.push(Vp(k,sy,!0),":");var W=this.g;return(W||"file"==k)&&(_.push("//"),(k=this.o)&&_.push(Vp(k,sy,!0),"@"),_.push(encodeURIComponent(String(W)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(W=this.s)&&_.push(":",String(W))),(W=this.l)&&(this.g&&"/"!=W.charAt(0)&&_.push("/"),_.push(Vp(W,"/"==W.charAt(0)?Dc:RI,!0))),(W=this.i.toString())&&_.push("?",W),(W=this.m)&&_.push("#",Vp(W,GA)),_.join("")};var sy=/[#\/\?@]/g,RI=/[#\?:]/g,Dc=/[#\?]/g,zA=/[#\?@]/g,GA=/#/g;function af(_,k){this.h=this.g=null,this.i=_||null,this.j=!!k}function bc(_){_.g||(_.g=new Map,_.h=0,_.i&&function jA(_,k){if(_){_=_.split("&");for(var W=0;W<_.length;W++){var ye=_[W].indexOf("="),kt=null;if(0<=ye){var $t=_[W].substring(0,ye);kt=_[W].substring(ye+1)}else $t=_[W];k($t,kt?decodeURIComponent(kt.replace(/\+/g," ")):"")}}}(_.i,function(k,W){_.add(decodeURIComponent(k.replace(/\+/g," ")),W)}))}function ay(_,k){bc(_),k=wc(_,k),_.g.has(k)&&(_.i=null,_.h-=_.g.get(k).length,_.g.delete(k))}function ly(_,k){return bc(_),k=wc(_,k),_.g.has(k)}function lf(_,k,W){ay(_,k),0<W.length&&(_.i=null,_.g.set(wc(_,k),rn(W)),_.h+=W.length)}function wc(_,k){return k=String(k),_.j&&(k=k.toLowerCase()),k}function Ul(_,k,W,ye,kt){try{kt&&(kt.onload=null,kt.onerror=null,kt.onabort=null,kt.ontimeout=null),ye(W)}catch{}}function df(){this.g=new km}function hf(_,k,W){const ye=W||"";try{bI(_,function(kt,$t){let wn=kt;B(kt)&&(wn=Sd(kt)),k.push(ye+$t+"="+encodeURIComponent(wn))})}catch(kt){throw k.push(ye+"type="+encodeURIComponent("_badmap")),kt}}function Bl(_){this.l=_.Ub||null,this.j=_.eb||!1}function Nu(_,k){Po.call(this),this.D=_,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Fd(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}function $l(_){_.readyState=4,_.l=null,_.j=null,_.v=null,jl(_)}function jl(_){_.onreadystatechange&&_.onreadystatechange.call(_)}function Ld(_){let k="";return _r(_,function(W,ye){k+=ye,k+=":",k+=W,k+="\r\n"}),k}function Sc(_,k,W){e:{for(ye in W){var ye=!1;break e}ye=!0}ye||(W=Ld(W),"string"==typeof _?null!=W&&encodeURIComponent(String(W)):uo(_,k,W))}function _o(_){Po.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(a=af.prototype).add=function(_,k){bc(this),this.i=null,_=wc(this,_);var W=this.g.get(_);return W||this.g.set(_,W=[]),W.push(k),this.h+=1,this},a.forEach=function(_,k){bc(this),this.g.forEach(function(W,ye){W.forEach(function(kt){_.call(k,kt,ye,this)},this)},this)},a.na=function(){bc(this);const _=Array.from(this.g.values()),k=Array.from(this.g.keys()),W=[];for(let ye=0;ye<k.length;ye++){const kt=_[ye];for(let $t=0;$t<kt.length;$t++)W.push(k[ye])}return W},a.V=function(_){bc(this);let k=[];if("string"==typeof _)ly(this,_)&&(k=k.concat(this.g.get(wc(this,_))));else{_=Array.from(this.g.values());for(let W=0;W<_.length;W++)k=k.concat(_[W])}return k},a.set=function(_,k){return bc(this),this.i=null,ly(this,_=wc(this,_))&&(this.h-=this.g.get(_).length),this.g.set(_,[k]),this.h+=1,this},a.get=function(_,k){return _&&0<(_=this.V(_)).length?String(_[0]):k},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],k=Array.from(this.g.keys());for(var W=0;W<k.length;W++){var ye=k[W];const $t=encodeURIComponent(String(ye)),wn=this.V(ye);for(ye=0;ye<wn.length;ye++){var kt=$t;""!==wn[ye]&&(kt+="="+encodeURIComponent(String(wn[ye]))),_.push(kt)}}return this.i=_.join("&")},Ht(Bl,Rd),Bl.prototype.g=function(){return new Nu(this.l,this.j)},Bl.prototype.i=function(_){return function(){return _}}({}),Ht(Nu,Po),(a=Nu.prototype).open=function(_,k){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=k,this.readyState=1,jl(this)},a.send=function(_){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(k.body=_),(this.D||C).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$l(this)),this.readyState=0},a.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,jl(this)),this.g&&(this.readyState=3,jl(this),this.g)))if("arraybuffer"===this.responseType)_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof C.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fd(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))},a.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var k=_.value?_.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!_.done}))&&(this.response=this.responseText+=k)}_.done?$l(this):jl(this),3==this.readyState&&Fd(this)}},a.Ra=function(_){this.g&&(this.response=this.responseText=_,$l(this))},a.Qa=function(_){this.g&&(this.response=_,$l(this))},a.ga=function(){this.g&&$l(this)},a.setRequestHeader=function(_,k){this.u.append(_,k)},a.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],k=this.h.entries();for(var W=k.next();!W.done;)_.push((W=W.value)[0]+": "+W[1]),W=k.next();return _.join("\r\n")},Object.defineProperty(Nu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(_){this.m=_?"include":"same-origin"}}),Ht(_o,Po);var MI=/^https?$/i,xI=["POST","PUT"];function uy(_,k){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=k,_.m=5,cy(_),Up(_)}function cy(_){_.A||(_.A=!0,ks(_,"complete"),ks(_,"error"))}function dy(_){if(_.h&&typeof v<"u"&&(!_.v[1]||4!=Hl(_)||2!=_.Z()))if(_.u&&4==Hl(_))_I(_.Ea,0,_);else if(ks(_,"readystatechange"),4==Hl(_)){_.h=!1;try{const wn=_.Z();e:switch(wn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var W;if(!(W=k)){var ye;if(ye=0===wn){var kt=String(_.D).match(wI)[1]||null;!kt&&C.self&&C.self.location&&(kt=C.self.location.protocol.slice(0,-1)),ye=!MI.test(kt?kt.toLowerCase():"")}W=ye}if(W)ks(_,"complete"),ks(_,"success");else{_.m=6;try{var $t=2<Hl(_)?_.g.statusText:""}catch{$t=""}_.l=$t+" ["+_.Z()+"]",cy(_)}}finally{Up(_)}}}function Up(_,k){if(_.g){hy(_);const W=_.g,ye=_.v[0]?()=>{}:null;_.g=null,_.v=null,k||ks(_,"ready");try{W.onreadystatechange=ye}catch{}}}function hy(_){_.I&&(C.clearTimeout(_.I),_.I=null)}function Hl(_){return _.g?_.g.readyState:0}function Bp(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function $p(_,k,W){return W&&W.internalChannelParams&&W.internalChannelParams[_]||k}function NI(_){this.Aa=0,this.i=[],this.j=new rf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$p("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$p("baseRetryDelayMs",5e3,_),this.cb=$p("retryDelaySeedMs",1e4,_),this.Wa=$p("forwardChannelMaxRetries",2,_),this.wa=$p("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new iy(_&&_.concurrentRequestLimit),this.Da=new df,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function jp(_){if(Km(_),3==_.G){var k=_.U++,W=xu(_.I);if(uo(W,"SID",_.K),uo(W,"RID",k),uo(W,"TYPE","terminate"),Xm(_,W),(k=new Mu(_,_.j,k)).L=2,k.v=Wm(xu(W)),W=!1,C.navigator&&C.navigator.sendBeacon)try{W=C.navigator.sendBeacon(k.v.toString(),"")}catch{}!W&&C.Image&&((new Image).src=k.v,W=!0),W||(k.g=my(k.j,null),k.g.ea(k.v)),k.F=Date.now(),$m(k)}VI(_)}function zl(_){_.g&&(py(_),_.g.cancel(),_.g=null)}function Km(_){zl(_),_.u&&(C.clearTimeout(_.u),_.u=null),Hp(_),_.h.cancel(),_.s&&("number"==typeof _.s&&C.clearTimeout(_.s),_.s=null)}function qm(_){if(!TI(_.h)&&!_.s){_.s=!0;var k=_.Ga;ol||NA(),Qh||(ol(),Qh=!0),q_.add(k,_),_.B=0}}function WA(_,k){var W;W=k?k.l:_.U++;const ye=xu(_.I);uo(ye,"SID",_.K),uo(ye,"RID",W),uo(ye,"AID",_.T),Xm(_,ye),_.m&&_.o&&Sc(ye,_.m,_.o),W=new Mu(_,_.j,W,_.B+1),null===_.m&&(W.H=_.o),k&&(_.i=k.D.concat(_.i)),k=OI(_,W,1e3),W.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),Fp(_.h,W),Bm(W,ye,k)}function Xm(_,k){_.H&&_r(_.H,function(W,ye){uo(k,ye,W)}),_.l&&bI({},function(W,ye){uo(k,ye,W)})}function OI(_,k,W){W=Math.min(_.i.length,W);var ye=_.l?Ke(_.l.Na,_.l,_):null;e:{var kt=_.i;let $t=-1;for(;;){const wn=["count="+W];-1==$t?0<W?($t=kt[0].g,wn.push("ofs="+$t)):$t=0:wn.push("ofs="+$t);let Zi=!0;for(let no=0;no<W;no++){let $r=kt[no].g;const ro=kt[no].map;if($r-=$t,0>$r)$t=Math.max(0,kt[no].g-100),Zi=!1;else try{hf(ro,wn,"req"+$r+"_")}catch{ye&&ye(ro)}}if(Zi){ye=wn.join("&");break e}}}return _=_.i.splice(0,W),k.D=_,ye}function kI(_){if(!_.g&&!_.u){_.Y=1;var k=_.Fa;ol||NA(),Qh||(ol(),Qh=!0),q_.add(k,_),_.v=0}}function Qm(_){return!(_.g||_.u||3<=_.v||(_.Y++,_.u=Md(Ke(_.Fa,_),LI(_,_.v)),_.v++,0))}function py(_){null!=_.A&&(C.clearTimeout(_.A),_.A=null)}function $o(_){_.g=new Mu(_,_.j,"rpc",_.Y),null===_.m&&(_.g.H=_.o),_.g.O=0;var k=xu(_.qa);uo(k,"RID","rpc"),uo(k,"SID",_.K),uo(k,"AID",_.T),uo(k,"CI",_.F?"0":"1"),!_.F&&_.ja&&uo(k,"TO",_.ja),uo(k,"TYPE","xmlhttp"),Xm(_,k),_.m&&_.o&&Sc(k,_.m,_.o),_.L&&(_.g.I=_.L);var W=_.g;_=_.ia,W.L=1,W.v=Wm(xu(k)),W.m=null,W.P=!0,ty(W,_)}function Hp(_){null!=_.C&&(C.clearTimeout(_.C),_.C=null)}function FI(_,k){var W=null;if(_.g==k){Hp(_),py(_),_.g=null;var ye=2}else{if(!oy(_.h,k))return;W=k.D,Hm(_.h,k),ye=1}if(0!=_.G)if(k.o)if(1==ye){W=k.m?k.m.length:0,k=Date.now()-k.F;var kt=_.B;ks(ye=Pd(),new EI(ye,W)),qm(_)}else kI(_);else if(3==(kt=k.s)||0==kt&&0<k.X||!(1==ye&&function fy(_,k){return!(UA(_.h)>=_.h.j-(_.s?1:0)||(_.s?(_.i=k.D.concat(_.i),0):1==_.G||2==_.G||_.B>=(_.Va?0:_.Wa)||(_.s=Md(Ke(_.Ga,_,k),LI(_,_.B)),_.B++,0)))}(_,k)||2==ye&&Qm(_)))switch(W&&0<W.length&&(k=_.h,k.i=k.i.concat(W)),kt){case 1:Pc(_,5);break;case 4:Pc(_,10);break;case 3:Pc(_,6);break;default:Pc(_,2)}}function LI(_,k){let W=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(W*=2),W*k}function Pc(_,k){if(_.j.info("Error code "+k),2==k){var W=Ke(_.fb,_),ye=_.Xa;const kt=!ye;ye=new kd(ye||"//www.google.com/images/cleardot.gif"),C.location&&"http"==C.location.protocol||zm(ye,"https"),Wm(ye),kt?function PI(_,k){const W=new rf;if(C.Image){const ye=new Image;ye.onload=Dt(Ul,W,"TestLoadImage: loaded",!0,k,ye),ye.onerror=Dt(Ul,W,"TestLoadImage: error",!1,k,ye),ye.onabort=Dt(Ul,W,"TestLoadImage: abort",!1,k,ye),ye.ontimeout=Dt(Ul,W,"TestLoadImage: timeout",!1,k,ye),C.setTimeout(function(){ye.ontimeout&&ye.ontimeout()},1e4),ye.src=_}else k(!1)}(ye.toString(),W):function cf(_,k){new rf;const ye=new AbortController,kt=setTimeout(()=>{ye.abort(),Ul(0,0,!1,k)},1e4);fetch(_,{signal:ye.signal}).then($t=>{clearTimeout(kt),Ul(0,0,!!$t.ok,k)}).catch(()=>{clearTimeout(kt),Ul(0,0,!1,k)})}(ye.toString(),W)}else Ks(2);_.G=0,_.l&&_.l.sa(k),VI(_),Km(_)}function VI(_){if(_.G=0,_.ka=[],_.l){const k=DI(_.h);(0!=k.length||0!=_.i.length)&&(Kt(_.ka,k),Kt(_.ka,_.i),_.h.i.length=0,rn(_.i),_.i.length=0),_.l.ra()}}function gy(_,k,W){var ye=W instanceof kd?xu(W):new kd(W);if(""!=ye.g)k&&(ye.g=k+"."+ye.g),Gm(ye,ye.s);else{var kt=C.location;ye=kt.protocol,k=k?k+"."+kt.hostname:kt.hostname,kt=+kt.port;var $t=new kd(null);ye&&zm($t,ye),k&&($t.g=k),kt&&Gm($t,kt),W&&($t.l=W),ye=$t}return k=_.ya,(W=_.D)&&k&&uo(ye,W,k),uo(ye,"VER",_.la),Xm(_,ye),ye}function my(_,k,W){if(k&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return(k=new _o(_.Ca&&!_.pa?new Bl({eb:W}):_.pa)).Ha(_.J),k}function Vd(){}function Ym(){}function Ta(_,k){Po.call(this),this.g=new NI(k),this.l=_,this.h=k&&k.messageUrlParams||null,_=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(_?_["X-WebChannel-Content-Type"]=k.messageContentType:_={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(_?_["X-WebChannel-Client-Profile"]=k.va:_={"X-WebChannel-Client-Profile":k.va}),this.g.S=_,(_=k&&k.Sb)&&!Hn(_)&&(this.g.m=_),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!Hn(k)&&(this.g.D=k,null!==(_=this.h)&&k in _&&k in(_=this.h)&&delete _[k]),this.j=new Ud(this)}function vy(_){Fm.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var k=_.__sm__;if(k){e:{for(const W in k){_=W;break e}_=void 0}(this.i=_)&&(_=this.i,k=null!==k&&_ in k?k[_]:void 0),this.data=k}else this.data=_}function UI(){nf.call(this),this.status=1}function Ud(_){this.g=_}(a=_o.prototype).Ha=function(_){this.J=_},a.ea=function(_,k,W,ye){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);k=k?k.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tc.g(),this.v=function Pp(_){return _.h||(_.h=_.i())}(this.o?this.o:Tc),this.g.onreadystatechange=Ke(this.Ea,this);try{this.B=!0,this.g.open(k,String(_),!0),this.B=!1}catch($t){return void uy(this,$t)}if(_=W||"",W=new Map(this.headers),ye)if(Object.getPrototypeOf(ye)===Object.prototype)for(var kt in ye)W.set(kt,ye[kt]);else{if("function"!=typeof ye.keys||"function"!=typeof ye.get)throw Error("Unknown input type for opt_headers: "+String(ye));for(const $t of ye.keys())W.set($t,ye.get($t))}ye=Array.from(W.keys()).find($t=>"content-type"==$t.toLowerCase()),kt=C.FormData&&_ instanceof C.FormData,!(0<=Array.prototype.indexOf.call(xI,k,void 0))||ye||kt||W.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$t,wn]of W)this.g.setRequestHeader($t,wn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hy(this),this.u=!0,this.g.send(_),this.u=!1}catch($t){uy(this,$t)}},a.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,ks(this,"complete"),ks(this,"abort"),Up(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Up(this,!0)),_o.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?dy(this):this.bb())},a.bb=function(){dy(this)},a.isActive=function(){return!!this.g},a.Z=function(){try{return 2<Hl(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(_){if(this.g){var k=this.g.responseText;return _&&0==k.indexOf(_)&&(k=k.substring(_.length)),ef(k)}},a.Ba=function(){return this.m},a.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(a=NI.prototype).la=8,a.G=1,a.connect=function(_,k,W,ye){Ks(0),this.W=_,this.H=k||{},W&&void 0!==ye&&(this.H.OSID=W,this.H.OAID=ye),this.F=this.X,this.I=gy(this,null,this.W),qm(this)},a.Ga=function(_){if(this.s)if(this.s=null,1==this.G){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const kt=new Mu(this,this.j,_);let $t=this.o;if(this.S&&($t?($t=Ge($t),Rt($t,this.S)):$t=this.S),null!==this.m||this.O||(kt.H=$t,$t=null),this.P)e:{for(var k=0,W=0;W<this.i.length;W++){var ye=this.i[W];if(void 0===(ye="__data__"in ye.map&&"string"==typeof(ye=ye.map.__data__)?ye.length:void 0))break;if(4096<(k+=ye)){k=W;break e}if(4096===k||W===this.i.length-1){k=W+1;break e}}k=1e3}else k=1e3;k=OI(this,kt,k),uo(W=xu(this.I),"RID",_),uo(W,"CVER",22),this.D&&uo(W,"X-HTTP-Session-Id",this.D),Xm(this,W),$t&&(this.O?k="headers="+encodeURIComponent(String(Ld($t)))+"&"+k:this.m&&Sc(W,this.m,$t)),Fp(this.h,kt),this.Ua&&uo(W,"TYPE","init"),this.P?(uo(W,"$req",k),uo(W,"SID","null"),kt.T=!0,Bm(kt,W,null)):Bm(kt,W,k),this.G=2}}else 3==this.G&&(_?WA(this,_):0==this.i.length||TI(this.h)||WA(this))},a.Fa=function(){if(this.u=null,$o(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=Md(Ke(this.ab,this),_)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ks(10),zl(this),$o(this))},a.Za=function(){null!=this.C&&(this.C=null,zl(this),Qm(this),Ks(19))},a.fb=function(_){_?(this.j.info("Successfully pinged google.com"),Ks(2)):(this.j.info("Failed to ping google.com"),Ks(1))},a.isActive=function(){return!!this.l&&this.l.isActive(this)},(a=Vd.prototype).ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){},Ym.prototype.g=function(_,k){return new Ta(_,k)},Ht(Ta,Po),Ta.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ta.prototype.close=function(){jp(this.g)},Ta.prototype.o=function(_){var k=this.g;if("string"==typeof _){var W={};W.__data__=_,_=W}else this.u&&((W={}).__data__=Sd(_),_=W);k.i.push(new CI(k.Ya++,_)),3==k.G&&qm(k)},Ta.prototype.N=function(){this.g.l=null,delete this.j,jp(this.g),delete this.g,Ta.aa.N.call(this)},Ht(vy,Fm),Ht(UI,nf),Ht(Ud,Vd),Ud.prototype.ua=function(){ks(this.g,"a")},Ud.prototype.ta=function(_){ks(this.g,new vy(_))},Ud.prototype.sa=function(_){ks(this.g,new UI)},Ud.prototype.ra=function(){ks(this.g,"b")},Ym.prototype.createWebChannel=Ym.prototype.g,Ta.prototype.send=Ta.prototype.o,Ta.prototype.open=Ta.prototype.m,Ta.prototype.close=Ta.prototype.close,Ma=ti.createWebChannelTransport=function(){return new Ym},xc=ti.getStatEventTarget=function(){return Pd()},hl=ti.Event=Pu,ca=ti.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sf.NO_ERROR=0,sf.TIMEOUT=8,sf.HTTP_ERROR=6,ws=ti.ErrorCode=sf,Vm.COMPLETE="complete",dl=ti.EventType=Vm,J_.EventType=tf,tf.OPEN="a",tf.CLOSE="b",tf.ERROR="c",tf.MESSAGE="d",Po.prototype.listen=Po.prototype.K,Si=ti.WebChannel=J_,bo=ti.FetchXmlHttpFactory=Bl,_o.prototype.listenOnce=_o.prototype.L,_o.prototype.getLastError=_o.prototype.Ka,_o.prototype.getLastErrorCode=_o.prototype.Ba,_o.prototype.getStatus=_o.prototype.Z,_o.prototype.getResponseJson=_o.prototype.Oa,_o.prototype.getResponseText=_o.prototype.oa,_o.prototype.send=_o.prototype.ea,_o.prototype.setWithCredentials=_o.prototype.Ha,$i=ti.XhrIo=_o}).apply(typeof Dr<"u"?Dr:typeof self<"u"?self:typeof window<"u"?window:{});const Kl="@firebase/firestore";class ki{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ki.UNAUTHENTICATED=new ki(null),ki.GOOGLE_CREDENTIALS=new ki("google-credentials-uid"),ki.FIRST_PARTY=new ki("first-party-uid"),ki.MOCK_USER=new ki("mock-user");let fs="10.12.1";const es=new Jo.Vy("@firebase/firestore");function fl(){return es.logLevel}function sn(a,...e){if(es.logLevel<=Jo.$b.DEBUG){const r=e.map(ql);es.debug(`Firestore (${fs}): ${a}`,...r)}}function Ri(a,...e){if(es.logLevel<=Jo.$b.ERROR){const r=e.map(ql);es.error(`Firestore (${fs}): ${a}`,...r)}}function Lo(a,...e){if(es.logLevel<=Jo.$b.WARN){const r=e.map(ql);es.warn(`Firestore (${fs}): ${a}`,...r)}}function ql(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function Dn(a="Unexpected state"){const e=`FIRESTORE (${fs}) INTERNAL ASSERTION FAILED: `+a;throw Ri(e),new Error(e)}function jn(a,e){a||Dn()}function _n(a,e){return a}const Ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Jt extends at.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ji{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class wo{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ga{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(ki.UNAUTHENTICATED))}shutdown(){}}class gl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class $d{constructor(e){this.t=e,this.currentUser=ki.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let u=this.i;const f=B=>this.i!==u?(u=this.i,r(B)):Promise.resolve();let v=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new ji,e.enqueueRetryable(()=>f(this.currentUser))};const C=()=>{const B=v;e.enqueueRetryable((0,le.A)(function*(){yield B.promise,yield f(s.currentUser)}))},R=B=>{sn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=B,this.auth.addAuthTokenListener(this.o),C()};this.t.onInit(B=>R(B)),setTimeout(()=>{if(!this.auth){const B=this.t.getImmediate({optional:!0});B?R(B):(sn("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new ji)}},0),C()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(sn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jn("string"==typeof s.accessToken),new wo(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return jn(null===e||"string"==typeof e),new ki(e)}}class ml{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=ki.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Fu{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new ml(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(ki.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Js{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wa{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=f=>{null!=f.error&&sn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const v=f.token!==this.R;return this.R=f.token,sn("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?r(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>s(f))};const u=f=>{sn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?u(f):sn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(jn("string"==typeof r.token),this.R=r.token,new Js(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Lu(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<a;s++)r[s]=Math.floor(256*Math.random());return r}class Xl{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=Lu(40);for(let f=0;f<u.length;++f)s.length<20&&u[f]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[f]%62))}return s}}function sr(a,e){return a<e?-1:a>e?1:0}function Bs(a,e,r){return a.length===e.length&&a.every((s,u)=>r(s,e[u]))}function Na(a){return a+"\0"}class D{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Jt(Ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Jt(Ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Jt(Ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Jt(Ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return D.fromMillis(Date.now())}static fromDate(e){return D.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new D(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?sr(this.nanoseconds,e.nanoseconds):sr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class F{constructor(e){this.timestamp=e}static fromTimestamp(e){return new F(e)}static min(){return new F(new D(0,0))}static max(){return new F(new D(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class be{constructor(e,r,s){void 0===r?r=0:r>e.length&&Dn(),void 0===s?s=e.length-r:s>e.length-r&&Dn(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===be.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof be?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let u=0;u<s;u++){const f=e.get(u),v=r.get(u);if(f<v)return-1;if(f>v)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class M extends be{construct(e,r,s){return new M(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new Jt(Ut.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(u=>u.length>0))}return new M(r)}static emptyPath(){return new M([])}}const fe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class we extends be{construct(e,r,s){return new we(e,r,s)}static isValidIdentifier(e){return fe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),we.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new we(["__name__"])}static fromServerFormat(e){const r=[];let s="",u=0;const f=()=>{if(0===s.length)throw new Jt(Ut.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let v=!1;for(;u<e.length;){const C=e[u];if("\\"===C){if(u+1===e.length)throw new Jt(Ut.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const R=e[u+1];if("\\"!==R&&"."!==R&&"`"!==R)throw new Jt(Ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=R,u+=2}else"`"===C?(v=!v,u++):"."!==C||v?(s+=C,u++):(f(),u++)}if(f(),v)throw new Jt(Ut.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new we(r)}static emptyPath(){return new we([])}}class tt{constructor(e){this.path=e}static fromPath(e){return new tt(M.fromString(e))}static fromName(e){return new tt(M.fromString(e).popFirst(5))}static empty(){return new tt(M.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===M.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return M.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new M(e.slice()))}}class on{constructor(e,r,s,u){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=u}}function Ar(a){return a.fields.find(e=>2===e.kind)}function br(a){return a.fields.filter(e=>2!==e.kind)}on.UNKNOWN_ID=-1;class pr{constructor(e,r){this.fieldPath=e,this.kind=r}}class Vr{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Vr(0,nn.min())}}function Xi(a,e){const r=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,u=F.fromTimestamp(1e9===s?new D(r+1,0):new D(r,s));return new nn(u,tt.empty(),e)}function ni(a){return new nn(a.readTime,a.key,-1)}class nn{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new nn(F.min(),tt.empty(),-1)}static max(){return new nn(F.max(),tt.empty(),-1)}}function Rn(a,e){let r=a.readTime.compareTo(e.readTime);return 0!==r?r:(r=tt.comparator(a.documentKey,e.documentKey),0!==r?r:sr(a.largestBatchId,e.largestBatchId))}const ui="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class to{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Mr(a){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,le.A)(function*(a){if(a.code!==Ut.FAILED_PRECONDITION||a.message!==ui)throw a;sn("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Pt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Dn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Pt((s,u)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(s,u)},this.catchCallback=f=>{this.wrapFailure(r,f).next(s,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Pt?r:Pt.resolve(r)}catch(r){return Pt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Pt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Pt.reject(r)}static resolve(e){return new Pt((r,s)=>{r(e)})}static reject(e){return new Pt((r,s)=>{s(e)})}static waitFor(e){return new Pt((r,s)=>{let u=0,f=0,v=!1;e.forEach(C=>{++u,C.next(()=>{++f,v&&f===u&&r()},R=>s(R))}),v=!0,f===u&&r()})}static or(e){let r=Pt.resolve(!1);for(const s of e)r=r.next(u=>u?Pt.resolve(u):s());return r}static forEach(e,r){const s=[];return e.forEach((u,f)=>{s.push(r.call(this,u,f))}),this.waitFor(s)}static mapArray(e,r){return new Pt((s,u)=>{const f=e.length,v=new Array(f);let C=0;for(let R=0;R<f;R++){const B=R;r(e[B]).next(ee=>{v[B]=ee,++C,C===f&&s(v)},ee=>u(ee))}})}static doWhile(e,r){return new Pt((s,u)=>{const f=()=>{!0===e()?r().next(()=>{f()},u):s()};f()})}}class ci{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new ji,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new $s(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=da(s.target.error);this.V.reject(new $s(e,u))}}static open(e,r,s,u){try{return new ci(r,e.transaction(u,s))}catch(f){throw new $s(r,f)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(sn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Ka(r)}}class hi{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===hi.S((0,at.ZQ)())&&Ri("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return sn("SimpleDb","Removing database:",e),di(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,at.zW)())return!1;if(hi.C())return!0;const e=(0,at.ZQ)(),r=hi.S(e),s=0<r&&r<10,u=ea(e),f=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||f)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(e){var r=this;return(0,le.A)(function*(){return r.db||(sn("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,u)=>{const f=indexedDB.open(r.name,r.version);f.onsuccess=v=>{s(v.target.result)},f.onblocked=()=>{u(new $s(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=v=>{const C=v.target.error;u("VersionError"===C.name?new Jt(Ut.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===C.name?new Jt(Ut.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+C):new $s(e,C))},f.onupgradeneeded=v=>{sn("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',v.oldVersion),r.p.O(v.target.result,f.transaction,v.oldVersion,r.version).next(()=>{sn("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=s=>r.N(s)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,u){var f=this;return(0,le.A)(function*(){const v="readonly"===r;let C=0;for(;;){++C;try{f.db=yield f.M(e);const R=ci.open(f.db,e,v?"readonly":"readwrite",s),B=u(R).next(ee=>(R.g(),ee)).catch(ee=>(R.abort(ee),Pt.reject(ee))).toPromise();return B.catch(()=>{}),yield R.m,B}catch(R){const B=R,ee="FirebaseError"!==B.name&&C<3;if(sn("SimpleDb","Transaction failed with error:",B.message,"Retrying:",ee),f.close(),!ee)return Promise.reject(B)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function ea(a){const e=a.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class Ir{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return di(this.B.delete())}}class $s extends Jt{constructor(e,r){super(Ut.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Ss(a){return"IndexedDbTransactionError"===a.name}class Ka{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(sn("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(sn("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),di(s)}add(e){return sn("SimpleDb","ADD",this.store.name,e,e),di(this.store.add(e))}get(e){return di(this.store.get(e)).next(r=>(void 0===r&&(r=null),sn("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return sn("SimpleDb","DELETE",this.store.name,e),di(this.store.delete(e))}count(){return sn("SimpleDb","COUNT",this.store.name),di(this.store.count())}U(e,r){const s=this.options(e,r),u=s.index?this.store.index(s.index):this.store;if("function"==typeof u.getAll){const f=u.getAll(s.range);return new Pt((v,C)=>{f.onerror=R=>{C(R.target.error)},f.onsuccess=R=>{v(R.target.result)}})}{const f=this.cursor(s),v=[];return this.W(f,(C,R)=>{v.push(R)}).next(()=>v)}}G(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new Pt((u,f)=>{s.onerror=v=>{f(v.target.error)},s.onsuccess=v=>{u(v.target.result)}})}j(e,r){sn("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.H=!1;const u=this.cursor(s);return this.W(u,(f,v,C)=>C.delete())}J(e,r){let s;r?s=e:(s={},r=e);const u=this.cursor(s);return this.W(u,r)}Y(e){const r=this.cursor({});return new Pt((s,u)=>{r.onerror=f=>{const v=da(f.target.error);u(v)},r.onsuccess=f=>{const v=f.target.result;v?e(v.primaryKey,v.value).next(C=>{C?v.continue():s()}):s()}})}W(e,r){const s=[];return new Pt((u,f)=>{e.onerror=v=>{f(v.target.error)},e.onsuccess=v=>{const C=v.target.result;if(!C)return void u();const R=new Ir(C),B=r(C.primaryKey,C.value,R);if(B instanceof Pt){const ee=B.catch(Ae=>(R.done(),Pt.reject(Ae)));s.push(ee)}R.isDone?u():null===R.K?C.continue():C.continue(R.K)}}).next(()=>Pt.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.H?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function di(a){return new Pt((e,r)=>{a.onsuccess=s=>{e(s.target.result)},a.onerror=s=>{const u=da(s.target.error);r(u)}})}let Io=!1;function da(a){const e=hi.S((0,at.ZQ)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(r)>=0){const s=new Jt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Io||(Io=!0,setTimeout(()=>{throw s},0)),s}}return a}class ha{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;sn("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,le.A)(function*(){r.task=null;try{sn("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(s){Ss(s)?sn("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield Mr(s)}yield r.X(6e4)}))}}class Vu{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,le.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.te(s,e))})()}te(e,r){const s=new Set;let u=r,f=!0;return Pt.doWhile(()=>!0===f&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(v=>{if(null!==v&&!s.has(v))return sn("IndexBackfiller",`Processing collection: ${v}`),this.ne(e,v,u).next(C=>{u-=C,s.add(v)});f=!1})).next(()=>r-u)}ne(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(u=>this.localStore.localDocuments.getNextDocuments(e,r,u,s).next(f=>{const v=f.changes;return this.localStore.indexManager.updateIndexEntries(e,v).next(()=>this.re(u,f)).next(C=>(sn("IndexBackfiller",`Updating offset: ${C}`),this.localStore.indexManager.updateCollectionGroup(e,r,C))).next(()=>v.size)}))}re(e,r){let s=e;return r.changes.forEach((u,f)=>{const v=ni(f);Rn(v,s)>0&&(s=v)}),new nn(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let ps=(()=>{class a{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return a.oe=-1,a})();function Rs(a){return null==a}function gs(a){return 0===a&&1/a==-1/0}function fa(a){return"number"==typeof a&&Number.isInteger(a)&&!gs(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}function Un(a){let e="";for(let r=0;r<a.length;r++)e.length>0&&(e=Ql(e)),e=Nc(a.get(r),e);return Ql(e)}function Nc(a,e){let r=e;const s=a.length;for(let u=0;u<s;u++){const f=a.charAt(u);switch(f){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=f}}return r}function Ql(a){return a+"\x01\x01"}function zi(a){const e=a.length;if(jn(e>=2),2===e)return jn("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),M.emptyPath();const r=e-2,s=[];let u="";for(let f=0;f<e;){const v=a.indexOf("\x01",f);switch((v<0||v>r)&&Dn(),a.charAt(v+1)){case"\x01":const C=a.substring(f,v);let R;0===u.length?R=C:(u+=C,R=u,u=""),s.push(R);break;case"\x10":u+=a.substring(f,v),u+="\0";break;case"\x11":u+=a.substring(f,v+1);break;default:Dn()}f=v+2}return new M(s)}const Yl=["userId","batchId"];function Ii(a,e){return[a,Un(e)]}function so(a,e,r){return[a,Un(e),r]}const Uu={},Vo=["prefixPath","collectionGroup","readTime","documentId"],Eo=["prefixPath","collectionGroup","documentId"],jd=["collectionGroup","readTime","prefixPath","documentId"],Oa=["canonicalId","targetId"],Zl=["targetId","path"],js=["path","targetId"],vl=["collectionId","parent"],Hd=["indexId","uid"],Jl=["uid","sequenceNumber"],_l=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zd=["indexId","uid","orderedDocumentKey"],Bu=["userId","collectionPath","documentId"],$u=["userId","collectionPath","largestBatchId"],gf=["userId","collectionGroup","largestBatchId"],Kp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],mf=[...Kp,"documentOverlays"],vf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qp=vf,Xp=[...qp,"indexConfiguration","indexState","indexEntries"],E=Xp;class b extends to{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function P(a,e){const r=_n(a);return hi.F(r._e,e)}function w(a){let e=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e++;return e}function N(a,e){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e(r,a[r])}function _e(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class ct{constructor(e,r){this.comparator=e,this.root=r||St.EMPTY}insert(e,r){return new ct(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(0===u)return r+s.left.size;u<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tn(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tn(this.root,e,this.comparator,!1)}getReverseIterator(){return new tn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tn(this.root,e,this.comparator,!0)}}class tn{constructor(e,r,s,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=r?s(e.key,r):1,r&&u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,r,s,u,f){this.key=e,this.value=r,this.color=null!=s?s:St.RED,this.left=null!=u?u:St.EMPTY,this.right=null!=f?f:St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,u,f){return new St(null!=e?e:this.key,null!=r?r:this.value,null!=s?s:this.color,null!=u?u:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let u=this;const f=s(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,r,s),null):0===f?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return St.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dn();const e=this.left.check();if(e!==this.right.check())throw Dn();return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1,St.EMPTY=new class{constructor(){this.size=0}get key(){throw Dn()}get value(){throw Dn()}get color(){throw Dn()}get left(){throw Dn()}get right(){throw Dn()}copy(e,r,s,u,f){return this}insert(e,r,s){return new St(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ln{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new vr(this.data.getIterator())}getIteratorFrom(e){return new vr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,f=s.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new ln(this.comparator);return r.data=e,r}}class vr{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function fi(a){return a.hasNext()?a.getNext():void 0}class Tr{constructor(e){this.fields=e,e.sort(we.comparator)}static empty(){return new Tr([])}unionWith(e){let r=new ln(we.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Tr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Bs(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class po extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Gi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new po("Invalid base64 string: "+f):f}}(e);return new Gi(r)}static fromUint8Array(e){const r=function(u){let f="";for(let v=0;v<u.length;++v)f+=String.fromCharCode(u[v]);return f}(e);return new Gi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let u=0;u<r.length;u++)s[u]=r.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gi.EMPTY_BYTE_STRING=new Gi("");const eu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(a){if(jn(!!a),"string"==typeof a){let e=0;const r=eu.exec(a);if(jn(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ei(a.seconds),nanos:Ei(a.nanos)}}function Ei(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function Hs(a){return"string"==typeof a?Gi.fromBase64String(a):Gi.fromUint8Array(a)}function ta(a){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==a?void 0:a.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function ju(a){const e=a.mapValue.fields.__previous_value__;return ta(e)?ju(e):e}function Ps(a){const e=ts(a.mapValue.fields.__local_write_time__.timestampValue);return new D(e.seconds,e.nanos)}class Gd{constructor(e,r,s,u,f,v,C,R,B){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=u,this.ssl=f,this.forceLongPolling=v,this.autoDetectLongPolling=C,this.longPollingOptions=R,this.useFetchStreams=B}}class qa{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new qa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof qa&&e.projectId===this.projectId&&e.database===this.database}}const pa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},tu={nullValue:"NULL_VALUE"};function Xa(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?ta(a)?4:Fc(a)?9007199254740991:10:Dn()}function Xr(a,e){if(a===e)return!0;const r=Xa(a);if(r!==Xa(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Ps(a).isEqual(Ps(e));case 3:return function(u,f){if("string"==typeof u.timestampValue&&"string"==typeof f.timestampValue&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const v=ts(u.timestampValue),C=ts(f.timestampValue);return v.seconds===C.seconds&&v.nanos===C.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return f=e,Hs(a.bytesValue).isEqual(Hs(f.bytesValue));case 7:return a.referenceValue===e.referenceValue;case 8:return function(u,f){return Ei(u.geoPointValue.latitude)===Ei(f.geoPointValue.latitude)&&Ei(u.geoPointValue.longitude)===Ei(f.geoPointValue.longitude)}(a,e);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return Ei(u.integerValue)===Ei(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const v=Ei(u.doubleValue),C=Ei(f.doubleValue);return v===C?gs(v)===gs(C):isNaN(v)&&isNaN(C)}return!1}(a,e);case 9:return Bs(a.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:return function(u,f){const v=u.mapValue.fields||{},C=f.mapValue.fields||{};if(w(v)!==w(C))return!1;for(const R in v)if(v.hasOwnProperty(R)&&(void 0===C[R]||!Xr(v[R],C[R])))return!1;return!0}(a,e);default:return Dn()}var f}function Qa(a,e){return void 0!==(a.values||[]).find(r=>Xr(r,e))}function ns(a,e){if(a===e)return 0;const r=Xa(a),s=Xa(e);if(r!==s)return sr(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return sr(a.booleanValue,e.booleanValue);case 2:return function(f,v){const C=Ei(f.integerValue||f.doubleValue),R=Ei(v.integerValue||v.doubleValue);return C<R?-1:C>R?1:C===R?0:isNaN(C)?isNaN(R)?0:-1:1}(a,e);case 3:return ho(a.timestampValue,e.timestampValue);case 4:return ho(Ps(a),Ps(e));case 5:return sr(a.stringValue,e.stringValue);case 6:return function(f,v){const C=Hs(f),R=Hs(v);return C.compareTo(R)}(a.bytesValue,e.bytesValue);case 7:return function(f,v){const C=f.split("/"),R=v.split("/");for(let B=0;B<C.length&&B<R.length;B++){const ee=sr(C[B],R[B]);if(0!==ee)return ee}return sr(C.length,R.length)}(a.referenceValue,e.referenceValue);case 8:return function(f,v){const C=sr(Ei(f.latitude),Ei(v.latitude));return 0!==C?C:sr(Ei(f.longitude),Ei(v.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return function(f,v){const C=f.values||[],R=v.values||[];for(let B=0;B<C.length&&B<R.length;++B){const ee=ns(C[B],R[B]);if(ee)return ee}return sr(C.length,R.length)}(a.arrayValue,e.arrayValue);case 10:return function(f,v){if(f===pa.mapValue&&v===pa.mapValue)return 0;if(f===pa.mapValue)return 1;if(v===pa.mapValue)return-1;const C=f.fields||{},R=Object.keys(C),B=v.fields||{},ee=Object.keys(B);R.sort(),ee.sort();for(let Ae=0;Ae<R.length&&Ae<ee.length;++Ae){const Ke=sr(R[Ae],ee[Ae]);if(0!==Ke)return Ke;const Dt=ns(C[R[Ae]],B[ee[Ae]]);if(0!==Dt)return Dt}return sr(R.length,ee.length)}(a.mapValue,e.mapValue);default:throw Dn()}}function ho(a,e){if("string"==typeof a&&"string"==typeof e&&a.length===e.length)return sr(a,e);const r=ts(a),s=ts(e),u=sr(r.seconds,s.seconds);return 0!==u?u:sr(r.nanos,s.nanos)}function yl(a){return nu(a)}function nu(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const s=ts(r);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?Hs(a.bytesValue).toBase64():"referenceValue"in a?tt.fromName(a.referenceValue).toString():"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let s="[",u=!0;for(const f of r.values||[])u?u=!1:s+=",",s+=nu(f);return s+"]"}(a.arrayValue):"mapValue"in a?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",f=!0;for(const v of s)f?f=!1:u+=",",u+=`${v}:${nu(r.fields[v])}`;return u+"}"}(a.mapValue):Dn()}function So(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Oc(a){return!!a&&"integerValue"in a}function Il(a){return!!a&&"arrayValue"in a}function Qp(a){return!!a&&"nullValue"in a}function ga(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function ru(a){return!!a&&"mapValue"in a}function kc(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return N(a.mapValue.fields,(r,s)=>e.mapValue.fields[r]=kc(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=kc(a.arrayValue.values[r]);return e}return Object.assign({},a)}function Fc(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}function _f(a){return"nullValue"in a?tu:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?So(qa.empty(),tt.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?{mapValue:{}}:Dn()}function Lc(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?So(qa.empty(),tt.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?{mapValue:{}}:"mapValue"in a?pa:Dn()}function El(a,e){const r=ns(a.value,e.value);return 0!==r?r:a.inclusive&&!e.inclusive?-1:!a.inclusive&&e.inclusive?1:0}function Vc(a,e){const r=ns(a.value,e.value);return 0!==r?r:a.inclusive&&!e.inclusive?1:!a.inclusive&&e.inclusive?-1:0}class ao{constructor(e){this.value=e}static empty(){return new ao({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!ru(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=kc(r)}setAll(e){let r=we.emptyPath(),s={},u=[];e.forEach((v,C)=>{if(!r.isImmediateParentOf(C)){const R=this.getFieldsMap(r);this.applyChanges(R,s,u),s={},u=[],r=C.popLast()}v?s[C.lastSegment()]=kc(v):u.push(C.lastSegment())});const f=this.getFieldsMap(r);this.applyChanges(f,s,u)}delete(e){const r=this.field(e.popLast());ru(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=r.mapValue.fields[e.get(s)];ru(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,s){N(r,(u,f)=>e[u]=f);for(const u of s)delete e[u]}clone(){return new ao(kc(this.value))}}function Al(a){const e=[];return N(a.fields,(r,s)=>{const u=new we([r]);if(ru(s)){const f=Al(s.mapValue).fields;if(0===f.length)e.push(u);else for(const v of f)e.push(u.child(v))}else e.push(u)}),new Tr(e)}class Fn{constructor(e,r,s,u,f,v,C){this.key=e,this.documentType=r,this.version=s,this.readTime=u,this.createTime=f,this.data=v,this.documentState=C}static newInvalidDocument(e){return new Fn(e,0,F.min(),F.min(),F.min(),ao.empty(),0)}static newFoundDocument(e,r,s,u){return new Fn(e,1,r,F.min(),s,u,0)}static newNoDocument(e,r){return new Fn(e,2,r,F.min(),F.min(),ao.empty(),0)}static newUnknownDocument(e,r){return new Fn(e,3,r,F.min(),F.min(),ao.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(F.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ao.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ao.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=F.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ma{constructor(e,r){this.position=e,this.inclusive=r}}function yf(a,e,r){let s=0;for(let u=0;u<a.position.length;u++){const f=e[u],v=a.position[u];if(s=f.field.isKeyField()?tt.comparator(tt.fromName(v.referenceValue),r.key):ns(v,r.data.field(f.field)),"desc"===f.dir&&(s*=-1),0!==s)break}return s}function Wd(a,e){if(null===a)return null===e;if(null===e||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!Xr(a.position[r],e.position[r]))return!1;return!0}class Uc{constructor(e,r="asc"){this.field=e,this.dir=r}}function If(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class Kd{}class Or extends Kd{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new Ci(e,r,s):"array-contains"===r?new Xd(e,s):"in"===r?new zu(e,s):"not-in"===r?new ov(e,s):"array-contains-any"===r?new sv(e,s):new Or(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new qd(e,s):new Cl(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(ns(r,this.value)):null!==r&&Xa(this.value)===Xa(r)&&this.matchesComparison(ns(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Dn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ai extends Kd{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Ai(e,r)}matches(e){return Hu(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Hu(a){return"and"===a.op}function Bc(a){return"or"===a.op}function Ef(a){return Yp(a)&&Hu(a)}function Yp(a){for(const e of a.filters)if(e instanceof Ai)return!1;return!0}function Wt(a){if(a instanceof Or)return a.field.canonicalString()+a.op.toString()+yl(a.value);if(Ef(a))return a.filters.map(e=>Wt(e)).join(",");{const e=a.filters.map(r=>Wt(r)).join(",");return`${a.op}(${e})`}}function qr(a,e){return a instanceof Or?(s=a,(u=e)instanceof Or&&s.op===u.op&&s.field.isEqual(u.field)&&Xr(s.value,u.value)):a instanceof Ai?function(s,u){return u instanceof Ai&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((f,v,C)=>f&&qr(v,u.filters[C]),!0)}(a,e):void Dn();var s,u}function Af(a,e){const r=a.filters.concat(e);return Ai.create(r,a.op)}function $c(a){return a instanceof Or?`${(r=a).field.canonicalString()} ${r.op} ${yl(r.value)}`:a instanceof Ai?function(r){return r.op.toString()+" {"+r.getFilters().map($c).join(" ,")+"}"}(a):"Filter";var r}class Ci extends Or{constructor(e,r,s){super(e,r,s),this.key=tt.fromName(s.referenceValue)}matches(e){const r=tt.comparator(e.key,this.key);return this.matchesComparison(r)}}class qd extends Or{constructor(e,r){super(e,"in",r),this.keys=zs(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Cl extends Or{constructor(e,r){super(e,"not-in",r),this.keys=zs(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function zs(a,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>tt.fromName(s.referenceValue))}class Xd extends Or{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Il(r)&&Qa(r.arrayValue,this.value)}}class zu extends Or{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Qa(this.value.arrayValue,r)}}class ov extends Or{constructor(e,r){super(e,"not-in",r)}matches(e){if(Qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Qa(this.value.arrayValue,r)}}class sv extends Or{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Il(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Qa(this.value.arrayValue,s))}}class Cf{constructor(e,r=null,s=[],u=[],f=null,v=null,C=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=u,this.limit=f,this.startAt=v,this.endAt=C,this.ue=null}}function Uo(a,e=null,r=[],s=[],u=null,f=null,v=null){return new Cf(a,e,r,s,u,f,v)}function ms(a){const e=_n(a);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>Wt(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(f=s).field.canonicalString()+f.dir;var f}).join(","),Rs(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>yl(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>yl(s)).join(",")),e.ue=r}return e.ue}function iu(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!If(a.orderBy[r],e.orderBy[r]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!qr(a.filters[r],e.filters[r]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Wd(a.startAt,e.startAt)&&Wd(a.endAt,e.endAt)}function rs(a){return tt.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}function na(a,e){return a.filters.filter(r=>r instanceof Or&&r.field.isEqual(e))}function Zp(a,e,r){let s=tu,u=!0;for(const f of na(a,e)){let v=tu,C=!0;switch(f.op){case"<":case"<=":v=_f(f.value);break;case"==":case"in":case">=":v=f.value;break;case">":v=f.value,C=!1;break;case"!=":case"not-in":v=tu}El({value:s,inclusive:u},{value:v,inclusive:C})<0&&(s=v,u=C)}if(null!==r)for(let f=0;f<a.orderBy.length;++f)if(a.orderBy[f].field.isEqual(e)){const v=r.position[f];El({value:s,inclusive:u},{value:v,inclusive:r.inclusive})<0&&(s=v,u=r.inclusive);break}return{value:s,inclusive:u}}function Tf(a,e,r){let s=pa,u=!0;for(const f of na(a,e)){let v=pa,C=!0;switch(f.op){case">=":case">":v=Lc(f.value),C=!1;break;case"==":case"in":case"<=":v=f.value;break;case"<":v=f.value,C=!1;break;case"!=":case"not-in":v=pa}Vc({value:s,inclusive:u},{value:v,inclusive:C})>0&&(s=v,u=C)}if(null!==r)for(let f=0;f<a.orderBy.length;++f)if(a.orderBy[f].field.isEqual(e)){const v=r.position[f];Vc({value:s,inclusive:u},{value:v,inclusive:r.inclusive})>0&&(s=v,u=r.inclusive);break}return{value:s,inclusive:u}}class va{constructor(e,r=null,s=[],u=[],f=null,v="F",C=null,R=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=u,this.limit=f,this.limitType=v,this.startAt=C,this.endAt=R,this.ce=null,this.le=null,this.he=null}}function Jp(a,e,r,s,u,f,v,C){return new va(a,e,r,s,u,f,v,C)}function Tl(a){return new va(a)}function jc(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function Hc(a){return null!==a.collectionGroup}function ra(a){const e=_n(a);if(null===e.ce){e.ce=[];const r=new Set;for(const f of e.explicitOrderBy)e.ce.push(f),r.add(f.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(v){let C=new ln(we.comparator);return v.filters.forEach(R=>{R.getFlattenedFilters().forEach(B=>{B.isInequality()&&(C=C.add(B.field))})}),C})(e).forEach(f=>{r.has(f.canonicalString())||f.isKeyField()||e.ce.push(new Uc(f,s))}),r.has(we.keyField().canonicalString())||e.ce.push(new Uc(we.keyField(),s))}return e.ce}function is(a){const e=_n(a);return e.le||(e.le=function Qd(a,e){if("F"===a.limitType)return Uo(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(u=>new Uc(u.field,"desc"===u.dir?"asc":"desc"));const r=a.endAt?new ma(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new ma(a.startAt.position,a.startAt.inclusive):null;return Uo(a.path,a.collectionGroup,e,a.filters,a.limit,r,s)}}(e,ra(a))),e.le}function Yd(a,e){const r=a.filters.concat([e]);return new va(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function zc(a,e,r){return new va(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,r,a.startAt,a.endAt)}function Gu(a,e){return iu(is(a),is(e))&&a.limitType===e.limitType}function bf(a){return`${ms(is(a))}|lt:${a.limitType}`}function Dl(a){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(u=>$c(u)).join(", ")}]`),Rs(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(u=>{return`${(v=u).field.canonicalString()} (${v.dir})`;var v}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(u=>yl(u)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(u=>yl(u)).join(",")),`Target(${s})`}(is(a))}; limitType=${a.limitType})`}function ou(a,e){return e.isFoundDocument()&&function(s,u){const f=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):tt.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(a,e)&&function(s,u){for(const f of ra(s))if(!f.field.isKeyField()&&null===u.data.field(f.field))return!1;return!0}(a,e)&&function(s,u){for(const f of s.filters)if(!f.matches(u))return!1;return!0}(a,e)&&(u=e,!((s=a).startAt&&!function(v,C,R){const B=yf(v,C,R);return v.inclusive?B<=0:B<0}(s.startAt,ra(s),u)||s.endAt&&!function(v,C,R){const B=yf(v,C,R);return v.inclusive?B>=0:B>0}(s.endAt,ra(s),u)));var s,u}function Wo(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function bl(a){return(e,r)=>{let s=!1;for(const u of ra(a)){const f=Wi(u,e,r);if(0!==f)return f;s=s||u.field.isKeyField()}return 0}}function Wi(a,e,r){const s=a.field.isKeyField()?tt.comparator(e.key,r.key):function(f,v,C){const R=v.data.field(f),B=C.data.field(f);return null!==R&&null!==B?ns(R,B):Dn()}(a.field,e,r);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Dn()}}class Za{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[u,f]of s)if(this.equalsFn(u,e))return f}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),u=this.inner[s];if(void 0===u)return this.inner[s]=[[e,r]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,r]);u.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return 1===s.length?delete this.inner[r]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){N(this.inner,(r,s)=>{for(const[u,f]of s)e(u,f)})}isEmpty(){return _e(this.inner)}size(){return this.innerSize}}const av=new ct(tt.comparator);function vs(){return av}const eg=new ct(tt.comparator);function Wu(...a){let e=eg;for(const r of a)e=e.insert(r.key,r);return e}function wf(a){let e=eg;return a.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function Ms(){return su()}function _a(){return su()}function su(){return new Za(a=>a.toString(),(a,e)=>a.isEqual(e))}const Ku=new ct(tt.comparator),Zd=new ln(tt.comparator);function wr(...a){let e=Zd;for(const r of a)e=e.add(r);return e}const Sf=new ln(sr);function Gc(){return Sf}function Jd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gs(e)?"-0":e}}function eh(a){return{integerValue:""+a}}function au(a,e){return fa(e)?eh(e):Jd(a,e)}class lu{constructor(){this._=void 0}}function Rf(a,e,r){return a instanceof uu?function(u,f){const v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&ta(f)&&(f=ju(f)),f&&(v.fields.__previous_value__=f),{mapValue:v}}(r,e):a instanceof wl?lv(a,e):a instanceof qu?nh(a,e):function(u,f){const v=Wc(u,f),C=tg(v)+tg(u.Pe);return Oc(v)&&Oc(u.Pe)?eh(C):Jd(u.serializer,C)}(a,e)}function th(a,e,r){return a instanceof wl?lv(a,e):a instanceof qu?nh(a,e):r}function Wc(a,e){return a instanceof Fa?Oc(s=e)||(f=s)&&"doubleValue"in f?e:{integerValue:0}:null;var s,f}class uu extends lu{}class wl extends lu{constructor(e){super(),this.elements=e}}function lv(a,e){const r=cu(e);for(const s of a.elements)r.some(u=>Xr(u,s))||r.push(s);return{arrayValue:{values:r}}}class qu extends lu{constructor(e){super(),this.elements=e}}function nh(a,e){let r=cu(e);for(const s of a.elements)r=r.filter(u=>!Xr(u,s));return{arrayValue:{values:r}}}class Fa extends lu{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function tg(a){return Ei(a.integerValue||a.doubleValue)}function cu(a){return Il(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class du{constructor(e,r){this.field=e,this.transform=r}}class Ny{constructor(e,r){this.version=e,this.transformResults=r}}class pi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new pi}static exists(e){return new pi(void 0,e)}static updateTime(e){return new pi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kc(a,e){return void 0!==a.updateTime?e.isFoundDocument()&&e.version.isEqual(a.updateTime):void 0===a.exists||a.exists===e.isFoundDocument()}class rh{}function Gs(a,e){if(!a.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return a.isNoDocument()?new hu(a.key,pi.none()):new ya(a.key,a.data,pi.none());{const r=a.data,s=ao.empty();let u=new ln(we.comparator);for(let f of e.fields)if(!u.has(f)){let v=r.field(f);null===v&&f.length>1&&(f=f.popLast(),v=r.field(f)),null===v?s.delete(f):s.set(f,v),u=u.add(f)}return new Ia(a.key,s,new Tr(u.toArray()),pi.none())}}function uv(a,e,r){a instanceof ya?function(u,f,v){const C=u.value.clone(),R=qc(u.fieldTransforms,f,v.transformResults);C.setAll(R),f.convertToFoundDocument(v.version,C).setHasCommittedMutations()}(a,e,r):a instanceof Ia?function(u,f,v){if(!Kc(u.precondition,f))return void f.convertToUnknownDocument(v.version);const C=qc(u.fieldTransforms,f,v.transformResults),R=f.data;R.setAll(ng(u)),R.setAll(C),f.convertToFoundDocument(v.version,R).setHasCommittedMutations()}(a,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function La(a,e,r,s){return a instanceof ya?function(f,v,C,R){if(!Kc(f.precondition,v))return C;const B=f.value.clone(),ee=Nf(f.fieldTransforms,R,v);return B.setAll(ee),v.convertToFoundDocument(v.version,B).setHasLocalMutations(),null}(a,e,r,s):a instanceof Ia?function(f,v,C,R){if(!Kc(f.precondition,v))return C;const B=Nf(f.fieldTransforms,R,v),ee=v.data;return ee.setAll(ng(f)),ee.setAll(B),v.convertToFoundDocument(v.version,ee).setHasLocalMutations(),null===C?null:C.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(Ae=>Ae.field))}(a,e,r,s):(C=r,Kc(a.precondition,v=e)?(v.convertToNoDocument(v.version).setHasLocalMutations(),null):C);var v,C}function Mf(a,e){let r=null;for(const s of a.fieldTransforms){const u=e.data.field(s.field),f=Wc(s.transform,u||null);null!=f&&(null===r&&(r=ao.empty()),r.set(s.field,f))}return r||null}function xf(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(s=a.fieldTransforms)&&void 0===u||s&&u&&Bs(s,u,(f,v)=>function Pf(a,e){return a.field.isEqual(e.field)&&(u=e.transform,(s=a.transform)instanceof wl&&u instanceof wl||s instanceof qu&&u instanceof qu?Bs(s.elements,u.elements,Xr):s instanceof Fa&&u instanceof Fa?Xr(s.Pe,u.Pe):s instanceof uu&&u instanceof uu);var s,u}(f,v))))&&(0===a.type?a.value.isEqual(e.value):1!==a.type||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask));var s,u}class ya extends rh{constructor(e,r,s,u=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ia extends rh{constructor(e,r,s,u,f=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function ng(a){const e=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=a.data.field(r);e.set(r,s)}}),e}function qc(a,e,r){const s=new Map;jn(a.length===r.length);for(let u=0;u<r.length;u++){const f=a[u],v=f.transform,C=e.data.field(f.field);s.set(f.field,th(v,C,r[u]))}return s}function Nf(a,e,r){const s=new Map;for(const u of a){const f=u.transform,v=r.data.field(u.field);s.set(u.field,Rf(f,v,e))}return s}class hu extends rh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ih extends rh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Of{constructor(e,r,s,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(e.key)&&uv(f,e,s[u])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=La(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=La(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=_a();return this.mutations.forEach(u=>{const f=e.get(u.key),v=f.overlayedDocument;let C=this.applyToLocalView(v,f.mutatedFields);C=r.has(u.key)?null:C;const R=Gs(v,C);null!==R&&s.set(u.key,R),v.isValidDocument()||v.convertToNoDocument(F.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),wr())}isEqual(e){return this.batchId===e.batchId&&Bs(this.mutations,e.mutations,(r,s)=>xf(r,s))&&Bs(this.baseMutations,e.baseMutations,(r,s)=>xf(r,s))}}class Xu{constructor(e,r,s,u){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=u}static from(e,r,s){jn(e.mutations.length===s.length);let u=function(){return Ku}();const f=e.mutations;for(let v=0;v<f.length;v++)u=u.insert(f[v].key,s[v].version);return new Xu(e,r,s,u)}}class Va{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class rg{constructor(e,r){this.count=e,this.unchangedNames=r}}var go,Ur;function Ja(a){switch(a){default:return Dn();case Ut.CANCELLED:case Ut.UNKNOWN:case Ut.DEADLINE_EXCEEDED:case Ut.RESOURCE_EXHAUSTED:case Ut.INTERNAL:case Ut.UNAVAILABLE:case Ut.UNAUTHENTICATED:return!1;case Ut.INVALID_ARGUMENT:case Ut.NOT_FOUND:case Ut.ALREADY_EXISTS:case Ut.PERMISSION_DENIED:case Ut.FAILED_PRECONDITION:case Ut.ABORTED:case Ut.OUT_OF_RANGE:case Ut.UNIMPLEMENTED:case Ut.DATA_LOSS:return!0}}function Ao(a){if(void 0===a)return Ri("GRPC error has no .code"),Ut.UNKNOWN;switch(a){case go.OK:return Ut.OK;case go.CANCELLED:return Ut.CANCELLED;case go.UNKNOWN:return Ut.UNKNOWN;case go.DEADLINE_EXCEEDED:return Ut.DEADLINE_EXCEEDED;case go.RESOURCE_EXHAUSTED:return Ut.RESOURCE_EXHAUSTED;case go.INTERNAL:return Ut.INTERNAL;case go.UNAVAILABLE:return Ut.UNAVAILABLE;case go.UNAUTHENTICATED:return Ut.UNAUTHENTICATED;case go.INVALID_ARGUMENT:return Ut.INVALID_ARGUMENT;case go.NOT_FOUND:return Ut.NOT_FOUND;case go.ALREADY_EXISTS:return Ut.ALREADY_EXISTS;case go.PERMISSION_DENIED:return Ut.PERMISSION_DENIED;case go.FAILED_PRECONDITION:return Ut.FAILED_PRECONDITION;case go.ABORTED:return Ut.ABORTED;case go.OUT_OF_RANGE:return Ut.OUT_OF_RANGE;case go.UNIMPLEMENTED:return Ut.UNIMPLEMENTED;case go.DATA_LOSS:return Ut.DATA_LOSS;default:return Dn()}}(Ur=go||(go={}))[Ur.OK=0]="OK",Ur[Ur.CANCELLED=1]="CANCELLED",Ur[Ur.UNKNOWN=2]="UNKNOWN",Ur[Ur.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ur[Ur.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ur[Ur.NOT_FOUND=5]="NOT_FOUND",Ur[Ur.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ur[Ur.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ur[Ur.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ur[Ur.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ur[Ur.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ur[Ur.ABORTED=10]="ABORTED",Ur[Ur.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ur[Ur.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ur[Ur.INTERNAL=13]="INTERNAL",Ur[Ur.UNAVAILABLE=14]="UNAVAILABLE",Ur[Ur.DATA_LOSS=15]="DATA_LOSS";function Qu(){return new TextEncoder}const kf=new hs([4294967295,4294967295],0);function ig(a){const e=Qu().encode(a),r=new Us;return r.update(e),new Uint8Array(r.digest())}function Ff(a){const e=new DataView(a.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new hs([r,s],0),new hs([u,f],0)]}class fu{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new Xc(`Invalid padding: ${r}`);if(s<0)throw new Xc(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Xc(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new Xc(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=hs.fromNumber(this.Ie)}Ee(e,r,s){let u=e.add(r.multiply(hs.fromNumber(s)));return 1===u.compare(kf)&&(u=new hs([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=ig(e),[s,u]=Ff(r);for(let f=0;f<this.hashCount;f++){const v=this.Ee(s,u,f);if(!this.de(v))return!1}return!0}static create(e,r,s){const u=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),v=new fu(f,u,r);return s.forEach(C=>v.insert(C)),v}insert(e){if(0===this.Ie)return;const r=ig(e),[s,u]=Ff(r);for(let f=0;f<this.hashCount;f++){const v=this.Ee(s,u,f);this.Ae(v)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Xc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yu{constructor(e,r,s,u,f){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const u=new Map;return u.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Yu(F.min(),u,new ct(sr),vs(),wr())}}class pu{constructor(e,r,s,u,f){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new pu(s,r,wr(),wr(),wr())}}class gu{constructor(e,r,s,u){this.Re=e,this.removedTargetIds=r,this.key=s,this.Ve=u}}class mu{constructor(e,r){this.targetId=e,this.me=r}}class og{constructor(e,r,s=Gi.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=u}}class Lf{constructor(){this.fe=0,this.ge=sg(),this.pe=Gi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=wr(),r=wr(),s=wr();return this.ge.forEach((u,f)=>{switch(f){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:s=s.add(u);break;default:Dn()}}),new pu(this.pe,this.ye,e,r,s)}ve(){this.we=!1,this.ge=sg()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,jn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class cv{constructor(e){this.Le=e,this.Be=new Map,this.ke=vs(),this.qe=Vf(),this.Qe=new ct(sr)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const s=this.Ge(r);switch(e.state){case 0:this.ze(r)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.ve(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(e.resumeToken));break;default:Dn()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((s,u)=>{this.ze(u)&&r(u)})}He(e){const r=e.targetId,s=e.me.count,u=this.Je(r);if(u){const f=u.target;if(rs(f))if(0===s){const v=new tt(f.path);this.Ue(r,v,Fn.newNoDocument(v,F.min()))}else jn(1===s);else{const v=this.Ye(r);if(v!==s){const C=this.Ze(e),R=C?this.Xe(C,e,v):1;0!==R&&(this.je(r),this.Qe=this.Qe.insert(r,2===R?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:f=0}=r;let v,C;try{v=Hs(s).toUint8Array()}catch(R){if(R instanceof po)return Lo("Decoding the base64 bloom filter in existence filter failed ("+R.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw R}try{C=new fu(v,u,f)}catch(R){return Lo(R instanceof Xc?"BloomFilter error: ":"Applying bloom filter failed: ",R),null}return 0===C.Ie?null:C}Xe(e,r,s){return r.me.count===s-this.nt(e,r.targetId)?0:2}nt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let u=0;return s.forEach(f=>{const v=this.Le.tt(),C=`projects/${v.projectId}/databases/${v.database}/documents/${f.path.canonicalString()}`;e.mightContain(C)||(this.Ue(r,f,null),u++)}),u}rt(e){const r=new Map;this.Be.forEach((f,v)=>{const C=this.Je(v);if(C){if(f.current&&rs(C.target)){const R=new tt(C.target.path);null!==this.ke.get(R)||this.it(v,R)||this.Ue(v,R,Fn.newNoDocument(R,e))}f.be&&(r.set(v,f.Ce()),f.ve())}});let s=wr();this.qe.forEach((f,v)=>{let C=!0;v.forEachWhile(R=>{const B=this.Je(R);return!B||"TargetPurposeLimboResolution"===B.purpose||(C=!1,!1)}),C&&(s=s.add(f))}),this.ke.forEach((f,v)=>v.setReadTime(e));const u=new Yu(e,r,this.Qe,this.ke,s);return this.ke=vs(),this.qe=Vf(),this.Qe=new ct(sr),u}$e(e,r){if(!this.ze(e))return;const s=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,s){if(!this.ze(e))return;const u=this.Ge(e);this.it(e,r)?u.Fe(r,1):u.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Lf,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new ln(sr),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||sn("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Lf),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Vf(){return new ct(tt.comparator)}function sg(){return new ct(tt.comparator)}const ag={asc:"ASCENDING",desc:"DESCENDING"},lg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uf={and:"AND",or:"OR"};class Bf{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Qc(a,e){return a.useProto3Json||Rs(e)?e:{value:e}}function vu(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function os(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function Oy(a,e){return vu(a,e.toTimestamp())}function si(a){return jn(!!a),F.fromTimestamp(function(r){const s=ts(r);return new D(s.seconds,s.nanos)}(a))}function Zu(a,e){return Ju(a,e).canonicalString()}function Ju(a,e){const r=(u=a,new M(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===e?r:r.child(e)}function Ua(a){const e=M.fromString(a);return jn(h(e)),e}function Sl(a,e){return Zu(a.databaseId,e.path)}function Ko(a,e){const r=Ua(e);if(r.get(1)!==a.databaseId.projectId)throw new Jt(Ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new Jt(Ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new tt(Rl(r))}function ug(a,e){return Zu(a.databaseId,e)}function $f(a){const e=Ua(a);return 4===e.length?M.emptyPath():Rl(e)}function ah(a){return new M(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Rl(a){return jn(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function cg(a,e,r){return{name:Sl(a,e),fields:r.value.mapValue.fields}}function dv(a,e,r){const s=Ko(a,e.name),u=si(e.updateTime),f=e.createTime?si(e.createTime):F.min(),v=new ao({mapValue:{fields:e.fields}}),C=Fn.newFoundDocument(s,u,f,v);return r&&C.setHasCommittedMutations(),r?C.setHasCommittedMutations():C}function ec(a,e){let r;if(e instanceof ya)r={update:cg(a,e.key,e.value)};else if(e instanceof hu)r={delete:Sl(a,e.key)};else if(e instanceof Ia)r={update:cg(a,e.key,e.data),updateMask:y(e.fieldMask)};else{if(!(e instanceof ih))return Dn();r={verify:Sl(a,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(f,v){const C=v.transform;if(C instanceof uu)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof wl)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof qu)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof Fa)return{fieldPath:v.field.canonicalString(),increment:C.Pe};throw Dn()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(f=e.precondition).updateTime?{updateTime:Oy(a,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:Dn()),r;var f}function mo(a,e){const r=e.currentDocument?void 0!==(f=e.currentDocument).updateTime?pi.updateTime(si(f.updateTime)):void 0!==f.exists?pi.exists(f.exists):pi.none():pi.none(),s=e.updateTransforms?e.updateTransforms.map(u=>function(v,C){let R=null;"setToServerValue"in C?(jn("REQUEST_TIME"===C.setToServerValue),R=new uu):"appendMissingElements"in C?R=new wl(C.appendMissingElements.values||[]):"removeAllFromArray"in C?R=new qu(C.removeAllFromArray.values||[]):"increment"in C?R=new Fa(v,C.increment):Dn();const B=we.fromServerFormat(C.fieldPath);return new du(B,R)}(a,u)):[];var f;if(e.update){const u=Ko(a,e.update.name),f=new ao({mapValue:{fields:e.update.fields}});if(e.updateMask){const v=new Tr((e.updateMask.fieldPaths||[]).map(ee=>we.fromServerFormat(ee)));return new Ia(u,f,v,r,s)}return new ya(u,f,r,s)}if(e.delete){const u=Ko(a,e.delete);return new hu(u,r)}if(e.verify){const u=Ko(a,e.verify);return new ih(u,r)}return Dn()}function Yc(a,e){return{documents:[ug(a,e.path)]}}function lh(a,e){const r={structuredQuery:{}},s=e.path;let u;null!==e.collectionGroup?(u=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=ug(a,u);const f=function(B){if(0!==B.length)return ed(Ai.create(B,"and"))}(e.filters);f&&(r.structuredQuery.where=f);const v=function(B){if(0!==B.length)return B.map(ee=>{return{field:el((Ke=ee).field),direction:Jc(Ke.dir)};var Ke})}(e.orderBy);v&&(r.structuredQuery.orderBy=v);const C=Qc(a,e.limit);return null!==C&&(r.structuredQuery.limit=C),e.startAt&&(r.structuredQuery.startAt={before:(B=e.startAt).inclusive,values:B.position}),e.endAt&&(r.structuredQuery.endAt=function(B){return{before:!B.inclusive,values:B.position}}(e.endAt)),{_t:r,parent:u};var B}function _s(a){let e=$f(a.parent);const r=a.structuredQuery,s=r.from?r.from.length:0;let u=null;if(s>0){jn(1===s);const ee=r.from[0];ee.allDescendants?u=ee.collectionId:e=e.child(ee.collectionId)}let f=[];r.where&&(f=function(Ae){const Ke=Zc(Ae);return Ke instanceof Ai&&Ef(Ke)?Ke.getFilters():[Ke]}(r.where));let v=[];r.orderBy&&(v=r.orderBy.map(Ke=>{return new Uc(tl((Ht=Ke).field),function(Kt){switch(Kt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ht.direction));var Ht}));let C=null;r.limit&&(C=function(Ae){let Ke;return Ke="object"==typeof Ae?Ae.value:Ae,Rs(Ke)?null:Ke}(r.limit));let R=null;var Ae;r.startAt&&(R=new ma((Ae=r.startAt).values||[],!!Ae.before));let B=null;return r.endAt&&(B=function(Ae){return new ma(Ae.values||[],!Ae.before)}(r.endAt)),Jp(e,u,v,f,C,"F",R,B)}function Zc(a){return void 0!==a.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=tl(r.unaryFilter.field);return Or.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=tl(r.unaryFilter.field);return Or.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=tl(r.unaryFilter.field);return Or.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const v=tl(r.unaryFilter.field);return Or.create(v,"!=",{nullValue:"NULL_VALUE"});default:return Dn()}}(a):void 0!==a.fieldFilter?Or.create(tl((r=a).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dn()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==a.compositeFilter?function(r){return Ai.create(r.compositeFilter.filters.map(s=>Zc(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Dn()}}(r.compositeFilter.op))}(a):Dn();var r}function Jc(a){return ag[a]}function jf(a){return lg[a]}function hg(a){return Uf[a]}function el(a){return{fieldPath:a.canonicalString()}}function tl(a){return we.fromServerFormat(a.fieldPath)}function ed(a){return a instanceof Or?function(r){if("=="===r.op){if(ga(r.value))return{unaryFilter:{field:el(r.field),op:"IS_NAN"}};if(Qp(r.value))return{unaryFilter:{field:el(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(ga(r.value))return{unaryFilter:{field:el(r.field),op:"IS_NOT_NAN"}};if(Qp(r.value))return{unaryFilter:{field:el(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(r.field),op:jf(r.op),value:r.value}}}(a):a instanceof Ai?function(r){const s=r.getFilters().map(u=>ed(u));return 1===s.length?s[0]:{compositeFilter:{op:hg(r.op),filters:s}}}(a):Dn()}function y(a){const e=[];return a.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function h(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}class g{constructor(e,r,s,u,f=F.min(),v=F.min(),C=Gi.EMPTY_BYTE_STRING,R=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=C,this.expectedCount=R}withSequenceNumber(e){return new g(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new g(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new g(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new g(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class A{constructor(e){this.ct=e}}function se(a,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Qe(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Sl(f=a.ct,(v=e).key),fields:v.data.value.mapValue.fields,updateTime:vu(f,v.version.toTimestamp()),createTime:vu(f,v.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:yt(e.version)};else{if(!e.isUnknownDocument())return Dn();s.unknownDocument={path:r.path.toArray(),version:yt(e.version)}}var f,v;return s}function Qe(a){const e=a.toTimestamp();return[e.seconds,e.nanoseconds]}function yt(a){const e=a.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Gt(a){const e=new D(a.seconds,a.nanoseconds);return F.fromTimestamp(e)}function yn(a,e){const r=(e.baseMutations||[]).map(f=>mo(a.ct,f));for(let f=0;f<e.mutations.length-1;++f)f+1<e.mutations.length&&void 0!==e.mutations[f+1].transform&&(e.mutations[f].updateTransforms=e.mutations[f+1].transform.fieldTransforms,e.mutations.splice(f+1,1),++f);const s=e.mutations.map(f=>mo(a.ct,f)),u=D.fromMillis(e.localWriteTimeMs);return new Of(e.batchId,u,r,s)}function xn(a){const e=Gt(a.readTime),r=void 0!==a.lastLimboFreeSnapshotVersion?Gt(a.lastLimboFreeSnapshotVersion):F.min();let s;return s=void 0!==a.query.documents?(jn(1===(f=a.query).documents.length),is(Tl($f(f.documents[0])))):function(f){return is(_s(f))}(a.query),new g(s,a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,e,r,Gi.fromBase64String(a.resumeToken));var f}function An(a,e){const r=yt(e.snapshotVersion),s=yt(e.lastLimboFreeSnapshotVersion);let u;u=rs(e.target)?Yc(a.ct,e.target):lh(a.ct,e.target)._t;const f=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ms(e.target),readTime:r,resumeToken:f,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function Ti(a){const e=_s({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?zc(e,e.limit,"L"):e}function xs(a,e){return new Va(e.largestBatchId,mo(a.ct,e.overlayMutation))}function tc(a,e){const r=e.path.lastSegment();return[a,Un(e.path.popLast()),r]}function Hf(a,e,r,s){return{indexId:a,uid:e,sequenceNumber:r,readTime:yt(s.readTime),documentKey:Un(s.documentKey.path),largestBatchId:s.largestBatchId}}class uh{getBundleMetadata(e,r){return zf(e).get(r).next(s=>{if(s)return{id:(f=s).bundleId,createTime:Gt(f.createTime),version:f.version};var f})}saveBundleMetadata(e,r){return zf(e).put({bundleId:(u=r).id,createTime:yt(si(u.createTime)),version:u.version});var u}getNamedQuery(e,r){return ch(e).get(r).next(s=>{if(s)return{name:(f=s).name,query:Ti(f.bundledQuery),readTime:Gt(f.readTime)};var f})}saveNamedQuery(e,r){return ch(e).put({name:(u=r).name,readTime:yt(si(u.readTime)),bundledQuery:u.bundledQuery});var u}}function zf(a){return P(a,"bundles")}function ch(a){return P(a,"namedQueries")}class nc{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new nc(e,r.uid||"")}getOverlay(e,r){return yu(e).get(tc(this.userId,r)).next(s=>s?xs(this.serializer,s):null)}getOverlays(e,r){const s=Ms();return Pt.forEach(r,u=>this.getOverlay(e,u).next(f=>{null!==f&&s.set(u,f)})).next(()=>s)}saveOverlays(e,r,s){const u=[];return s.forEach((f,v)=>{const C=new Va(r,v);u.push(this.ht(e,C))}),Pt.waitFor(u)}removeOverlaysForBatchId(e,r,s){const u=new Set;r.forEach(v=>u.add(Un(v.getCollectionPath())));const f=[];return u.forEach(v=>{const C=IDBKeyRange.bound([this.userId,v,s],[this.userId,v,s+1],!1,!0);f.push(yu(e).j("collectionPathOverlayIndex",C))}),Pt.waitFor(f)}getOverlaysForCollection(e,r,s){const u=Ms(),f=Un(r),v=IDBKeyRange.bound([this.userId,f,s],[this.userId,f,Number.POSITIVE_INFINITY],!0);return yu(e).U("collectionPathOverlayIndex",v).next(C=>{for(const R of C){const B=xs(this.serializer,R);u.set(B.getKey(),B)}return u})}getOverlaysForCollectionGroup(e,r,s,u){const f=Ms();let v;const C=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return yu(e).J({index:"collectionGroupOverlayIndex",range:C},(R,B,ee)=>{const Ae=xs(this.serializer,B);f.size()<u||Ae.largestBatchId===v?(f.set(Ae.getKey(),Ae),v=Ae.largestBatchId):ee.done()}).next(()=>f)}ht(e,r){return yu(e).put(function(u,f,v){const[C,R,B]=tc(f,v.mutation.key);return{userId:f,collectionPath:R,documentId:B,collectionGroup:v.mutation.key.getCollectionGroup(),largestBatchId:v.largestBatchId,overlayMutation:ec(u.ct,v.mutation)}}(this.serializer,this.userId,r))}}function yu(a){return P(a,"documentOverlays")}class Pl{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(Ei(e.integerValue));else if("doubleValue"in e){const s=Ei(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),gs(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Et(r,20),"string"==typeof s&&(s=ts(s)),r.At(`${s.seconds||""}`),r.dt(s.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(Hs(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?Fc(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):Dn()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const u of Object.keys(s))this.Rt(u,r),this.It(s[u],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const u of s)this.It(u,r)}gt(e,r){this.Et(r,37),tt.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function Gf(a){if(0===a)return 8;let e=0;return!(a>>4)&&(e+=4,a<<=4),!(a>>6)&&(e+=2,a<<=2),!(a>>7)&&(e+=1),e}function Wf(a){const e=64-function(s){let u=0;for(let f=0;f<8;++f){const v=Gf(255&s[f]);if(u+=v,8!==v)break}return u}(a);return Math.ceil(e/8)}Pl.bt=new Pl;class hv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ct(s.value),s=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Mt(s.value),s=r.next();this.xt()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const u=r.codePointAt(0);this.Ct(240|u>>>18),this.Ct(128|63&u>>>12),this.Ct(128|63&u>>>6),this.Ct(128|63&u)}}this.vt()}Nt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const u=r.codePointAt(0);this.Mt(240|u>>>18),this.Mt(128|63&u>>>12),this.Mt(128|63&u>>>6),this.Mt(128|63&u)}}this.xt()}Lt(e){const r=this.Bt(e),s=Wf(r);this.kt(1+s),this.buffer[this.position++]=255&s;for(let u=r.length-s;u<r.length;++u)this.buffer[this.position++]=255&r[u]}qt(e){const r=this.Bt(e),s=Wf(r);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let u=r.length-s;u<r.length;++u)this.buffer[this.position++]=~(255&r[u])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(f){const v=new DataView(new ArrayBuffer(8));return v.setFloat64(0,f,!1),new Uint8Array(v.buffer)}(e),s=!!(128&r[0]);r[0]^=s?255:128;for(let u=1;u<r.length;++u)r[u]^=s?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class dh{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class fg{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class hh{constructor(){this.Gt=new hv,this.zt=new dh(this.Gt),this.jt=new fg(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Ml{constructor(e,r,s,u){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=u}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Ml(this.indexId,this.documentKey,this.arrayValue,s)}}function Iu(a,e){let r=a.indexId-e.indexId;return 0!==r?r:(r=fv(a.arrayValue,e.arrayValue),0!==r?r:(r=fv(a.directionalValue,e.directionalValue),0!==r?r:tt.comparator(a.documentKey,e.documentKey)))}function fv(a,e){for(let r=0;r<a.length&&r<e.length;++r){const s=a[r]-e[r];if(0!==s)return s}return a.length-e.length}class pv{constructor(e){this.Yt=new ln((r,s)=>we.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(jn(e.collectionGroup===this.collectionId),this.en)return!1;const r=Ar(e);if(void 0!==r&&!this.nn(r))return!1;const s=br(e);let u=new Set,f=0,v=0;for(;f<s.length&&this.nn(s[f]);++f)u=u.add(s[f].fieldPath.canonicalString());if(f===s.length)return!0;if(this.Yt.size>0){const C=this.Yt.getIterator().getNext();if(!u.has(C.field.canonicalString())){const R=s[f];if(!this.rn(C,R)||!this.sn(this.Zt[v++],R))return!1}++f}for(;f<s.length;++f)if(v>=this.Zt.length||!this.sn(this.Zt[v++],s[f]))return!1;return!0}on(){if(this.en)return null;let e=new ln(we.comparator);const r=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new pr(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new pr(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new pr(s.field,"asc"===s.dir?0:1)));return new on(on.UNKNOWN_ID,this.collectionId,r,Vr.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function gv(a){var e,r;if(jn(a instanceof Or||a instanceof Ai),a instanceof Or){if(a instanceof zu){const u=(null===(r=null===(e=a.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(f=>Or.create(a.field,"==",f)))||[];return Ai.create(u,"or")}return a}const s=a.filters.map(u=>gv(u));return Ai.create(s,a.op)}function aE(a){if(0===a.getFilters().length)return[];const e=pg(gv(a));return jn(Ly(e)),mv(e)||vv(e)?[e]:e.getFilters()}function mv(a){return a instanceof Or}function vv(a){return a instanceof Ai&&Ef(a)}function Ly(a){return mv(a)||vv(a)||function(r){if(r instanceof Ai&&Bc(r)){for(const s of r.getFilters())if(!mv(s)&&!vv(s))return!1;return!0}return!1}(a)}function pg(a){if(jn(a instanceof Or||a instanceof Ai),a instanceof Or)return a;if(1===a.filters.length)return pg(a.filters[0]);const e=a.filters.map(s=>pg(s));let r=Ai.create(e,a.op);return r=gg(r),Ly(r)?r:(jn(r instanceof Ai),jn(Hu(r)),jn(r.filters.length>1),r.filters.reduce((s,u)=>Vy(s,u)))}function Vy(a,e){let r;return jn(a instanceof Or||a instanceof Ai),jn(e instanceof Or||e instanceof Ai),r=a instanceof Or?e instanceof Or?Ai.create([a,e],"and"):_v(a,e):e instanceof Or?_v(e,a):function(u,f){if(jn(u.filters.length>0&&f.filters.length>0),Hu(u)&&Hu(f))return Af(u,f.getFilters());const v=Bc(u)?u:f,C=Bc(u)?f:u,R=v.filters.map(B=>Vy(B,C));return Ai.create(R,"or")}(a,e),gg(r)}function _v(a,e){if(Hu(e))return Af(e,a.getFilters());{const r=e.filters.map(s=>Vy(a,s));return Ai.create(r,"or")}}function gg(a){if(jn(a instanceof Or||a instanceof Ai),a instanceof Or)return a;const e=a.getFilters();if(1===e.length)return gg(e[0]);if(Yp(a))return a;const r=e.map(u=>gg(u)),s=[];return r.forEach(u=>{u instanceof Or?s.push(u):u instanceof Ai&&(u.op===a.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:Ai.create(s,a.op)}class lE{constructor(){this._n=new Uy}addToCollectionParentIndex(e,r){return this._n.add(r),Pt.resolve()}getCollectionParents(e,r){return Pt.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return Pt.resolve()}deleteFieldIndex(e,r){return Pt.resolve()}deleteAllFieldIndexes(e){return Pt.resolve()}createTargetIndexes(e,r){return Pt.resolve()}getDocumentsMatchingTarget(e,r){return Pt.resolve(null)}getIndexType(e,r){return Pt.resolve(0)}getFieldIndexes(e,r){return Pt.resolve([])}getNextCollectionGroupToUpdate(e){return Pt.resolve(null)}getMinOffset(e,r){return Pt.resolve(nn.min())}getMinOffsetFromCollectionGroup(e,r){return Pt.resolve(nn.min())}updateCollectionGroup(e,r,s){return Pt.resolve()}updateIndexEntries(e,r){return Pt.resolve()}}class Uy{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r]||new ln(M.comparator),f=!u.has(s);return this.index[r]=u.add(s),f}has(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r];return u&&u.has(s)}getEntries(e){return(this.index[e]||new ln(M.comparator)).toArray()}}const mg=new Uint8Array(0);class By{constructor(e,r){this.databaseId=r,this.an=new Uy,this.un=new Za(s=>ms(s),(s,u)=>iu(s,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const s=r.lastSegment(),u=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const f={collectionId:s,parent:Un(u)};return vg(e).put(f)}return Pt.resolve()}getCollectionParents(e,r){const s=[],u=IDBKeyRange.bound([r,""],[Na(r),""],!1,!0);return vg(e).U(u).next(f=>{for(const v of f){if(v.collectionId!==r)break;s.push(zi(v.parent))}return s})}addFieldIndex(e,r){const s=Ba(e),u={indexId:(C=r).indexId,collectionGroup:C.collectionGroup,fields:C.fields.map(R=>[R.fieldPath.canonicalString(),R.kind])};var C;delete u.indexId;const f=s.add(u);if(r.indexState){const v=td(e);return f.next(C=>{v.put(Hf(C,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return f.next()}deleteFieldIndex(e,r){const s=Ba(e),u=td(e),f=fh(e);return s.delete(r.indexId).next(()=>u.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Ba(e),s=fh(e),u=td(e);return r.j().next(()=>s.j()).next(()=>u.j())}createTargetIndexes(e,r){return Pt.forEach(this.cn(r),s=>this.getIndexType(e,s).next(u=>{if(0===u||1===u){const f=new pv(s).on();if(null!=f)return this.addFieldIndex(e,f)}}))}getDocumentsMatchingTarget(e,r){const s=fh(e);let u=!0;const f=new Map;return Pt.forEach(this.cn(r),v=>this.ln(e,v).next(C=>{u&&(u=!!C),f.set(v,C)})).next(()=>{if(u){let v=wr();const C=[];return Pt.forEach(f,(R,B)=>{var bn;sn("IndexedDbIndexManager",`Using index ${bn=R,`id=${bn.indexId}|cg=${bn.collectionGroup}|f=${bn.fields.map(zn=>`${zn.fieldPath}:${zn.kind}`).join(",")}`} to execute ${ms(r)}`);const ee=function(bn,zn){const Br=Ar(zn);if(void 0===Br)return null;for(const _r of na(bn,Br.fieldPath))switch(_r.op){case"array-contains-any":return _r.value.arrayValue.values||[];case"array-contains":return[_r.value]}return null}(B,R),Ae=function(bn,zn){const Br=new Map;for(const _r of br(zn))for(const Ct of na(bn,_r.fieldPath))switch(Ct.op){case"==":case"in":Br.set(_r.fieldPath.canonicalString(),Ct.value);break;case"not-in":case"!=":return Br.set(_r.fieldPath.canonicalString(),Ct.value),Array.from(Br.values())}return null}(B,R),Ke=function(bn,zn){const Br=[];let _r=!0;for(const Ct of br(zn)){const Ge=0===Ct.kind?Zp(bn,Ct.fieldPath,bn.startAt):Tf(bn,Ct.fieldPath,bn.startAt);Br.push(Ge.value),_r&&(_r=Ge.inclusive)}return new ma(Br,_r)}(B,R),Dt=function(bn,zn){const Br=[];let _r=!0;for(const Ct of br(zn)){const Ge=0===Ct.kind?Tf(bn,Ct.fieldPath,bn.endAt):Zp(bn,Ct.fieldPath,bn.endAt);Br.push(Ge.value),_r&&(_r=Ge.inclusive)}return new ma(Br,_r)}(B,R),Ht=this.hn(R,B,Ke),rn=this.hn(R,B,Dt),Kt=this.Pn(R,B,Ae),Nn=this.In(R.indexId,ee,Ht,Ke.inclusive,rn,Dt.inclusive,Kt);return Pt.forEach(Nn,Hn=>s.G(Hn,r.limit).next(bn=>{bn.forEach(zn=>{const Br=tt.fromSegments(zn.documentKey);v.has(Br)||(v=v.add(Br),C.push(Br))})}))}).next(()=>C)}return Pt.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:aE(Ai.create(e.filters,"and")).map(s=>Uo(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,s,u,f,v,C){const R=(null!=r?r.length:1)*Math.max(s.length,f.length),B=R/(null!=r?r.length:1),ee=[];for(let Ae=0;Ae<R;++Ae){const Ke=r?this.Tn(r[Ae/B]):mg,Dt=this.En(e,Ke,s[Ae%B],u),Ht=this.dn(e,Ke,f[Ae%B],v),rn=C.map(Kt=>this.En(e,Ke,Kt,!0));ee.push(...this.createRange(Dt,Ht,rn))}return ee}En(e,r,s,u){const f=new Ml(e,tt.empty(),r,s);return u?f:f.Jt()}dn(e,r,s,u){const f=new Ml(e,tt.empty(),r,s);return u?f.Jt():f}ln(e,r){const s=new pv(r),u=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,u).next(f=>{let v=null;for(const C of f)s.tn(C)&&(!v||C.fields.length>v.fields.length)&&(v=C);return v})}getIndexType(e,r){let s=2;const u=this.cn(r);return Pt.forEach(u,f=>this.ln(e,f).next(v=>{v?0!==s&&v.fields.length<function(R){let B=new ln(we.comparator),ee=!1;for(const Ae of R.filters)for(const Ke of Ae.getFlattenedFilters())Ke.field.isKeyField()||("array-contains"===Ke.op||"array-contains-any"===Ke.op?ee=!0:B=B.add(Ke.field));for(const Ae of R.orderBy)Ae.field.isKeyField()||(B=B.add(Ae.field));return B.size+(ee?1:0)}(f)&&(s=1):s=0})).next(()=>null!==r.limit&&u.length>1&&2===s?1:s)}An(e,r){const s=new hh;for(const u of br(e)){const f=r.data.field(u.fieldPath);if(null==f)return null;const v=s.Ht(u.kind);Pl.bt.Pt(f,v)}return s.Wt()}Tn(e){const r=new hh;return Pl.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const s=new hh;return Pl.bt.Pt(So(this.databaseId,r),s.Ht(function(f){const v=br(f);return 0===v.length?0:v[v.length-1].kind}(e))),s.Wt()}Pn(e,r,s){if(null===s)return[];let u=[];u.push(new hh);let f=0;for(const v of br(e)){const C=s[f++];for(const R of u)if(this.Vn(r,v.fieldPath)&&Il(C))u=this.mn(u,v,C);else{const B=R.Ht(v.kind);Pl.bt.Pt(C,B)}}return this.fn(u)}hn(e,r,s){return this.Pn(e,r,s.position)}fn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Wt();return r}mn(e,r,s){const u=[...e],f=[];for(const v of s.arrayValue.values||[])for(const C of u){const R=new hh;R.seed(C.Wt()),Pl.bt.Pt(v,R.Ht(r.kind)),f.push(R)}return f}Vn(e,r){return!!e.filters.find(s=>s instanceof Or&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=Ba(e),u=td(e);return(r?s.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.U()).next(f=>{const v=[];return Pt.forEach(f,C=>u.get([C.indexId,this.uid]).next(R=>{v.push(function(ee,Ae){const Ke=Ae?new Vr(Ae.sequenceNumber,new nn(Gt(Ae.readTime),new tt(zi(Ae.documentKey)),Ae.largestBatchId)):Vr.empty(),Dt=ee.fields.map(([Ht,rn])=>new pr(we.fromServerFormat(Ht),rn));return new on(ee.indexId,ee.collectionGroup,Dt,Ke)}(C,R))})).next(()=>v)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,u)=>{const f=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==f?f:sr(s.collectionGroup,u.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const u=Ba(e),f=td(e);return this.gn(e).next(v=>u.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(C=>Pt.forEach(C,R=>f.put(Hf(R.indexId,this.uid,v,s)))))}updateIndexEntries(e,r){const s=new Map;return Pt.forEach(r,(u,f)=>{const v=s.get(u.collectionGroup);return(v?Pt.resolve(v):this.getFieldIndexes(e,u.collectionGroup)).next(C=>(s.set(u.collectionGroup,C),Pt.forEach(C,R=>this.pn(e,u,R).next(B=>{const ee=this.yn(f,R);return B.isEqual(ee)?Pt.resolve():this.wn(e,f,R,B,ee)}))))})}Sn(e,r,s,u){return fh(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.Rn(s,r.key),documentKey:r.key.path.toArray()})}bn(e,r,s,u){return fh(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.Rn(s,r.key),r.key.path.toArray()])}pn(e,r,s){const u=fh(e);let f=new ln(Iu);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,r)])},(v,C)=>{f=f.add(new Ml(s.indexId,r,C.arrayValue,C.directionalValue))}).next(()=>f)}yn(e,r){let s=new ln(Iu);const u=this.An(r,e);if(null==u)return s;const f=Ar(r);if(null!=f){const v=e.data.field(f.fieldPath);if(Il(v))for(const C of v.arrayValue.values||[])s=s.add(new Ml(r.indexId,e.key,this.Tn(C),u))}else s=s.add(new Ml(r.indexId,e.key,mg,u));return s}wn(e,r,s,u,f){sn("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const v=[];return function(R,B,ee,Ae,Ke){const Dt=R.getIterator(),Ht=B.getIterator();let rn=fi(Dt),Kt=fi(Ht);for(;rn||Kt;){let Nn=!1,Hn=!1;if(rn&&Kt){const bn=ee(rn,Kt);bn<0?Hn=!0:bn>0&&(Nn=!0)}else null!=rn?Hn=!0:Nn=!0;Nn?(Ae(Kt),Kt=fi(Ht)):Hn?(Ke(rn),rn=fi(Dt)):(rn=fi(Dt),Kt=fi(Ht))}}(u,f,Iu,C=>{v.push(this.Sn(e,r,s,C))},C=>{v.push(this.bn(e,r,s,C))}),Pt.waitFor(v)}gn(e){let r=1;return td(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,f)=>{f.done(),r=u.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((v,C)=>Iu(v,C)).filter((v,C,R)=>!C||0!==Iu(v,R[C-1]));const u=[];u.push(e);for(const v of s){const C=Iu(v,e),R=Iu(v,r);if(0===C)u[0]=e.Jt();else if(C>0&&R<0)u.push(v),u.push(v.Jt());else if(R>0)break}u.push(r);const f=[];for(let v=0;v<u.length;v+=2){if(this.Dn(u[v],u[v+1]))return[];f.push(IDBKeyRange.bound([u[v].indexId,this.uid,u[v].arrayValue,u[v].directionalValue,mg,[]],[u[v+1].indexId,this.uid,u[v+1].arrayValue,u[v+1].directionalValue,mg,[]]))}return f}Dn(e,r){return Iu(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next($y)}getMinOffset(e,r){return Pt.mapArray(this.cn(r),s=>this.ln(e,s).next(u=>u||Dn())).next($y)}}function vg(a){return P(a,"collectionParents")}function fh(a){return P(a,"indexEntries")}function Ba(a){return P(a,"indexConfiguration")}function td(a){return P(a,"indexState")}function $y(a){jn(0!==a.length);let e=a[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<a.length;s++){const u=a[s].indexState.offset;Rn(u,e)<0&&(e=u),r<u.largestBatchId&&(r=u.largestBatchId)}return new nn(e.readTime,e.documentKey,r)}const yv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ss{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new ss(e,ss.DEFAULT_COLLECTION_PERCENTILE,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function uE(a,e,r){const s=a.store("mutations"),u=a.store("documentMutations"),f=[],v=IDBKeyRange.only(r.batchId);let C=0;const R=s.J({range:v},(ee,Ae,Ke)=>(C++,Ke.delete()));f.push(R.next(()=>{jn(1===C)}));const B=[];for(const ee of r.mutations){const Ae=so(e,ee.key.path,r.batchId);f.push(u.delete(Ae)),B.push(ee.key)}return Pt.waitFor(f).next(()=>B)}function Iv(a){if(!a)return 0;let e;if(a.document)e=a.document;else if(a.unknownDocument)e=a.unknownDocument;else{if(!a.noDocument)throw Dn();e=a.noDocument}return JSON.stringify(e).length}ss.DEFAULT_COLLECTION_PERCENTILE=10,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ss.DEFAULT=new ss(41943040,ss.DEFAULT_COLLECTION_PERCENTILE,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ss.DISABLED=new ss(-1,0,0);class _g{constructor(e,r,s,u){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=u,this.Cn={}}static lt(e,r,s,u){jn(""!==e.uid);const f=e.isAuthenticated()?e.uid:"";return new _g(f,r,s,u)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rc(e).J({index:"userMutationsIndex",range:s},(u,f,v)=>{r=!1,v.done()}).next(()=>r)}addMutationBatch(e,r,s,u){const f=Kf(e),v=rc(e);return v.add({}).next(C=>{jn("number"==typeof C);const R=new Of(C,r,s,u),B=function(Dt,Ht,rn){const Kt=rn.baseMutations.map(Hn=>ec(Dt.ct,Hn)),Nn=rn.mutations.map(Hn=>ec(Dt.ct,Hn));return{userId:Ht,batchId:rn.batchId,localWriteTimeMs:rn.localWriteTime.toMillis(),baseMutations:Kt,mutations:Nn}}(this.serializer,this.userId,R),ee=[];let Ae=new ln((Ke,Dt)=>sr(Ke.canonicalString(),Dt.canonicalString()));for(const Ke of u){const Dt=so(this.userId,Ke.key.path,C);Ae=Ae.add(Ke.key.path.popLast()),ee.push(v.put(B)),ee.push(f.put(Dt,Uu))}return Ae.forEach(Ke=>{ee.push(this.indexManager.addToCollectionParentIndex(e,Ke))}),e.addOnCommittedListener(()=>{this.Cn[C]=R.keys()}),Pt.waitFor(ee).next(()=>R)})}lookupMutationBatch(e,r){return rc(e).get(r).next(s=>s?(jn(s.userId===this.userId),yn(this.serializer,s)):null)}vn(e,r){return this.Cn[r]?Pt.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const u=s.keys();return this.Cn[r]=u,u}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,u=IDBKeyRange.lowerBound([this.userId,s]);let f=null;return rc(e).J({index:"userMutationsIndex",range:u},(v,C,R)=>{C.userId===this.userId&&(jn(C.batchId>=s),f=yn(this.serializer,C)),R.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return rc(e).J({index:"userMutationsIndex",range:r,reverse:!0},(u,f,v)=>{s=f.batchId,v.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rc(e).U("userMutationsIndex",r).next(s=>s.map(u=>yn(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=Ii(this.userId,r.path),u=IDBKeyRange.lowerBound(s),f=[];return Kf(e).J({range:u},(v,C,R)=>{const[B,ee,Ae]=v,Ke=zi(ee);if(B===this.userId&&r.path.isEqual(Ke))return rc(e).get(Ae).next(Dt=>{if(!Dt)throw Dn();jn(Dt.userId===this.userId),f.push(yn(this.serializer,Dt))});R.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new ln(sr);const u=[];return r.forEach(f=>{const v=Ii(this.userId,f.path),C=IDBKeyRange.lowerBound(v),R=Kf(e).J({range:C},(B,ee,Ae)=>{const[Ke,Dt,Ht]=B,rn=zi(Dt);Ke===this.userId&&f.path.isEqual(rn)?s=s.add(Ht):Ae.done()});u.push(R)}),Pt.waitFor(u).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,u=s.length+1,f=Ii(this.userId,s),v=IDBKeyRange.lowerBound(f);let C=new ln(sr);return Kf(e).J({range:v},(R,B,ee)=>{const[Ae,Ke,Dt]=R,Ht=zi(Ke);Ae===this.userId&&s.isPrefixOf(Ht)?Ht.length===u&&(C=C.add(Dt)):ee.done()}).next(()=>this.Fn(e,C))}Fn(e,r){const s=[],u=[];return r.forEach(f=>{u.push(rc(e).get(f).next(v=>{if(null===v)throw Dn();jn(v.userId===this.userId),s.push(yn(this.serializer,v))}))}),Pt.waitFor(u).next(()=>s)}removeMutationBatch(e,r){return uE(e._e,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),Pt.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return Pt.resolve();const s=IDBKeyRange.lowerBound(function(v){return[v]}(this.userId)),u=[];return Kf(e).J({range:s},(f,v,C)=>{if(f[0]===this.userId){const R=zi(f[1]);u.push(R)}else C.done()}).next(()=>{jn(0===u.length)})})}containsKey(e,r){return jy(e,this.userId,r)}xn(e){return cE(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function jy(a,e,r){const s=Ii(e,r.path),u=s[1],f=IDBKeyRange.lowerBound(s);let v=!1;return Kf(a).J({range:f,H:!0},(C,R,B)=>{const[ee,Ae,Ke]=C;ee===e&&Ae===u&&(v=!0),B.done()}).next(()=>v)}function rc(a){return P(a,"mutations")}function Kf(a){return P(a,"documentMutations")}function cE(a){return P(a,"mutationQueues")}class xl{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new xl(0)}static Ln(){return new xl(-1)}}class dE{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const s=new xl(r.highestTargetId);return r.highestTargetId=s.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>F.fromTimestamp(new D(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Bn(e).next(u=>(u.highestListenSequenceNumber=r,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.kn(e,u)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.Qn(r,s),this.kn(e,s))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>ic(e).delete(r.targetId)).next(()=>this.Bn(e)).next(s=>(jn(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,r,s){let u=0;const f=[];return ic(e).J((v,C)=>{const R=xn(C);R.sequenceNumber<=r&&null===s.get(R.targetId)&&(u++,f.push(this.removeTargetData(e,R)))}).next(()=>Pt.waitFor(f)).next(()=>u)}forEachTarget(e,r){return ic(e).J((s,u)=>{const f=xn(u);r(f)})}Bn(e){return yg(e).get("targetGlobalKey").next(r=>(jn(null!==r),r))}kn(e,r){return yg(e).put("targetGlobalKey",r)}qn(e,r){return ic(e).put(An(this.serializer,r))}Qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const s=ms(r),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let f=null;return ic(e).J({range:u,index:"queryTargetsIndex"},(v,C,R)=>{const B=xn(C);iu(r,B.target)&&(f=B,R.done())}).next(()=>f)}addMatchingKeys(e,r,s){const u=[],f=Ea(e);return r.forEach(v=>{const C=Un(v.path);u.push(f.put({targetId:s,path:C})),u.push(this.referenceDelegate.addReference(e,s,v))}),Pt.waitFor(u)}removeMatchingKeys(e,r,s){const u=Ea(e);return Pt.forEach(r,f=>{const v=Un(f.path);return Pt.waitFor([u.delete([s,v]),this.referenceDelegate.removeReference(e,s,f)])})}removeMatchingKeysForTargetId(e,r){const s=Ea(e),u=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),u=Ea(e);let f=wr();return u.J({range:s,H:!0},(v,C,R)=>{const B=zi(v[1]),ee=new tt(B);f=f.add(ee)}).next(()=>f)}containsKey(e,r){const s=Un(r.path),u=IDBKeyRange.bound([s],[Na(s)],!1,!0);let f=0;return Ea(e).J({index:"documentTargetsIndex",H:!0,range:u},([v,C],R,B)=>{0!==v&&(f++,B.done())}).next(()=>f>0)}ot(e,r){return ic(e).get(r).next(s=>s?xn(s):null)}}function ic(a){return P(a,"targets")}function yg(a){return P(a,"targetGlobal")}function Ea(a){return P(a,"targetDocuments")}function qf([a,e],[r,s]){const u=sr(a,r);return 0===u?sr(e,s):u}class Ig{constructor(e){this.Kn=e,this.buffer=new ln(qf),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();qf(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class nd{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;sn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,le.A)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){Ss(s)?sn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Mr(s)}yield r.zn(3e5)}))}}class Xf{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return Pt.resolve(ps.oe);const s=new Ig(r);return this.jn.forEachTarget(e,u=>s.Wn(u.sequenceNumber)).next(()=>this.jn.Jn(e,u=>s.Wn(u))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.jn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(sn("LruGarbageCollector","Garbage collection skipped; disabled"),Pt.resolve(yv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(sn("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yv):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let s,u,f,v,C,R,B;const ee=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ae=>(Ae>this.params.maximumSequenceNumbersToCollect?(sn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ae}`),u=this.params.maximumSequenceNumbersToCollect):u=Ae,v=Date.now(),this.nthSequenceNumber(e,u))).next(Ae=>(s=Ae,C=Date.now(),this.removeTargets(e,s,r))).next(Ae=>(f=Ae,R=Date.now(),this.removeOrphanedDocuments(e,s))).next(Ae=>(B=Date.now(),fl()<=Jo.$b.DEBUG&&sn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-ee}ms\n\tDetermined least recently used ${u} in `+(C-v)+`ms\n\tRemoved ${f} targets in `+(R-C)+`ms\n\tRemoved ${Ae} documents in `+(B-R)+`ms\nTotal Duration: ${B-ee}ms`),Pt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:Ae})))}}class Ev{constructor(e,r){this.db=e,this.garbageCollector=function rd(a,e){return new Xf(a,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(u=>s+u))}Zn(e){let r=0;return this.Jn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(s,u)=>r(u))}addReference(e,r,s){return id(e,s)}removeReference(e,r,s){return id(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return id(e,r)}er(e,r){return function(u,f){let v=!1;return cE(u).Y(C=>jy(u,C,f).next(R=>(R&&(v=!0),Pt.resolve(!R)))).next(()=>v)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let f=0;return this.Xn(e,(v,C)=>{if(C<=r){const R=this.er(e,v).next(B=>{if(!B)return f++,s.getEntry(e,v).next(()=>(s.removeEntry(v,F.min()),Ea(e).delete([0,Un(v.path)])))});u.push(R)}}).next(()=>Pt.waitFor(u)).next(()=>s.apply(e)).next(()=>f)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return id(e,r)}Xn(e,r){const s=Ea(e);let u,f=ps.oe;return s.J({index:"documentTargetsIndex"},([v,C],{path:R,sequenceNumber:B})=>{0===v?(f!==ps.oe&&r(new tt(zi(u)),f),f=B,u=R):f=ps.oe}).next(()=>{f!==ps.oe&&r(new tt(zi(u)),f)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function id(a,e){return Ea(a).put((u=a.currentSequenceNumber,{targetId:0,path:Un(e.path),sequenceNumber:u}));var u}class ph{constructor(){this.changes=new Za(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?Pt.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class OC{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return oc(e).put(s)}removeEntry(e,r,s){return oc(e).delete(function(f,v){const C=f.path.toArray();return[C.slice(0,C.length-2),C[C.length-2],Qe(v),C[C.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.tr(e,s)))}getEntry(e,r){let s=Fn.newInvalidDocument(r);return oc(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Yf(r))},(u,f)=>{s=this.nr(r,f)}).next(()=>s)}rr(e,r){let s={size:0,document:Fn.newInvalidDocument(r)};return oc(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Yf(r))},(u,f)=>{s={document:this.nr(r,f),size:Iv(f)}}).next(()=>s)}getEntries(e,r){let s=vs();return this.ir(e,r,(u,f)=>{const v=this.nr(u,f);s=s.insert(u,v)}).next(()=>s)}sr(e,r){let s=vs(),u=new ct(tt.comparator);return this.ir(e,r,(f,v)=>{const C=this.nr(f,v);s=s.insert(f,C),u=u.insert(f,Iv(v))}).next(()=>({documents:s,_r:u}))}ir(e,r,s){if(r.isEmpty())return Pt.resolve();let u=new ln(Ag);r.forEach(R=>u=u.add(R));const f=IDBKeyRange.bound(Yf(u.first()),Yf(u.last())),v=u.getIterator();let C=v.getNext();return oc(e).J({index:"documentKeyIndex",range:f},(R,B,ee)=>{const Ae=tt.fromSegments([...B.prefixPath,B.collectionGroup,B.documentId]);for(;C&&Ag(C,Ae)<0;)s(C,null),C=v.getNext();C&&C.isEqual(Ae)&&(s(C,B),C=v.hasNext()?v.getNext():null),C?ee.$(Yf(C)):ee.done()}).next(()=>{for(;C;)s(C,null),C=v.hasNext()?v.getNext():null})}getDocumentsMatchingQuery(e,r,s,u,f){const v=r.path,C=[v.popLast().toArray(),v.lastSegment(),Qe(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],R=[v.popLast().toArray(),v.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return oc(e).U(IDBKeyRange.bound(C,R,!0)).next(B=>{null==f||f.incrementDocumentReadCount(B.length);let ee=vs();for(const Ae of B){const Ke=this.nr(tt.fromSegments(Ae.prefixPath.concat(Ae.collectionGroup,Ae.documentId)),Ae);Ke.isFoundDocument()&&(ou(r,Ke)||u.has(Ke.key))&&(ee=ee.insert(Ke.key,Ke))}return ee})}getAllFromCollectionGroup(e,r,s,u){let f=vs();const v=zy(r,s),C=zy(r,nn.max());return oc(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(v,C,!0)},(R,B,ee)=>{const Ae=this.nr(tt.fromSegments(B.prefixPath.concat(B.collectionGroup,B.documentId)),B);f=f.insert(Ae.key,Ae),f.size===u&&ee.done()}).next(()=>f)}newChangeBuffer(e){return new Qf(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Hy(e).get("remoteDocumentGlobalKey").next(r=>(jn(!!r),r))}tr(e,r){return Hy(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const s=function U(a,e){let r;if(e.document)r=dv(a.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=tt.fromSegments(e.noDocument.path),u=Gt(e.noDocument.readTime);r=Fn.newNoDocument(s,u),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Dn();{const s=tt.fromSegments(e.unknownDocument.path),u=Gt(e.unknownDocument.version);r=Fn.newUnknownDocument(s,u)}}return e.readTime&&r.setReadTime(function(u){const f=new D(u[0],u[1]);return F.fromTimestamp(f)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(F.min()))return s}return Fn.newInvalidDocument(e)}}function Eg(a){return new OC(a)}class Qf extends ph{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new Za(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(e){const r=[];let s=0,u=new ln((f,v)=>sr(f.canonicalString(),v.canonicalString()));return this.changes.forEach((f,v)=>{const C=this.ur.get(f);if(r.push(this.ar.removeEntry(e,f,C.readTime)),v.isValidDocument()){const R=se(this.ar.serializer,v);u=u.add(f.path.popLast());const B=Iv(R);s+=B-C.size,r.push(this.ar.addEntry(e,f,R))}else if(s-=C.size,this.trackRemovals){const R=se(this.ar.serializer,v.convertToNoDocument(F.min()));r.push(this.ar.addEntry(e,f,R))}}),u.forEach(f=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,f))}),r.push(this.ar.updateMetadata(e,s)),Pt.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(s=>(this.ur.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:s,_r:u})=>(u.forEach((f,v)=>{this.ur.set(f,{size:v,readTime:s.get(f).readTime})}),s))}}function Hy(a){return P(a,"remoteDocumentGlobal")}function oc(a){return P(a,"remoteDocumentsV14")}function Yf(a){const e=a.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function zy(a,e){const r=e.documentKey.path.toArray();return[a,Qe(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Ag(a,e){const r=a.path.toArray(),s=e.path.toArray();let u=0;for(let f=0;f<r.length-2&&f<s.length-2;++f)if(u=sr(r[f],s[f]),u)return u;return u=sr(r.length,s.length),u||(u=sr(r[r.length-2],s[s.length-2]),u||sr(r[r.length-1],s[s.length-1]))}class Gy{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Wy{constructor(e,r,s,u){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,r))).next(u=>(null!==s&&La(s.mutation,u,Tr.empty(),D.now()),u))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,wr()).next(()=>s))}getLocalViewOfDocuments(e,r,s=wr()){const u=Ms();return this.populateOverlays(e,u,r).next(()=>this.computeViews(e,r,u,s).next(f=>{let v=Wu();return f.forEach((C,R)=>{v=v.insert(C,R.overlayedDocument)}),v}))}getOverlayedDocuments(e,r){const s=Ms();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,wr()))}populateOverlays(e,r,s){const u=[];return s.forEach(f=>{r.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(e,u).next(f=>{f.forEach((v,C)=>{r.set(v,C)})})}computeViews(e,r,s,u){let f=vs();const v=su(),C=su();return r.forEach((R,B)=>{const ee=s.get(B.key);u.has(B.key)&&(void 0===ee||ee.mutation instanceof Ia)?f=f.insert(B.key,B):void 0!==ee?(v.set(B.key,ee.mutation.getFieldMask()),La(ee.mutation,B,ee.mutation.getFieldMask(),D.now())):v.set(B.key,Tr.empty())}),this.recalculateAndSaveOverlays(e,f).next(R=>(R.forEach((B,ee)=>v.set(B,ee)),r.forEach((B,ee)=>{var Ae;return C.set(B,new Gy(ee,null!==(Ae=v.get(B))&&void 0!==Ae?Ae:null))}),C))}recalculateAndSaveOverlays(e,r){const s=su();let u=new ct((v,C)=>v-C),f=wr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(v=>{for(const C of v)C.keys().forEach(R=>{const B=r.get(R);if(null===B)return;let ee=s.get(R)||Tr.empty();ee=C.applyToLocalView(B,ee),s.set(R,ee);const Ae=(u.get(C.batchId)||wr()).add(R);u=u.insert(C.batchId,Ae)})}).next(()=>{const v=[],C=u.getReverseIterator();for(;C.hasNext();){const R=C.getNext(),B=R.key,ee=R.value,Ae=_a();ee.forEach(Ke=>{if(!f.has(Ke)){const Dt=Gs(r.get(Ke),s.get(Ke));null!==Dt&&Ae.set(Ke,Dt),f=f.add(Ke)}}),v.push(this.documentOverlayCache.saveOverlays(e,B,Ae))}return Pt.waitFor(v)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,u){return tt.isDocumentKey((v=r).path)&&null===v.collectionGroup&&0===v.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):Hc(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,u):this.getDocumentsMatchingCollectionQuery(e,r,s,u);var v}getNextDocuments(e,r,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,u).next(f=>{const v=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,u-f.size):Pt.resolve(Ms());let C=-1,R=f;return v.next(B=>Pt.forEach(B,(ee,Ae)=>(C<Ae.largestBatchId&&(C=Ae.largestBatchId),f.get(ee)?Pt.resolve():this.remoteDocumentCache.getEntry(e,ee).next(Ke=>{R=R.insert(ee,Ke)}))).next(()=>this.populateOverlays(e,B,f)).next(()=>this.computeViews(e,R,B,wr())).next(ee=>({batchId:C,changes:wf(ee)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new tt(r)).next(s=>{let u=Wu();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,r,s,u){const f=r.collectionGroup;let v=Wu();return this.indexManager.getCollectionParents(e,f).next(C=>Pt.forEach(C,R=>{const B=(Ae=r,Ke=R.child(f),new va(Ke,null,Ae.explicitOrderBy.slice(),Ae.filters.slice(),Ae.limit,Ae.limitType,Ae.startAt,Ae.endAt));var Ae,Ke;return this.getDocumentsMatchingCollectionQuery(e,B,s,u).next(ee=>{ee.forEach((Ae,Ke)=>{v=v.insert(Ae,Ke)})})}).next(()=>v))}getDocumentsMatchingCollectionQuery(e,r,s,u){let f;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(v=>(f=v,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,f,u))).next(v=>{f.forEach((R,B)=>{const ee=B.getKey();null===v.get(ee)&&(v=v.insert(ee,Fn.newInvalidDocument(ee)))});let C=Wu();return v.forEach((R,B)=>{const ee=f.get(R);void 0!==ee&&La(ee.mutation,B,Tr.empty(),D.now()),ou(r,B)&&(C=C.insert(R,B))}),C})}}class hE{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return Pt.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(u=r).id,version:u.version,createTime:si(u.createTime)}),Pt.resolve();var u}getNamedQuery(e,r){return Pt.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(u=r).name,query:Ti(u.bundledQuery),readTime:si(u.readTime)}),Pt.resolve();var u}}class Zf{constructor(){this.overlays=new ct(tt.comparator),this.hr=new Map}getOverlay(e,r){return Pt.resolve(this.overlays.get(r))}getOverlays(e,r){const s=Ms();return Pt.forEach(r,u=>this.getOverlay(e,u).next(f=>{null!==f&&s.set(u,f)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((u,f)=>{this.ht(e,r,f)}),Pt.resolve()}removeOverlaysForBatchId(e,r,s){const u=this.hr.get(s);return void 0!==u&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.hr.delete(s)),Pt.resolve()}getOverlaysForCollection(e,r,s){const u=Ms(),f=r.length+1,v=new tt(r.child("")),C=this.overlays.getIteratorFrom(v);for(;C.hasNext();){const R=C.getNext().value,B=R.getKey();if(!r.isPrefixOf(B.path))break;B.path.length===f&&R.largestBatchId>s&&u.set(R.getKey(),R)}return Pt.resolve(u)}getOverlaysForCollectionGroup(e,r,s,u){let f=new ct((B,ee)=>B-ee);const v=this.overlays.getIterator();for(;v.hasNext();){const B=v.getNext().value;if(B.getKey().getCollectionGroup()===r&&B.largestBatchId>s){let ee=f.get(B.largestBatchId);null===ee&&(ee=Ms(),f=f.insert(B.largestBatchId,ee)),ee.set(B.getKey(),B)}}const C=Ms(),R=f.getIterator();for(;R.hasNext()&&(R.getNext().value.forEach((B,ee)=>C.set(B,ee)),!(C.size()>=u)););return Pt.resolve(C)}ht(e,r,s){const u=this.overlays.get(s.key);if(null!==u){const v=this.hr.get(u.largestBatchId).delete(s.key);this.hr.set(u.largestBatchId,v)}this.overlays=this.overlays.insert(s.key,new Va(r,s));let f=this.hr.get(r);void 0===f&&(f=wr(),this.hr.set(r,f)),this.hr.set(r,f.add(s.key))}}class Cg{constructor(){this.Pr=new ln(Bo.Ir),this.Tr=new ln(Bo.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new Bo(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new Bo(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new tt(new M([])),s=new Bo(r,e),u=new Bo(r,e+1),f=[];return this.Tr.forEachInRange([s,u],v=>{this.Ar(v),f.push(v.key)}),f}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new tt(new M([])),s=new Bo(r,e),u=new Bo(r,e+1);let f=wr();return this.Tr.forEachInRange([s,u],v=>{f=f.add(v.key)}),f}containsKey(e){const r=new Bo(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class Bo{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return tt.comparator(e.key,r.key)||sr(e.pr,r.pr)}static Er(e,r){return sr(e.pr,r.pr)||tt.comparator(e.key,r.key)}}class fE{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new ln(Bo.Ir)}checkEmpty(e){return Pt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,u){const f=this.yr;this.yr++;const v=new Of(f,r,s,u);this.mutationQueue.push(v);for(const C of u)this.wr=this.wr.add(new Bo(C.key,f)),this.indexManager.addToCollectionParentIndex(e,C.key.path.popLast());return Pt.resolve(v)}lookupMutationBatch(e,r){return Pt.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.br(r+1),f=u<0?0:u;return Pt.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Pt.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Pt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new Bo(r,0),u=new Bo(r,Number.POSITIVE_INFINITY),f=[];return this.wr.forEachInRange([s,u],v=>{const C=this.Sr(v.pr);f.push(C)}),Pt.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new ln(sr);return r.forEach(u=>{const f=new Bo(u,0),v=new Bo(u,Number.POSITIVE_INFINITY);this.wr.forEachInRange([f,v],C=>{s=s.add(C.pr)})}),Pt.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,u=s.length+1;let f=s;tt.isDocumentKey(f)||(f=f.child(""));const v=new Bo(new tt(f),0);let C=new ln(sr);return this.wr.forEachWhile(R=>{const B=R.key.path;return!!s.isPrefixOf(B)&&(B.length===u&&(C=C.add(R.pr)),!0)},v),Pt.resolve(this.Dr(C))}Dr(e){const r=[];return e.forEach(s=>{const u=this.Sr(s);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){jn(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return Pt.forEach(r.mutations,u=>{const f=new Bo(u.key,r.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new Bo(r,0),u=this.wr.firstAfterOrEqual(s);return Pt.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return Pt.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class kC{constructor(e){this.vr=e,this.docs=new ct(tt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,u=this.docs.get(s),f=u?u.size:0,v=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:v}),this.size+=v-f,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return Pt.resolve(s?s.document.mutableCopy():Fn.newInvalidDocument(r))}getEntries(e,r){let s=vs();return r.forEach(u=>{const f=this.docs.get(u);s=s.insert(u,f?f.document.mutableCopy():Fn.newInvalidDocument(u))}),Pt.resolve(s)}getDocumentsMatchingQuery(e,r,s,u){let f=vs();const v=r.path,C=new tt(v.child("")),R=this.docs.getIteratorFrom(C);for(;R.hasNext();){const{key:B,value:{document:ee}}=R.getNext();if(!v.isPrefixOf(B.path))break;B.path.length>v.length+1||Rn(ni(ee),s)<=0||(u.has(ee.key)||ou(r,ee))&&(f=f.insert(ee.key,ee.mutableCopy()))}return Pt.resolve(f)}getAllFromCollectionGroup(e,r,s,u){Dn()}Fr(e,r){return Pt.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new FC(this)}getSize(e){return Pt.resolve(this.size)}}class FC extends ph{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?r.push(this.ar.addEntry(e,u)):this.ar.removeEntry(s)}),Pt.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class Jf{constructor(e){this.persistence=e,this.Mr=new Za(r=>ms(r),iu),this.lastRemoteSnapshotVersion=F.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Cg,this.targetCount=0,this.Lr=xl.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,u)=>r(u)),Pt.resolve()}getLastRemoteSnapshotVersion(e){return Pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pt.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Pt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),Pt.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new xl(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,Pt.resolve()}updateTargetData(e,r){return this.qn(r),Pt.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,Pt.resolve()}removeTargets(e,r,s){let u=0;const f=[];return this.Mr.forEach((v,C)=>{C.sequenceNumber<=r&&null===s.get(C.targetId)&&(this.Mr.delete(v),f.push(this.removeMatchingKeysForTargetId(e,C.targetId)),u++)}),Pt.waitFor(f).next(()=>u)}getTargetCount(e){return Pt.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return Pt.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),Pt.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const u=this.persistence.referenceDelegate,f=[];return u&&r.forEach(v=>{f.push(u.markPotentiallyOrphaned(e,v))}),Pt.waitFor(f)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),Pt.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return Pt.resolve(s)}containsKey(e,r){return Pt.resolve(this.Nr.containsKey(r))}}class Av{constructor(e,r){this.Br={},this.overlays={},this.kr=new ps(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Jf(this),this.indexManager=new lE,this.remoteDocumentCache=new kC(s=>this.referenceDelegate.Kr(s)),this.serializer=new A(r),this.$r=new hE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Zf,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Br[e.toKey()];return s||(s=new fE(r,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){sn("MemoryPersistence","Starting transaction:",e);const u=new Tg(this.kr.next());return this.referenceDelegate.Ur(),s(u).next(f=>this.referenceDelegate.Wr(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Gr(e,r){return Pt.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,r)))}}class Tg extends to{constructor(e){super(),this.currentSequenceNumber=e}}class gh{constructor(e){this.persistence=e,this.zr=new Cg,this.jr=null}static Hr(e){return new gh(e)}get Jr(){if(this.jr)return this.jr;throw Dn()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),Pt.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),Pt.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),Pt.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(u=>this.Jr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(f=>this.Jr.add(f.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pt.forEach(this.Jr,s=>{const u=tt.fromPath(s);return this.Yr(e,u).next(f=>{f||r.removeEntry(u,F.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return Pt.or([()=>Pt.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class Ky{constructor(e){this.serializer=e}O(e,r,s,u){const f=new ci("createOrUpgrade",r);var R;s<1&&u>=1&&(e.createObjectStore("owner"),(R=e).createObjectStore("mutationQueues",{keyPath:"userId"}),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Yl,{unique:!0}),R.createObjectStore("documentMutations"),bg(e),function(R){R.createObjectStore("remoteDocuments")}(e));let v=Pt.resolve();return s<3&&u>=3&&(0!==s&&(function(R){R.deleteObjectStore("targetDocuments"),R.deleteObjectStore("targets"),R.deleteObjectStore("targetGlobal")}(e),bg(e)),v=v.next(()=>function(R){const B=R.store("targetGlobal"),ee={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:F.min().toTimestamp(),targetCount:0};return B.put("targetGlobalKey",ee)}(f))),s<4&&u>=4&&(0!==s&&(v=v.next(()=>function(R,B){return B.store("mutations").U().next(ee=>{R.deleteObjectStore("mutations"),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Yl,{unique:!0});const Ae=B.store("mutations"),Ke=ee.map(Dt=>Ae.put(Dt));return Pt.waitFor(Ke)})}(e,f))),v=v.next(()=>{!function(R){R.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&u>=5&&(v=v.next(()=>this.Xr(f))),s<6&&u>=6&&(v=v.next(()=>(function(R){R.createObjectStore("remoteDocumentGlobal")}(e),this.ei(f)))),s<7&&u>=7&&(v=v.next(()=>this.ti(f))),s<8&&u>=8&&(v=v.next(()=>this.ni(e,f))),s<9&&u>=9&&(v=v.next(()=>{!function(R){R.objectStoreNames.contains("remoteDocumentChanges")&&R.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&u>=10&&(v=v.next(()=>this.ri(f))),s<11&&u>=11&&(v=v.next(()=>{(function(R){R.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(R){R.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&u>=12&&(v=v.next(()=>{!function(R){const B=R.createObjectStore("documentOverlays",{keyPath:Bu});B.createIndex("collectionPathOverlayIndex",$u,{unique:!1}),B.createIndex("collectionGroupOverlayIndex",gf,{unique:!1})}(e)})),s<13&&u>=13&&(v=v.next(()=>function(R){const B=R.createObjectStore("remoteDocumentsV14",{keyPath:Vo});B.createIndex("documentKeyIndex",Eo),B.createIndex("collectionGroupIndex",jd)}(e)).next(()=>this.ii(e,f)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(v=v.next(()=>this.si(e,f))),s<15&&u>=15&&(v=v.next(()=>function(R){R.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),R.createObjectStore("indexState",{keyPath:Hd}).createIndex("sequenceNumberIndex",Jl,{unique:!1}),R.createObjectStore("indexEntries",{keyPath:_l}).createIndex("documentKeyIndex",zd,{unique:!1})}(e))),s<16&&u>=16&&(v=v.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),v}ei(e){let r=0;return e.store("remoteDocuments").J((s,u)=>{r+=Iv(u)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.U().next(u=>Pt.forEach(u,f=>{const v=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",v).next(C=>Pt.forEach(C,R=>{jn(R.userId===f.userId);const B=yn(this.serializer,R);return uE(e,f.userId,B).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const f=[];return s.J((v,C)=>{const R=new M(v),B=[0,Un(R)];f.push(r.get(B).next(ee=>ee?Pt.resolve():r.put({targetId:0,path:Un(R),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>Pt.waitFor(f))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:vl});const s=r.store("collectionParents"),u=new Uy,f=v=>{if(u.add(v)){const C=v.lastSegment(),R=v.popLast();return s.put({collectionId:C,parent:Un(R)})}};return r.store("remoteDocuments").J({H:!0},(v,C)=>{const R=new M(v);return f(R.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([v,C,R],B)=>{const ee=zi(C);return f(ee.popLast())}))}ri(e){const r=e.store("targets");return r.J((s,u)=>{const f=xn(u),v=An(this.serializer,f);return r.put(v)})}ii(e,r){const s=r.store("remoteDocuments"),u=[];return s.J((f,v)=>{const C=r.store("remoteDocumentsV14"),R=(Ae=v,Ae.document?new tt(M.fromString(Ae.document.name).popFirst(5)):Ae.noDocument?tt.fromSegments(Ae.noDocument.path):Ae.unknownDocument?tt.fromSegments(Ae.unknownDocument.path):Dn()).path.toArray(),B={prefixPath:R.slice(0,R.length-2),collectionGroup:R[R.length-2],documentId:R[R.length-1],readTime:v.readTime||[0,0],unknownDocument:v.unknownDocument,noDocument:v.noDocument,document:v.document,hasCommittedMutations:!!v.hasCommittedMutations};var Ae;u.push(C.put(B))}).next(()=>Pt.waitFor(u))}si(e,r){const s=r.store("mutations"),u=Eg(this.serializer),f=new Av(gh.Hr,this.serializer.ct);return s.U().next(v=>{const C=new Map;return v.forEach(R=>{var B;let ee=null!==(B=C.get(R.userId))&&void 0!==B?B:wr();yn(this.serializer,R).keys().forEach(Ae=>ee=ee.add(Ae)),C.set(R.userId,ee)}),Pt.forEach(C,(R,B)=>{const ee=new ki(B),Ae=nc.lt(this.serializer,ee),Ke=f.getIndexManager(ee),Dt=_g.lt(ee,this.serializer,Ke,f.referenceDelegate);return new Wy(u,Dt,Ae,Ke).recalculateAndSaveOverlaysForDocumentKeys(new b(r,ps.oe),R).next()})})}}function bg(a){a.createObjectStore("targetDocuments",{keyPath:Zl}).createIndex("documentTargetsIndex",js,{unique:!0}),a.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Oa,{unique:!0}),a.createObjectStore("targetGlobal")}const mh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class vh{constructor(e,r,s,u,f,v,C,R,B,ee,Ae=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.oi=f,this.window=v,this.document=C,this._i=B,this.ai=ee,this.ui=Ae,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=Ke=>Promise.resolve(),!vh.D())throw new Jt(Ut.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ev(this,u),this.Ti=r+"main",this.serializer=new A(R),this.Ei=new hi(this.Ti,this.ui,new Ky(this.serializer)),this.Qr=new dE(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Eg(this.serializer),this.$r=new uh,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===ee&&Ri("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Jt(Ut.FAILED_PRECONDITION,mh);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new ps(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var s=(0,le.A)(function*(u){if(r.started)return e(u)});return function(u){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,le.A)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,le.A)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ep(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Ss(e))return sn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return sn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return _h(e).get("owner").next(r=>Pt.resolve(this.Si(r)))}bi(e){return ep(e).delete(this.clientId)}Di(){var e=this;return(0,le.A)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=P(s,"clientMetadata");return u.U().next(f=>{const v=e.vi(f,18e5),C=f.filter(R=>-1===v.indexOf(R));return Pt.forEach(C,R=>u.delete(R.clientId)).next(()=>C)})}).catch(()=>[]);if(e.di)for(const s of r)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?Pt.resolve(!0):_h(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new Jt(Ut.FAILED_PRECONDITION,mh);return!1}}return!(!this.networkEnabled||!this.inForeground)||ep(e).U().next(s=>void 0===this.vi(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(r=>(this.isPrimary!==r&&sn("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,le.A)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new b(r,ps.oe);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Li()})()}vi(e,r){return e.filter(s=>this.Ci(s.updateTimeMs,r)&&!this.Mi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>ep(e).U().next(r=>this.vi(r,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return _g.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new By(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return nc.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,s){sn("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===r?"readonly":"readwrite",f=16===(R=this.ui)?E:15===R?Xp:14===R?qp:13===R?vf:12===R?mf:11===R?Kp:void Dn();var R;let v;return this.Ei.runTransaction(e,u,f,C=>(v=new b(C,this.kr?this.kr.next():ps.oe),"readwrite-primary"===r?this.gi(v).next(R=>!!R||this.pi(v)).next(R=>{if(!R)throw Ri(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new Jt(Ut.FAILED_PRECONDITION,ui);return s(v)}).next(R=>this.wi(v).next(()=>R)):this.ki(v).next(()=>s(v)))).then(C=>(v.raiseOnCommittedEvent(),C))}ki(e){return _h(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Jt(Ut.FAILED_PRECONDITION,mh)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _h(e).put("owner",r)}static D(){return hi.D()}yi(e){const r=_h(e);return r.get("owner").next(s=>this.Si(s)?(sn("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):Pt.resolve())}Ci(e,r){const s=Date.now();return!(e<s-r||e>s&&(Ri(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,at.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const s=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return sn("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Ri("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Ri("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function _h(a){return P(a,"owner")}function ep(a){return P(a,"clientMetadata")}function wg(a,e){let r=a.projectId;return a.isDefaultDatabase||(r+="."+a.database),"firestore/"+e+"/"+r+"/"}class yh{constructor(e,r,s,u){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=u}static Ki(e,r){let s=wr(),u=wr();for(const f of r.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new yh(e,r.fromCache,s,u)}}class Cv{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class od{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,at.nr)()?8:ea((0,at.ZQ)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,u){const f={result:null};return this.ji(e,r).next(v=>{f.result=v}).next(()=>{if(!f.result)return this.Hi(e,r,u,s).next(v=>{f.result=v})}).next(()=>{if(f.result)return;const v=new Cv;return this.Ji(e,r,v).next(C=>{if(f.result=C,this.Ui)return this.Yi(e,r,v,C.size)})}).next(()=>f.result)}Yi(e,r,s,u){return s.documentReadCount<this.Wi?(fl()<=Jo.$b.DEBUG&&sn("QueryEngine","SDK will not create cache indexes for query:",Dl(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Pt.resolve()):(fl()<=Jo.$b.DEBUG&&sn("QueryEngine","Query:",Dl(r),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Gi*u?(fl()<=Jo.$b.DEBUG&&sn("QueryEngine","The SDK decides to create cache indexes for query:",Dl(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,is(r))):Pt.resolve())}ji(e,r){if(jc(r))return Pt.resolve(null);let s=is(r);return this.indexManager.getIndexType(e,s).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=zc(r,null,"F"),s=is(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(f=>{const v=wr(...f);return this.zi.getDocuments(e,v).next(C=>this.indexManager.getMinOffset(e,s).next(R=>{const B=this.Zi(r,C);return this.Xi(r,B,v,R.readTime)?this.ji(e,zc(r,null,"F")):this.es(e,B,r,R)}))})))}Hi(e,r,s,u){return jc(r)||u.isEqual(F.min())?Pt.resolve(null):this.zi.getDocuments(e,s).next(f=>{const v=this.Zi(r,f);return this.Xi(r,v,s,u)?Pt.resolve(null):(fl()<=Jo.$b.DEBUG&&sn("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Dl(r)),this.es(e,v,r,Xi(u,-1)).next(C=>C))})}Zi(e,r){let s=new ln(bl(e));return r.forEach((u,f)=>{ou(e,f)&&(s=s.add(f))}),s}Xi(e,r,s,u){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const f="F"===e.limitType?r.last():r.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Ji(e,r,s){return fl()<=Jo.$b.DEBUG&&sn("QueryEngine","Using full collection scan to execute query:",Dl(r)),this.zi.getDocumentsMatchingQuery(e,r,nn.min(),s)}es(e,r,s,u){return this.zi.getDocumentsMatchingQuery(e,s,u).next(f=>(r.forEach(v=>{f=f.insert(v.key,v)}),f))}}class pE{constructor(e,r,s,u){this.persistence=e,this.ts=r,this.serializer=u,this.ns=new ct(sr),this.rs=new Za(f=>ms(f),iu),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wy(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function qy(a,e,r,s){return new pE(a,e,r,s)}function gE(a,e){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,le.A)(function*(a,e){const r=_n(a);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let u;return r.mutationQueue.getAllMutationBatches(s).next(f=>(u=f,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(f=>{const v=[],C=[];let R=wr();for(const B of u){v.push(B.batchId);for(const ee of B.mutations)R=R.add(ee.key)}for(const B of f){C.push(B.batchId);for(const ee of B.mutations)R=R.add(ee.key)}return r.localDocuments.getDocuments(s,R).next(B=>({us:B,removedBatchIds:v,addedBatchIds:C}))})})})).apply(this,arguments)}function Dv(a){const e=_n(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function bv(a,e,r){let s=wr(),u=wr();return r.forEach(f=>s=s.add(f)),e.getEntries(a,s).next(f=>{let v=vs();return r.forEach((C,R)=>{const B=f.get(C);R.isFoundDocument()!==B.isFoundDocument()&&(u=u.add(C)),R.isNoDocument()&&R.version.isEqual(F.min())?(e.removeEntry(C,R.readTime),v=v.insert(C,R)):!B.isValidDocument()||R.version.compareTo(B.version)>0||0===R.version.compareTo(B.version)&&B.hasPendingWrites?(e.addEntry(R),v=v.insert(C,R)):sn("LocalStore","Ignoring outdated watch update for ",C,". Current version:",B.version," Watch version:",R.version)}),{cs:v,ls:u}})}function Qy(a,e){const r=_n(a);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Eh(a,e){const r=_n(a);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return r.Qr.getTargetData(s,e).next(f=>f?(u=f,Pt.resolve(u)):r.Qr.allocateTargetId(s).next(v=>(u=new g(e,v,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=r.ns.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}function Ah(a,e,r){return wv.apply(this,arguments)}function wv(){return(wv=(0,le.A)(function*(a,e,r){const s=_n(a),u=s.ns.get(e),f=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",f,v=>s.persistence.referenceDelegate.removeTarget(v,u)))}catch(v){if(!Ss(v))throw v;sn("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}s.ns=s.ns.remove(e),s.rs.delete(u.target)})).apply(this,arguments)}function Sg(a,e,r){const s=_n(a);let u=F.min(),f=wr();return s.persistence.runTransaction("Execute query","readwrite",v=>function(R,B,ee){const Ae=_n(R),Ke=Ae.rs.get(ee);return void 0!==Ke?Pt.resolve(Ae.ns.get(Ke)):Ae.Qr.getTargetData(B,ee)}(s,v,is(e)).next(C=>{if(C)return u=C.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(v,C.targetId).next(R=>{f=R})}).next(()=>s.ts.getDocumentsMatchingQuery(v,e,r?u:F.min(),r?f:wr())).next(C=>(Ch(s,Wo(e),C),{documents:C,hs:f})))}function Yy(a,e){const r=_n(a),s=_n(r.Qr),u=r.ns.get(e);return u?Promise.resolve(u.target):r.persistence.runTransaction("Get target data","readonly",f=>s.ot(f,e).next(v=>v?v.target:null))}function Eu(a,e){const r=_n(a),s=r.ss.get(e)||F.min();return r.persistence.runTransaction("Get new document changes","readonly",u=>r.os.getAllFromCollectionGroup(u,e,Xi(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Ch(r,e,u),u))}function Ch(a,e,r){let s=a.ss.get(e)||F.min();r.forEach((u,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)}),a.ss.set(e,s)}function Zy(){return(Zy=(0,le.A)(function*(a,e,r,s){const u=_n(a);let f=wr(),v=vs();for(const B of r){const ee=e.Ps(B.metadata.name);B.document&&(f=f.add(ee));const Ae=e.Is(B);Ae.setReadTime(e.Ts(B.metadata.readTime)),v=v.insert(ee,Ae)}const C=u.os.newChangeBuffer({trackRemovals:!0}),R=yield Eh(u,(ee=s,is(Tl(M.fromString(`__bundle__/docs/${ee}`)))));var ee;return u.persistence.runTransaction("Apply bundle documents","readwrite",B=>bv(B,C,v).next(ee=>(C.apply(B),ee)).next(ee=>u.Qr.removeMatchingKeysForTargetId(B,R.targetId).next(()=>u.Qr.addMatchingKeys(B,f,R.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(B,ee.cs,ee.ls)).next(()=>ee.cs)))})).apply(this,arguments)}function LC(a,e){return Jy.apply(this,arguments)}function Jy(){return(Jy=(0,le.A)(function*(a,e,r=wr()){const s=yield Eh(a,is(Ti(e.bundledQuery))),u=_n(a);return u.persistence.runTransaction("Save named query","readwrite",f=>{const v=si(e.readTime);if(s.snapshotVersion.compareTo(v)>=0)return u.$r.saveNamedQuery(f,e);const C=s.withResumeToken(Gi.EMPTY_BYTE_STRING,v);return u.ns=u.ns.insert(C.targetId,C),u.Qr.updateTargetData(f,C).next(()=>u.Qr.removeMatchingKeysForTargetId(f,s.targetId)).next(()=>u.Qr.addMatchingKeys(f,r,s.targetId)).next(()=>u.$r.saveNamedQuery(f,e))})})).apply(this,arguments)}function vE(a,e){return`firestore_clients_${a}_${e}`}function _E(a,e,r){let s=`firestore_mutations_${a}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Rg(a,e){return`firestore_targets_${a}_${e}`}class Pg{constructor(e,r,s,u){this.user=e,this.batchId=r,this.state=s,this.error=u}static Es(e,r,s){const u=JSON.parse(s);let f,v="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return v&&u.error&&(v="string"==typeof u.error.message&&"string"==typeof u.error.code,v&&(f=new Jt(u.error.code,u.error.message))),v?new Pg(e,r,u.state,f):(Ri("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tp{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Es(e,r){const s=JSON.parse(r);let u,f="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return f&&s.error&&(f="string"==typeof s.error.message&&"string"==typeof s.error.code,f&&(u=new Jt(s.error.code,s.error.message))),f?new tp(e,s.state,u):(Ri("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Mg{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const s=JSON.parse(r);let u="object"==typeof s&&s.activeTargetIds instanceof Array,f=Gc();for(let v=0;u&&v<s.activeTargetIds.length;++v)u=fa(s.activeTargetIds[v]),f=f.add(s.activeTargetIds[v]);return u?new Mg(e,f):(Ri("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class Sv{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Sv(r.clientId,r.onlineState):(Ri("SharedClientState",`Failed to parse online state: ${e}`),null)}}class np{constructor(){this.activeTargetIds=Gc()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nl{constructor(e,r,s,u,f){this.window=e,this.oi=r,this.persistenceKey=s,this.Vs=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new ct(sr),this.started=!1,this.ys=[];const v=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.ws=vE(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new np),this.bs=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(R){return`firestore_bundle_loaded_v2_${R}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,le.A)(function*(){const r=yield e.syncEngine.Bi();for(const u of r){if(u===e.Vs)continue;const f=e.getItem(vE(e.persistenceKey,u));if(f){const v=Mg.Es(u,f);v&&(e.ps=e.ps.insert(v.clientId,v))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const u=e.xs(s);u&&e.Os(u)}for(const u of e.ys)e.gs(u);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((s,u)=>{u.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,r,s){this.Ls(e,r,s),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Rg(this.persistenceKey,e));if(s){const u=tp.Es(e,s);u&&(r=u.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Rg(this.persistenceKey,e))}updateQueryState(e,r,s){this.qs(e,r,s)}handleUserChange(e,r,s){r.forEach(u=>{this.Bs(u)}),this.currentUser=e,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return sn("SharedClientState","READ",e,r),r}setItem(e,r){sn("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){sn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(sn("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void Ri("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,le.A)(function*(){if(r.started){if(null!==s.key)if(r.bs.test(s.key)){if(null==s.newValue){const u=r.$s(s.key);return r.Us(u,null)}{const u=r.Ws(s.key,s.newValue);if(u)return r.Us(u.clientId,u)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const u=r.Gs(s.key,s.newValue);if(u)return r.zs(u)}}else if(r.Cs.test(s.key)){if(null!==s.newValue){const u=r.js(s.key,s.newValue);if(u)return r.Hs(u)}}else if(s.key===r.vs){if(null!==s.newValue){const u=r.xs(s.newValue);if(u)return r.Os(u)}}else if(s.key===r.Ss){const u=function(v){let C=ps.oe;if(null!=v)try{const R=JSON.parse(v);jn("number"==typeof R),C=R}catch(R){Ri("SharedClientState","Failed to read sequence number from WebStorage",R)}return C}(s.newValue);u!==ps.oe&&r.sequenceNumberHandler(u)}else if(s.key===r.Fs){const u=r.Js(s.newValue);yield Promise.all(u.map(f=>r.syncEngine.Ys(f)))}}else r.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,r,s){const u=new Pg(this.currentUser,e,r,s),f=_E(this.persistenceKey,this.currentUser,e);this.setItem(f,u.ds())}Bs(e){const r=_E(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,s){const u=Rg(this.persistenceKey,e),f=new tp(e,r,s);this.setItem(u,f.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const s=this.$s(e);return Mg.Es(s,r)}Gs(e,r){const s=this.Ds.exec(e),u=Number(s[1]);return Pg.Es(new ki(void 0!==s[2]?s[2]:null),u,r)}js(e,r){const s=this.Cs.exec(e),u=Number(s[1]);return tp.Es(u,r)}xs(e){return Sv.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,le.A)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);sn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const s=r?this.ps.insert(e,r):this.ps.remove(e),u=this.Ns(this.ps),f=this.Ns(s),v=[],C=[];return f.forEach(R=>{u.has(R)||v.push(R)}),u.forEach(R=>{f.has(R)||C.push(R)}),this.syncEngine.eo(v,C).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=Gc();return e.forEach((s,u)=>{r=r.unionWith(u.activeTargetIds)}),r}}class Th{constructor(){this.no=new np,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new np,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class e0{io(e){}shutdown(){}}class Rv{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){sn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){sn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let rp=null;function t0(){return null===rp?rp=268435456+Math.round(2147483648*Math.random()):rp++,"0x"+rp.toString(16)}const VC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UC{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const as="WebChannelConnection";class Pv extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.wo=s+"://"+r.host,this.So=`projects/${u}/databases/${f}`,this.bo="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${f}`}get Do(){return!1}Co(r,s,u,f,v){const C=t0(),R=this.vo(r,s.toUriEncodedString());sn("RestConnection",`Sending RPC '${r}' ${C}:`,R,u);const B={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(B,f,v),this.Mo(r,R,B,u).then(ee=>(sn("RestConnection",`Received RPC '${r}' ${C}: `,ee),ee),ee=>{throw Lo("RestConnection",`RPC '${r}' ${C} failed with error: `,ee,"url: ",R,"request:",u),ee})}xo(r,s,u,f,v,C){return this.Co(r,s,u,f,v)}Fo(r,s,u){r["X-Goog-Api-Client"]="gl-js/ fire/"+fs,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((f,v)=>r[v]=f),u&&u.headers.forEach((f,v)=>r[v]=f)}vo(r,s){return`${this.wo}/v1/${s}:${VC[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,s,u){const f=t0();return new Promise((v,C)=>{const R=new $i;R.setWithCredentials(!0),R.listenOnce(dl.COMPLETE,()=>{try{switch(R.getLastErrorCode()){case ws.NO_ERROR:const ee=R.getResponseJson();sn(as,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(ee)),v(ee);break;case ws.TIMEOUT:sn(as,`RPC '${e}' ${f} timed out`),C(new Jt(Ut.DEADLINE_EXCEEDED,"Request time out"));break;case ws.HTTP_ERROR:const Ae=R.getStatus();if(sn(as,`RPC '${e}' ${f} failed with status:`,Ae,"response text:",R.getResponseText()),Ae>0){let Ke=R.getResponseJson();Array.isArray(Ke)&&(Ke=Ke[0]);const Dt=null==Ke?void 0:Ke.error;if(Dt&&Dt.status&&Dt.message){const Ht=function(Kt){const Nn=Kt.toLowerCase().replace(/_/g,"-");return Object.values(Ut).indexOf(Nn)>=0?Nn:Ut.UNKNOWN}(Dt.status);C(new Jt(Ht,Dt.message))}else C(new Jt(Ut.UNKNOWN,"Server responded with status "+R.getStatus()))}else C(new Jt(Ut.UNAVAILABLE,"Connection failed."));break;default:Dn()}}finally{sn(as,`RPC '${e}' ${f} completed.`)}});const B=JSON.stringify(u);sn(as,`RPC '${e}' ${f} sending request:`,u),R.send(r,"POST",B,s,15)})}Oo(e,r,s){const u=t0(),f=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],v=Ma(),C=xc(),R={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},B=this.longPollingOptions.timeoutSeconds;void 0!==B&&(R.longPollingTimeout=Math.round(1e3*B)),this.useFetchStreams&&(R.xmlHttpFactory=new bo({})),this.Fo(R.initMessageHeaders,r,s),R.encodeInitMessageHeaders=!0;const ee=f.join("");sn(as,`Creating RPC '${e}' stream ${u}: ${ee}`,R);const Ae=v.createWebChannel(ee,R);let Ke=!1,Dt=!1;const Ht=new UC({lo:Kt=>{Dt?sn(as,`Not sending because RPC '${e}' stream ${u} is closed:`,Kt):(Ke||(sn(as,`Opening RPC '${e}' stream ${u} transport.`),Ae.open(),Ke=!0),sn(as,`RPC '${e}' stream ${u} sending:`,Kt),Ae.send(Kt))},ho:()=>Ae.close()}),rn=(Kt,Nn,Hn)=>{Kt.listen(Nn,bn=>{try{Hn(bn)}catch(zn){setTimeout(()=>{throw zn},0)}})};return rn(Ae,Si.EventType.OPEN,()=>{Dt||(sn(as,`RPC '${e}' stream ${u} transport opened.`),Ht.mo())}),rn(Ae,Si.EventType.CLOSE,()=>{Dt||(Dt=!0,sn(as,`RPC '${e}' stream ${u} transport closed`),Ht.po())}),rn(Ae,Si.EventType.ERROR,Kt=>{Dt||(Dt=!0,Lo(as,`RPC '${e}' stream ${u} transport errored:`,Kt),Ht.po(new Jt(Ut.UNAVAILABLE,"The operation could not be completed")))}),rn(Ae,Si.EventType.MESSAGE,Kt=>{var Nn;if(!Dt){const Hn=Kt.data[0];jn(!!Hn);const zn=Hn.error||(null===(Nn=Hn[0])||void 0===Nn?void 0:Nn.error);if(zn){sn(as,`RPC '${e}' stream ${u} received error:`,zn);const Br=zn.status;let _r=function(lt){const Rt=go[lt];if(void 0!==Rt)return Ao(Rt)}(Br),Ct=zn.message;void 0===_r&&(_r=Ut.INTERNAL,Ct="Unknown error status: "+Br+" with message "+zn.message),Dt=!0,Ht.po(new Jt(_r,Ct)),Ae.close()}else sn(as,`RPC '${e}' stream ${u} received:`,Hn),Ht.yo(Hn)}}),rn(C,hl.STAT_EVENT,Kt=>{Kt.stat===ca.PROXY?sn(as,`RPC '${e}' stream ${u} detected buffering proxy`):Kt.stat===ca.NOPROXY&&sn(as,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Ht.fo()},0),Ht}}function yE(){return typeof window<"u"?window:null}function Mv(){return typeof document<"u"?document:null}function Dh(a){return new Bf(a,!0)}class xv{constructor(e,r,s=1e3,u=1.5,f=6e4){this.oi=e,this.timerId=r,this.No=s,this.Lo=u,this.Bo=f,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),s=Math.max(0,Date.now()-this.Qo),u=Math.max(0,r-s);u>0&&sn("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,u,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class n0{constructor(e,r,s,u,f,v,C,R){this.oi=e,this.Go=s,this.zo=u,this.connection=f,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=C,this.listener=R,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new xv(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,le.A)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,le.A)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var s=this;return(0,le.A)(function*(){s.s_(),s.o_(),s.Yo.cancel(),s.jo++,4!==e?s.Yo.reset():r&&r.code===Ut.RESOURCE_EXHAUSTED?(Ri(r.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),s.Yo.Ko()):r&&r.code===Ut.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.__(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.jo===r&&this.u_(s,u)},s=>{e(()=>{const u=new Jt(Ut.UNKNOWN,"Fetching auth token failed: "+s.message);return this.c_(u)})})}u_(e,r){const s=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{s(()=>this.listener.Po())}),this.stream.To(()=>{s(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(u=>{s(()=>this.c_(u))}),this.stream.onMessage(u=>{s(()=>this.onMessage(u))})}e_(){var e=this;this.state=5,this.Yo.$o((0,le.A)(function*(){e.state=0,e.start()}))}c_(e){return sn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(sn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IE extends n0{constructor(e,r,s,u,f,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,u,v),this.serializer=f}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function Fy(a,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(B=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===B?1:"REMOVE"===B?2:"CURRENT"===B?3:"RESET"===B?4:Dn(),u=e.targetChange.targetIds||[],f=function(B,ee){return B.useProto3Json?(jn(void 0===ee||"string"==typeof ee),Gi.fromBase64String(ee||"")):(jn(void 0===ee||ee instanceof Buffer||ee instanceof Uint8Array),Gi.fromUint8Array(ee||new Uint8Array))}(a,e.targetChange.resumeToken),v=e.targetChange.cause,C=v&&function(B){const ee=void 0===B.code?Ut.UNKNOWN:Ao(B.code);return new Jt(ee,B.message||"")}(v);r=new og(s,u,f,C||null)}else if("documentChange"in e){const s=e.documentChange,u=Ko(a,s.document.name),f=si(s.document.updateTime),v=s.document.createTime?si(s.document.createTime):F.min(),C=new ao({mapValue:{fields:s.document.fields}}),R=Fn.newFoundDocument(u,f,v,C);r=new gu(s.targetIds||[],s.removedTargetIds||[],R.key,R)}else if("documentDelete"in e){const s=e.documentDelete,u=Ko(a,s.document),f=s.readTime?si(s.readTime):F.min(),v=Fn.newNoDocument(u,f);r=new gu([],s.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const s=e.documentRemove,u=Ko(a,s.document);r=new gu([],s.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Dn();{const s=e.filter,{count:u=0,unchangedNames:f}=s,v=new rg(u,f);r=new mu(s.targetId,v)}}var B;return r}(this.serializer,e),s=function(f){if(!("targetChange"in f))return F.min();const v=f.targetChange;return v.targetIds&&v.targetIds.length?F.min():v.readTime?si(v.readTime):F.min()}(e);return this.listener.h_(r,s)}P_(e){const r={};r.database=ah(this.serializer),r.addTarget=function(f,v){let C;const R=v.target;if(C=rs(R)?{documents:Yc(f,R)}:{query:lh(f,R)._t},C.targetId=v.targetId,v.resumeToken.approximateByteSize()>0){C.resumeToken=os(f,v.resumeToken);const B=Qc(f,v.expectedCount);null!==B&&(C.expectedCount=B)}else if(v.snapshotVersion.compareTo(F.min())>0){C.readTime=vu(f,v.snapshotVersion.toTimestamp());const B=Qc(f,v.expectedCount);null!==B&&(C.expectedCount=B)}return C}(this.serializer,e);const s=function dg(a,e){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dn()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.i_(r)}I_(e){const r={};r.database=ah(this.serializer),r.removeTarget=e,this.i_(r)}}class EE extends n0{constructor(e,r,s,u,f,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,u,v),this.serializer=f,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(jn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function _u(a,e){return a&&a.length>0?(jn(void 0!==e),a.map(r=>function(u,f){let v=si(u.updateTime?u.updateTime:f);return v.isEqual(F.min())&&(v=si(f)),new Ny(v,u.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=si(e.commitTime);return this.listener.A_(s,r)}return jn(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=ah(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>ec(this.serializer,s))};this.i_(r)}}class AE extends class{}{constructor(e,r,s,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=u,this.m_=!1}f_(){if(this.m_)throw new Jt(Ut.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,s,u){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,v])=>this.connection.Co(e,Ju(r,s),u,f,v)).catch(f=>{throw"FirebaseError"===f.name?(f.code===Ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Jt(Ut.UNKNOWN,f.toString())})}xo(e,r,s,u,f){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([v,C])=>this.connection.xo(e,Ju(r,s),u,v,C,f)).catch(v=>{throw"FirebaseError"===v.name?(v.code===Ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),v):new Jt(Ut.UNKNOWN,v.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class r0{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Ri(r),this.y_=!1):sn("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class o0{constructor(e,r,s,u,f){var v=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=f,this.O_.io(C=>{s.enqueueAndForget((0,le.A)(function*(){var R;Au(v)&&(sn("RemoteStore","Restarting streams for network reachability change."),yield(R=(0,le.A)(function*(ee){const Ae=_n(ee);Ae.M_.add(4),yield sd(Ae),Ae.N_.set("Unknown"),Ae.M_.delete(4),yield ip(Ae)}),function B(ee){return R.apply(this,arguments)})(v))}))}),this.N_=new r0(s,u)}}function ip(a){return Nv.apply(this,arguments)}function Nv(){return(Nv=(0,le.A)(function*(a){if(Au(a))for(const e of a.x_)yield e(!0)})).apply(this,arguments)}function sd(a){return bh.apply(this,arguments)}function bh(){return(bh=(0,le.A)(function*(a){for(const e of a.x_)yield e(!1)})).apply(this,arguments)}function xg(a,e){const r=_n(a);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),Fv(r)?kv(r):Cu(r).Xo()&&Ov(r,e))}function sc(a,e){const r=_n(a),s=Cu(r);r.F_.delete(e),s.Xo()&&ad(r,e),0===r.F_.size&&(s.Xo()?s.n_():Au(r)&&r.N_.set("Unknown"))}function Ov(a,e){if(a.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(F.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Cu(a).P_(e)}function ad(a,e){a.L_.xe(e),Cu(a).I_(e)}function kv(a){a.L_=new cv({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>a.F_.get(e)||null,tt:()=>a.datastore.serializer.databaseId}),Cu(a).start(),a.N_.w_()}function Fv(a){return Au(a)&&!Cu(a).Zo()&&a.F_.size>0}function Au(a){return 0===_n(a).M_.size}function Lv(a){a.L_=void 0}function CE(a){return Vv.apply(this,arguments)}function Vv(){return(Vv=(0,le.A)(function*(a){a.N_.set("Online")})).apply(this,arguments)}function TE(a){return Uv.apply(this,arguments)}function Uv(){return(Uv=(0,le.A)(function*(a){a.F_.forEach((e,r)=>{Ov(a,e)})})).apply(this,arguments)}function s0(a,e){return a0.apply(this,arguments)}function a0(){return(a0=(0,le.A)(function*(a,e){Lv(a),Fv(a)?(a.N_.D_(e),kv(a)):a.N_.set("Unknown")})).apply(this,arguments)}function BC(a,e,r){return ld.apply(this,arguments)}function ld(){return ld=(0,le.A)(function*(a,e,r){if(a.N_.set("Online"),e instanceof og&&2===e.state&&e.cause)try{yield(s=(0,le.A)(function*(f,v){const C=v.cause;for(const R of v.targetIds)f.F_.has(R)&&(yield f.remoteSyncer.rejectListen(R,C),f.F_.delete(R),f.L_.removeTarget(R))}),function u(f,v){return s.apply(this,arguments)})(a,e)}catch(s){sn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Ng(a,s)}else if(e instanceof gu?a.L_.Ke(e):e instanceof mu?a.L_.He(e):a.L_.We(e),!r.isEqual(F.min()))try{const s=yield Dv(a.localStore);r.compareTo(s)>=0&&(yield function(f,v){const C=f.L_.rt(v);return C.targetChanges.forEach((R,B)=>{if(R.resumeToken.approximateByteSize()>0){const ee=f.F_.get(B);ee&&f.F_.set(B,ee.withResumeToken(R.resumeToken,v))}}),C.targetMismatches.forEach((R,B)=>{const ee=f.F_.get(R);if(!ee)return;f.F_.set(R,ee.withResumeToken(Gi.EMPTY_BYTE_STRING,ee.snapshotVersion)),ad(f,R);const Ae=new g(ee.target,R,B,ee.sequenceNumber);Ov(f,Ae)}),f.remoteSyncer.applyRemoteEvent(C)}(a,r))}catch(s){sn("RemoteStore","Failed to raise snapshot:",s),yield Ng(a,s)}var s}),ld.apply(this,arguments)}function Ng(a,e,r){return Bv.apply(this,arguments)}function Bv(){return(Bv=(0,le.A)(function*(a,e,r){if(!Ss(e))throw e;a.M_.add(1),yield sd(a),a.N_.set("Offline"),r||(r=()=>Dv(a.localStore)),a.asyncQueue.enqueueRetryable((0,le.A)(function*(){sn("RemoteStore","Retrying IndexedDB access"),yield r(),a.M_.delete(1),yield ip(a)}))})).apply(this,arguments)}function l0(a,e){return e().catch(r=>Ng(a,r,e))}function ud(a){return $v.apply(this,arguments)}function $v(){return($v=(0,le.A)(function*(a){const e=_n(a),r=Nl(e);let s=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;DE(e);)try{const u=yield Qy(e.localStore,s);if(null===u){0===e.v_.length&&r.n_();break}s=u.batchId,bE(e,u)}catch(u){yield Ng(e,u)}u0(e)&&c0(e)})).apply(this,arguments)}function DE(a){return Au(a)&&a.v_.length<10}function bE(a,e){a.v_.push(e);const r=Nl(a);r.Xo()&&r.E_&&r.d_(e.mutations)}function u0(a){return Au(a)&&!Nl(a).Zo()&&a.v_.length>0}function c0(a){Nl(a).start()}function wE(a){return op.apply(this,arguments)}function op(){return(op=(0,le.A)(function*(a){Nl(a).V_()})).apply(this,arguments)}function $C(a){return d0.apply(this,arguments)}function d0(){return(d0=(0,le.A)(function*(a){const e=Nl(a);for(const r of a.v_)e.d_(r.mutations)})).apply(this,arguments)}function jv(a,e,r){return h0.apply(this,arguments)}function h0(){return(h0=(0,le.A)(function*(a,e,r){const s=a.v_.shift(),u=Xu.from(s,e,r);yield l0(a,()=>a.remoteSyncer.applySuccessfulWrite(u)),yield ud(a)})).apply(this,arguments)}function jC(a,e){return f0.apply(this,arguments)}function f0(){return f0=(0,le.A)(function*(a,e){var r;e&&Nl(a).E_&&(yield(r=(0,le.A)(function*(u,f){if(Ja(C=f.code)&&C!==Ut.ABORTED){const v=u.v_.shift();Nl(u).t_(),yield l0(u,()=>u.remoteSyncer.rejectFailedWrite(v.batchId,f)),yield ud(u)}var C}),function s(u,f){return r.apply(this,arguments)})(a,e)),u0(a)&&c0(a)}),f0.apply(this,arguments)}function SE(a,e){return p0.apply(this,arguments)}function p0(){return(p0=(0,le.A)(function*(a,e){const r=_n(a);r.asyncQueue.verifyOperationInProgress(),sn("RemoteStore","RemoteStore received new credentials");const s=Au(r);r.M_.add(3),yield sd(r),s&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield ip(r)})).apply(this,arguments)}function Hv(a,e){return wh.apply(this,arguments)}function wh(){return(wh=(0,le.A)(function*(a,e){const r=_n(a);e?(r.M_.delete(2),yield ip(r)):e||(r.M_.add(2),yield sd(r),r.N_.set("Unknown"))})).apply(this,arguments)}function Cu(a){return a.B_||(a.B_=function(r,s,u){const f=_n(r);return f.f_(),new IE(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(a.datastore,a.asyncQueue,{Po:CE.bind(null,a),To:TE.bind(null,a),Ao:s0.bind(null,a),h_:BC.bind(null,a)}),a.x_.push(function(){var e=(0,le.A)(function*(r){r?(a.B_.t_(),Fv(a)?kv(a):a.N_.set("Unknown")):(yield a.B_.stop(),Lv(a))});return function(r){return e.apply(this,arguments)}}())),a.B_}function Nl(a){return a.k_||(a.k_=function(r,s,u){const f=_n(r);return f.f_(),new EE(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(a.datastore,a.asyncQueue,{Po:()=>Promise.resolve(),To:wE.bind(null,a),Ao:jC.bind(null,a),R_:$C.bind(null,a),A_:jv.bind(null,a)}),a.x_.push(function(){var e=(0,le.A)(function*(r){r?(a.k_.t_(),yield ud(a)):(yield a.k_.stop(),a.v_.length>0&&(sn("RemoteStore",`Stopping write stream with ${a.v_.length} pending writes`),a.v_=[]))});return function(r){return e.apply(this,arguments)}}())),a.k_}class Og{constructor(e,r,s,u,f){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=u,this.removalCallback=f,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,u,f){const v=Date.now()+s,C=new Og(e,r,v,u,f);return C.start(s),C}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Jt(Ut.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cd(a,e){if(Ri("AsyncQueue",`${e}: ${a}`),Ss(a))return new Jt(Ut.UNAVAILABLE,`${e}: ${a}`);throw a}class Sh{constructor(e){this.comparator=e?(r,s)=>e(r,s)||tt.comparator(r.key,s.key):(r,s)=>tt.comparator(r.key,s.key),this.keyedMap=Wu(),this.sortedSet=new ct(this.comparator)}static emptySet(e){return new Sh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Sh)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,f=s.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new Sh;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class g0{constructor(){this.q_=new ct(tt.comparator)}track(e){const r=e.doc.key,s=this.q_.get(r);s?0!==e.type&&3===s.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==s.type?this.q_=this.q_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.q_=this.q_.remove(r):1===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):Dn():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,s)=>{e.push(s)}),e}}class dd{constructor(e,r,s,u,f,v,C,R,B){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=f,this.fromCache=v,this.syncStateChanged=C,this.excludesMetadataChanges=R,this.hasCachedResults=B}static fromInitialDocuments(e,r,s,u,f){const v=[];return r.forEach(C=>{v.push({type:0,doc:C})}),new dd(e,r,Sh.emptySet(r),v,s,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==s[u].type||!r[u].doc.isEqual(s[u].doc))return!1;return!0}}class Rh{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class Aa{constructor(){this.queries=new Za(e=>bf(e),Gu),this.onlineState="Unknown",this.z_=new Set}}function Ca(a,e){return kg.apply(this,arguments)}function kg(){return(kg=(0,le.A)(function*(a,e){const r=_n(a);let s=3;const u=e.query;let f=r.queries.get(u);f?!f.W_()&&e.G_()&&(s=2):(f=new Rh,s=e.G_()?0:1);try{switch(s){case 0:f.K_=yield r.onListen(u,!0);break;case 1:f.K_=yield r.onListen(u,!1);break;case 2:yield r.onFirstRemoteStoreListen(u)}}catch(v){const C=cd(v,`Initialization of query '${Dl(e.query)}' failed`);return void e.onError(C)}r.queries.set(u,f),f.U_.push(e),e.j_(r.onlineState),f.K_&&e.H_(f.K_)&&Fg(r)})).apply(this,arguments)}function m0(a,e){return zv.apply(this,arguments)}function zv(){return(zv=(0,le.A)(function*(a,e){const r=_n(a),s=e.query;let u=3;const f=r.queries.get(s);if(f){const v=f.U_.indexOf(e);v>=0&&(f.U_.splice(v,1),0===f.U_.length?u=e.G_()?0:1:!f.W_()&&e.G_()&&(u=2))}switch(u){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function HC(a,e){const r=_n(a);let s=!1;for(const u of e){const v=r.queries.get(u.query);if(v){for(const C of v.U_)C.H_(u)&&(s=!0);v.K_=u}}s&&Fg(r)}function zC(a,e,r){const s=_n(a),u=s.queries.get(e);if(u)for(const f of u.U_)f.onError(r);s.queries.delete(e)}function Fg(a){a.z_.forEach(e=>{e.next()})}var Lg,RE;(RE=Lg||(Lg={})).J_="default",RE.Cache="cache";class Ph{constructor(e,r,s){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=s||{}}H_(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)3!==u.type&&s.push(u);e=new dd(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=dd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Lg.Cache}}class Gv{constructor(e,r){this.ia=e,this.byteLength=r}sa(){return"metadata"in this.ia}}class Vg{constructor(e){this.serializer=e}Ps(e){return Ko(this.serializer,e)}Is(e){return e.metadata.exists?dv(this.serializer,e.document,!1):Fn.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return si(e)}}class PE{constructor(e,r,s){this.oa=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=hd(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++r;const s=M.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}aa(e){const r=new Map,s=new Vg(this.serializer);for(const u of e)if(u.metadata.queries){const f=s.Ps(u.metadata.name);for(const v of u.metadata.queries){const C=(r.get(v)||wr()).add(f);r.set(v,C)}}return r}complete(){var e=this;return(0,le.A)(function*(){const r=yield function mE(a,e,r,s){return Zy.apply(this,arguments)}(e.localStore,new Vg(e.serializer),e.documents,e.oa.id),s=e.aa(e.documents);for(const u of e.queries)yield LC(e.localStore,u,s.get(u.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:r}})()}}function hd(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}class Ug{constructor(e){this.key=e}}class Wv{constructor(e){this.key=e}}class Bg{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=wr(),this.mutatedKeys=wr(),this.Ia=bl(e),this.Ta=new Sh(this.Ia)}get Ea(){return this.la}da(e,r){const s=r?r.Aa:new g0,u=r?r.Ta:this.Ta;let f=r?r.mutatedKeys:this.mutatedKeys,v=u,C=!1;const R="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,B="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((ee,Ae)=>{const Ke=u.get(ee),Dt=ou(this.query,Ae)?Ae:null,Ht=!!Ke&&this.mutatedKeys.has(Ke.key),rn=!!Dt&&(Dt.hasLocalMutations||this.mutatedKeys.has(Dt.key)&&Dt.hasCommittedMutations);let Kt=!1;Ke&&Dt?Ke.data.isEqual(Dt.data)?Ht!==rn&&(s.track({type:3,doc:Dt}),Kt=!0):this.Ra(Ke,Dt)||(s.track({type:2,doc:Dt}),Kt=!0,(R&&this.Ia(Dt,R)>0||B&&this.Ia(Dt,B)<0)&&(C=!0)):!Ke&&Dt?(s.track({type:0,doc:Dt}),Kt=!0):Ke&&!Dt&&(s.track({type:1,doc:Ke}),Kt=!0,(R||B)&&(C=!0)),Kt&&(Dt?(v=v.add(Dt),f=rn?f.add(ee):f.delete(ee)):(v=v.delete(ee),f=f.delete(ee)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const ee="F"===this.query.limitType?v.last():v.first();v=v.delete(ee.key),f=f.delete(ee.key),s.track({type:1,doc:ee})}return{Ta:v,Aa:s,Xi:C,mutatedKeys:f}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,u){const f=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const v=e.Aa.Q_();v.sort((ee,Ae)=>function(Dt,Ht){const rn=Kt=>{switch(Kt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dn()}};return rn(Dt)-rn(Ht)}(ee.type,Ae.type)||this.Ia(ee.doc,Ae.doc)),this.Va(s),u=null!=u&&u;const C=r&&!u?this.ma():[],R=0===this.Pa.size&&this.current&&!u?1:0,B=R!==this.ha;return this.ha=R,0!==v.length||B?{snapshot:new dd(this.query,e.Ta,f,v,e.mutatedKeys,0===R,B,!1,!!s&&s.resumeToken.approximateByteSize()>0),fa:C}:{fa:C}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new g0,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=wr(),this.Ta.forEach(s=>{this.ga(s.key)&&(this.Pa=this.Pa.add(s.key))});const r=[];return e.forEach(s=>{this.Pa.has(s)||r.push(new Wv(s))}),this.Pa.forEach(s=>{e.has(s)||r.push(new Ug(s))}),r}pa(e){this.la=e.hs,this.Pa=wr();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return dd.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class $g{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class ME{constructor(e){this.key=e,this.wa=!1}}class xE{constructor(e,r,s,u,f,v){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=v,this.Sa={},this.ba=new Za(C=>bf(C),Gu),this.Da=new Map,this.Ca=new Set,this.va=new ct(tt.comparator),this.Fa=new Map,this.Ma=new Cg,this.xa={},this.Oa=new Map,this.Na=xl.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function v0(a,e){return Kv.apply(this,arguments)}function Kv(){return(Kv=(0,le.A)(function*(a,e,r=!0){const s=Fh(a);let u;const f=s.ba.get(e);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.ya()):u=yield Xv(s,e,r,!0),u})).apply(this,arguments)}function NE(a,e){return qv.apply(this,arguments)}function qv(){return(qv=(0,le.A)(function*(a,e){const r=Fh(a);yield Xv(r,e,!0,!1)})).apply(this,arguments)}function Xv(a,e,r,s){return fd.apply(this,arguments)}function fd(){return(fd=(0,le.A)(function*(a,e,r,s){const u=yield Eh(a.localStore,is(e)),f=u.targetId,v=r?a.sharedClientState.addLocalQueryTarget(f):"not-current";let C;return s&&(C=yield Mh(a,e,f,"current"===v,u.resumeToken)),a.isPrimaryClient&&r&&xg(a.remoteStore,u),C})).apply(this,arguments)}function Mh(a,e,r,s,u){return sp.apply(this,arguments)}function sp(){return sp=(0,le.A)(function*(a,e,r,s,u){a.Ba=(Ae,Ke,Dt)=>{return(Ht=(0,le.A)(function*(Kt,Nn,Hn,bn){let zn=Nn.view.da(Hn);zn.Xi&&(zn=yield Sg(Kt.localStore,Nn.query,!1).then(({documents:Ge})=>Nn.view.da(Ge,zn)));const Br=bn&&bn.targetChanges.get(Nn.targetId),_r=bn&&null!=bn.targetMismatches.get(Nn.targetId),Ct=Nn.view.applyChanges(zn,Kt.isPrimaryClient,Br,_r);return Kg(Kt,Nn.targetId,Ct.fa),Ct.snapshot}),function rn(Kt,Nn,Hn,bn){return Ht.apply(this,arguments)})(a,Ae,Ke,Dt);var Ht};const f=yield Sg(a.localStore,e,!0),v=new Bg(e,f.hs),C=v.da(f.documents),R=pu.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==a.onlineState,u),B=v.applyChanges(C,a.isPrimaryClient,R);Kg(a,r,B.fa);const ee=new $g(e,r,v);return a.ba.set(e,ee),a.Da.has(r)?a.Da.get(r).push(e):a.Da.set(r,[e]),B.snapshot}),sp.apply(this,arguments)}function OE(a,e,r){return Qv.apply(this,arguments)}function Qv(){return(Qv=(0,le.A)(function*(a,e,r){const s=_n(a),u=s.ba.get(e),f=s.Da.get(u.targetId);if(f.length>1)return s.Da.set(u.targetId,f.filter(v=>!Gu(v,e))),void s.ba.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Ah(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),r&&sc(s.remoteStore,u.targetId),ac(s,u.targetId)}).catch(Mr))):(ac(s,u.targetId),yield Ah(s.localStore,u.targetId,!0))})).apply(this,arguments)}function Yv(a,e){return jg.apply(this,arguments)}function jg(){return(jg=(0,le.A)(function*(a,e){const r=_n(a),s=r.ba.get(e),u=r.Da.get(s.targetId);r.isPrimaryClient&&1===u.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),sc(r.remoteStore,s.targetId))})).apply(this,arguments)}function Hg(){return(Hg=(0,le.A)(function*(a,e,r){const s=Jg(a);try{const u=yield function(v,C){const R=_n(v),B=D.now(),ee=C.reduce((Dt,Ht)=>Dt.add(Ht.key),wr());let Ae,Ke;return R.persistence.runTransaction("Locally write mutations","readwrite",Dt=>{let Ht=vs(),rn=wr();return R.os.getEntries(Dt,ee).next(Kt=>{Ht=Kt,Ht.forEach((Nn,Hn)=>{Hn.isValidDocument()||(rn=rn.add(Nn))})}).next(()=>R.localDocuments.getOverlayedDocuments(Dt,Ht)).next(Kt=>{Ae=Kt;const Nn=[];for(const Hn of C){const bn=Mf(Hn,Ae.get(Hn.key).overlayedDocument);null!=bn&&Nn.push(new Ia(Hn.key,bn,Al(bn.value.mapValue),pi.exists(!0)))}return R.mutationQueue.addMutationBatch(Dt,B,Nn,C)}).next(Kt=>{Ke=Kt;const Nn=Kt.applyToLocalDocumentSet(Ae,rn);return R.documentOverlayCache.saveOverlays(Dt,Kt.batchId,Nn)})}).then(()=>({batchId:Ke.batchId,changes:wf(Ae)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(v,C,R){let B=v.xa[v.currentUser.toKey()];B||(B=new ct(sr)),B=B.insert(C,R),v.xa[v.currentUser.toKey()]=B}(s,u.batchId,r),yield Tu(s,u.changes),yield ud(s.remoteStore)}catch(u){const f=cd(u,"Failed to persist write");r.reject(f)}})).apply(this,arguments)}function Zv(a,e){return Jv.apply(this,arguments)}function Jv(){return(Jv=(0,le.A)(function*(a,e){const r=_n(a);try{const s=yield function Xy(a,e){const r=_n(a),s=e.snapshotVersion;let u=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const v=r.os.newChangeBuffer({trackRemovals:!0});u=r.ns;const C=[];e.targetChanges.forEach((ee,Ae)=>{const Ke=u.get(Ae);if(!Ke)return;C.push(r.Qr.removeMatchingKeys(f,ee.removedDocuments,Ae).next(()=>r.Qr.addMatchingKeys(f,ee.addedDocuments,Ae)));let Dt=Ke.withSequenceNumber(f.currentSequenceNumber);var rn,Kt,Nn;null!==e.targetMismatches.get(Ae)?Dt=Dt.withResumeToken(Gi.EMPTY_BYTE_STRING,F.min()).withLastLimboFreeSnapshotVersion(F.min()):ee.resumeToken.approximateByteSize()>0&&(Dt=Dt.withResumeToken(ee.resumeToken,s)),u=u.insert(Ae,Dt),Kt=Dt,Nn=ee,(0===(rn=Ke).resumeToken.approximateByteSize()||Kt.snapshotVersion.toMicroseconds()-rn.snapshotVersion.toMicroseconds()>=3e8||Nn.addedDocuments.size+Nn.modifiedDocuments.size+Nn.removedDocuments.size>0)&&C.push(r.Qr.updateTargetData(f,Dt))});let R=vs(),B=wr();if(e.documentUpdates.forEach(ee=>{e.resolvedLimboDocuments.has(ee)&&C.push(r.persistence.referenceDelegate.updateLimboDocument(f,ee))}),C.push(bv(f,v,e.documentUpdates).next(ee=>{R=ee.cs,B=ee.ls})),!s.isEqual(F.min())){const ee=r.Qr.getLastRemoteSnapshotVersion(f).next(Ae=>r.Qr.setTargetsMetadata(f,f.currentSequenceNumber,s));C.push(ee)}return Pt.waitFor(C).next(()=>v.apply(f)).next(()=>r.localDocuments.getLocalViewOfDocuments(f,R,B)).next(()=>R)}).then(f=>(r.ns=u,f))}(r.localStore,e);e.targetChanges.forEach((u,f)=>{const v=r.Fa.get(f);v&&(jn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?v.wa=!0:u.modifiedDocuments.size>0?jn(v.wa):u.removedDocuments.size>0&&(jn(v.wa),v.wa=!1))}),yield Tu(r,s,e)}catch(s){yield Mr(s)}})).apply(this,arguments)}function kE(a,e,r){const s=_n(a);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const u=[];s.ba.forEach((f,v)=>{const C=v.view.j_(e);C.snapshot&&u.push(C.snapshot)}),function(v,C){const R=_n(v);R.onlineState=C;let B=!1;R.queries.forEach((ee,Ae)=>{for(const Ke of Ae.U_)Ke.j_(C)&&(B=!0)}),B&&Fg(R)}(s.eventManager,e),u.length&&s.Sa.h_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function zg(a,e,r){return e_.apply(this,arguments)}function e_(){return(e_=(0,le.A)(function*(a,e,r){const s=_n(a);s.sharedClientState.updateQueryState(e,"rejected",r);const u=s.Fa.get(e),f=u&&u.key;if(f){let v=new ct(tt.comparator);v=v.insert(f,Fn.newNoDocument(f,F.min()));const C=wr().add(f),R=new Yu(F.min(),new Map,new ct(sr),v,C);yield Zv(s,R),s.va=s.va.remove(f),s.Fa.delete(e),Oh(s)}else yield Ah(s.localStore,e,!1).then(()=>ac(s,e,r)).catch(Mr)})).apply(this,arguments)}function _0(a,e){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,le.A)(function*(a,e){const r=_n(a),s=e.batch.batchId;try{const u=yield function Tv(a,e){const r=_n(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),f=r.os.newChangeBuffer({trackRemovals:!0});return function(C,R,B,ee){const Ae=B.batch,Ke=Ae.keys();let Dt=Pt.resolve();return Ke.forEach(Ht=>{Dt=Dt.next(()=>ee.getEntry(R,Ht)).next(rn=>{const Kt=B.docVersions.get(Ht);jn(null!==Kt),rn.version.compareTo(Kt)<0&&(Ae.applyToRemoteDocument(rn,B),rn.isValidDocument()&&(rn.setReadTime(B.commitVersion),ee.addEntry(rn)))})}),Dt.next(()=>C.mutationQueue.removeMutationBatch(R,Ae))}(r,s,e,f).next(()=>f.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(C){let R=wr();for(let B=0;B<C.mutationResults.length;++B)C.mutationResults[B].transformResults.length>0&&(R=R.add(C.batch.mutations[B].key));return R}(e))).next(()=>r.localDocuments.getDocuments(s,u))})}(r.localStore,e);Wg(r,s,null),gd(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield Tu(r,u)}catch(u){yield Mr(u)}})).apply(this,arguments)}function y0(a,e,r){return ap.apply(this,arguments)}function ap(){return(ap=(0,le.A)(function*(a,e,r){const s=_n(a);try{const u=yield function(v,C){const R=_n(v);return R.persistence.runTransaction("Reject batch","readwrite-primary",B=>{let ee;return R.mutationQueue.lookupMutationBatch(B,C).next(Ae=>(jn(null!==Ae),ee=Ae.keys(),R.mutationQueue.removeMutationBatch(B,Ae))).next(()=>R.mutationQueue.performConsistencyCheck(B)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(B,ee,C)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(B,ee)).next(()=>R.localDocuments.getDocuments(B,ee))})}(s.localStore,e);Wg(s,e,r),gd(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield Tu(s,u)}catch(u){yield Mr(u)}})).apply(this,arguments)}function xh(){return(xh=(0,le.A)(function*(a,e){const r=_n(a);Au(r.remoteStore)||sn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(v){const C=_n(v);return C.persistence.runTransaction("Get highest unacknowledged batch id","readonly",R=>C.mutationQueue.getHighestUnacknowledgedBatchId(R))}(r.localStore);if(-1===s)return void e.resolve();const u=r.Oa.get(s)||[];u.push(e),r.Oa.set(s,u)}catch(s){const u=cd(s,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}})).apply(this,arguments)}function gd(a,e){(a.Oa.get(e)||[]).forEach(r=>{r.resolve()}),a.Oa.delete(e)}function Wg(a,e,r){const s=_n(a);let u=s.xa[s.currentUser.toKey()];if(u){const f=u.get(e);f&&(r?f.reject(r):f.resolve(),u=u.remove(e)),s.xa[s.currentUser.toKey()]=u}}function ac(a,e,r=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Da.get(e))a.ba.delete(s),r&&a.Sa.ka(s,r);a.Da.delete(e),a.isPrimaryClient&&a.Ma.Vr(e).forEach(s=>{a.Ma.containsKey(s)||Nh(a,s)})}function Nh(a,e){a.Ca.delete(e.path.canonicalString());const r=a.va.get(e);null!==r&&(sc(a.remoteStore,r),a.va=a.va.remove(e),a.Fa.delete(r),Oh(a))}function Kg(a,e,r){for(const s of r)s instanceof Ug?(a.Ma.addReference(s.key,e),t_(a,s)):s instanceof Wv?(sn("SyncEngine","Document no longer in limbo: "+s.key),a.Ma.removeReference(s.key,e),a.Ma.containsKey(s.key)||Nh(a,s.key)):Dn()}function t_(a,e){const r=e.key,s=r.path.canonicalString();a.va.get(r)||a.Ca.has(s)||(sn("SyncEngine","New document in limbo: "+r),a.Ca.add(s),Oh(a))}function Oh(a){for(;a.Ca.size>0&&a.va.size<a.maxConcurrentLimboResolutions;){const e=a.Ca.values().next().value;a.Ca.delete(e);const r=new tt(M.fromString(e)),s=a.Na.next();a.Fa.set(s,new ME(r)),a.va=a.va.insert(r,s),xg(a.remoteStore,new g(is(Tl(r.path)),s,"TargetPurposeLimboResolution",ps.oe))}}function Tu(a,e,r){return qg.apply(this,arguments)}function qg(){return qg=(0,le.A)(function*(a,e,r){const s=_n(a),u=[],f=[],v=[];var C;s.ba.isEmpty()||(s.ba.forEach((C,R)=>{v.push(s.Ba(R,e,r).then(B=>{if((B||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(R.targetId,B&&!B.fromCache?"current":"not-current"),B){u.push(B);const ee=yh.Ki(R.targetId,B);f.push(ee)}}))}),yield Promise.all(v),s.Sa.h_(u),yield(C=(0,le.A)(function*(B,ee){const Ae=_n(B);try{yield Ae.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ke=>Pt.forEach(ee,Dt=>Pt.forEach(Dt.qi,Ht=>Ae.persistence.referenceDelegate.addReference(Ke,Dt.targetId,Ht)).next(()=>Pt.forEach(Dt.Qi,Ht=>Ae.persistence.referenceDelegate.removeReference(Ke,Dt.targetId,Ht)))))}catch(Ke){if(!Ss(Ke))throw Ke;sn("LocalStore","Failed to update sequence numbers: "+Ke)}for(const Ke of ee){const Dt=Ke.targetId;if(!Ke.fromCache){const Ht=Ae.ns.get(Dt),Kt=Ht.withLastLimboFreeSnapshotVersion(Ht.snapshotVersion);Ae.ns=Ae.ns.insert(Dt,Kt)}}}),function R(B,ee){return C.apply(this,arguments)})(s.localStore,f))}),qg.apply(this,arguments)}function FE(a,e){return n_.apply(this,arguments)}function n_(){return(n_=(0,le.A)(function*(a,e){const r=_n(a);if(!r.currentUser.isEqual(e)){sn("SyncEngine","User change. New user:",e.toKey());const s=yield gE(r.localStore,e);r.currentUser=e,(f=r).Oa.forEach(C=>{C.forEach(R=>{R.reject(new Jt(Ut.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.Oa.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Tu(r,s.us)}var f})).apply(this,arguments)}function LE(a,e){const r=_n(a),s=r.Fa.get(e);if(s&&s.wa)return wr().add(s.key);{let u=wr();const f=r.Da.get(e);if(!f)return u;for(const v of f){const C=r.ba.get(v);u=u.unionWith(C.view.Ea)}return u}}function E0(a,e){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,le.A)(function*(a,e){const r=_n(a),s=yield Sg(r.localStore,e.query,!0),u=e.view.pa(s);return r.isPrimaryClient&&Kg(r,e.targetId,u.fa),u})).apply(this,arguments)}function kr(a,e){return Qg.apply(this,arguments)}function Qg(){return(Qg=(0,le.A)(function*(a,e){const r=_n(a);return Eu(r.localStore,e).then(s=>Tu(r,s))})).apply(this,arguments)}function A0(a,e,r,s){return lc.apply(this,arguments)}function lc(){return(lc=(0,le.A)(function*(a,e,r,s){const u=_n(a),f=yield function(C,R){const B=_n(C),ee=_n(B.mutationQueue);return B.persistence.runTransaction("Lookup mutation documents","readonly",Ae=>ee.vn(Ae,R).next(Ke=>Ke?B.localDocuments.getDocuments(Ae,Ke):Pt.resolve(null)))}(u.localStore,e);var R;null!==f?("pending"===r?yield ud(u.remoteStore):"acknowledged"===r||"rejected"===r?(Wg(u,e,s||null),gd(u,e),R=e,_n(_n(u.localStore).mutationQueue).Mn(R)):Dn(),yield Tu(u,f)):sn("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Yg(){return(Yg=(0,le.A)(function*(a,e){const r=_n(a);if(Fh(r),Jg(r),!0===e&&!0!==r.La){const s=r.sharedClientState.getAllActiveQueryTargets(),u=yield T0(r,s.toArray());r.La=!0,yield Hv(r.remoteStore,!0);for(const f of u)xg(r.remoteStore,f)}else if(!1===e&&!1!==r.La){const s=[];let u=Promise.resolve();r.Da.forEach((f,v)=>{r.sharedClientState.isLocalQueryTarget(v)?s.push(v):u=u.then(()=>(ac(r,v),Ah(r.localStore,v,!0))),sc(r.remoteStore,v)}),yield u,yield T0(r,s),function(v){const C=_n(v);C.Fa.forEach((R,B)=>{sc(C.remoteStore,B)}),C.Ma.mr(),C.Fa=new Map,C.va=new ct(tt.comparator)}(r),r.La=!1,yield Hv(r.remoteStore,!1)}})).apply(this,arguments)}function T0(a,e,r){return kh.apply(this,arguments)}function kh(){return(kh=(0,le.A)(function*(a,e,r){const s=_n(a),u=[],f=[];for(const v of e){let C;const R=s.Da.get(v);if(R&&0!==R.length){C=yield Eh(s.localStore,is(R[0]));for(const B of R){const ee=s.ba.get(B),Ae=yield E0(s,ee);Ae.snapshot&&f.push(Ae.snapshot)}}else{const B=yield Yy(s.localStore,v);C=yield Eh(s.localStore,B),yield Mh(s,md(B),v,!1,C.resumeToken)}u.push(C)}return s.Sa.h_(f),u})).apply(this,arguments)}function md(a){return Jp(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function r_(a){return r=_n(a).localStore,_n(_n(r).persistence).Bi();var r}function lp(a,e,r,s){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,le.A)(function*(a,e,r,s){const u=_n(a);if(u.La)return void sn("SyncEngine","Ignoring unexpected query state notification.");const f=u.Da.get(e);if(f&&f.length>0)switch(r){case"current":case"not-current":{const v=yield Eu(u.localStore,Wo(f[0])),C=Yu.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,Gi.EMPTY_BYTE_STRING);yield Tu(u,v,C);break}case"rejected":yield Ah(u.localStore,e,!0),ac(u,e,s);break;default:Dn()}})).apply(this,arguments)}function i_(a,e,r){return up.apply(this,arguments)}function up(){return(up=(0,le.A)(function*(a,e,r){const s=Fh(a);if(s.La){for(const u of e){if(s.Da.has(u)&&s.sharedClientState.isActiveQueryTarget(u)){sn("SyncEngine","Adding an already active target "+u);continue}const f=yield Yy(s.localStore,u),v=yield Eh(s.localStore,f);yield Mh(s,md(f),v.targetId,!1,v.resumeToken),xg(s.remoteStore,v)}for(const u of r)s.Da.has(u)&&(yield Ah(s.localStore,u,!1).then(()=>{sc(s.remoteStore,u),ac(s,u)}).catch(Mr))}})).apply(this,arguments)}function Fh(a){const e=_n(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zg.bind(null,e),e.Sa.h_=HC.bind(null,e.eventManager),e.Sa.ka=zC.bind(null,e.eventManager),e}function Jg(a){const e=_n(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_0.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=y0.bind(null,e),e}class Lh{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,le.A)(function*(){r.serializer=Dh(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return qy(this.persistence,new od,e.initialUser,this.serializer)}createPersistence(e){return new Av(gh.Hr,this.serializer)}createSharedClientState(e){return new Th}terminate(){var e=this;return(0,le.A)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class s_ extends Lh{constructor(e,r,s){super(),this.Qa=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,le.A)(function*(){yield r().call(s,e),yield s.Qa.initialize(s,e),yield Jg(s.Qa.syncEngine),yield ud(s.Qa.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return qy(this.persistence,new od,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new nd(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new Vu(r,this.persistence);return new ha(e.asyncQueue,s)}createPersistence(e){const r=wg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ss.withCacheSize(this.cacheSizeBytes):ss.DEFAULT;return new vh(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,yE(),Mv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Th}}class a_ extends s_{constructor(e,r){super(e,r,!1),this.Qa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,le.A)(function*(){yield r().call(s,e);const u=s.Qa.syncEngine;s.sharedClientState instanceof nl&&(s.sharedClientState.syncEngine={Zs:A0.bind(null,u),Xs:lp.bind(null,u),eo:i_.bind(null,u),Bi:r_.bind(null,u),Ys:kr.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var f=(0,le.A)(function*(v){yield function C0(a,e){return Yg.apply(this,arguments)}(s.Qa.syncEngine,v),s.gcScheduler&&(v&&!s.gcScheduler.started?s.gcScheduler.start():v||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(v&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():v||s.indexBackfillerScheduler.stop())});return function(v){return f.apply(this,arguments)}}())})()}createSharedClientState(e){const r=yE();if(!nl.D(r))throw new Jt(Ut.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=wg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new nl(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class Vh{initialize(e,r){var s=this;return(0,le.A)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>kE(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=FE.bind(null,s.syncEngine),yield Hv(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Aa}createDatastore(e){const r=Dh(e.databaseInfo.databaseId),s=new Pv(e.databaseInfo);return new AE(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,u=this.datastore,f=e.asyncQueue,v=r=>kE(this.syncEngine,r,0),C=Rv.D()?new Rv:new e0,new o0(s,u,f,v,C);var s,u,f,v,C}createSyncEngine(e,r){return function(u,f,v,C,R,B,ee){const Ae=new xE(u,f,v,C,R,B);return ee&&(Ae.La=!0),Ae}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,le.A)(function*(){var r,s;yield(s=(0,le.A)(function*(f){const v=_n(f);sn("RemoteStore","RemoteStore shutting down."),v.M_.add(5),yield sd(v),v.O_.shutdown(),v.N_.set("Unknown")}),function u(f){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function D0(a,e=10240){let r=0;return{read:()=>(0,le.A)(function*(){if(r<a.byteLength){const s={value:a.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,le.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class em{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Ri("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class UE{constructor(e,r){this.Ua=e,this.serializer=r,this.metadata=new ji,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(s=>{s&&s.sa()?this.metadata.resolve(s.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.ia)}`))},s=>this.metadata.reject(s))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,le.A)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,le.A)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,le.A)(function*(){const r=yield e.za();if(null===r)return null;const s=e.Wa.decode(r),u=Number(s);isNaN(u)&&e.ja(`length string (${s}) is not valid number`);const f=yield e.Ha(u);return new Gv(JSON.parse(f),r.length+u)})()}Ja(){return this.buffer.findIndex(e=>123===e)}za(){var e=this;return(0,le.A)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const r=e.Ja();r<0&&e.ja("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}Ha(e){var r=this;return(0,le.A)(function*(){for(;r.buffer.length<e;)(yield r.Ya())&&r.ja("Reached the end of bundle when more is expected.");const s=r.Wa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,le.A)(function*(){const r=yield e.Ua.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class b0{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,le.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new Jt(Ut.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(u=(0,le.A)(function*(v,C){const R=_n(v),B={documents:C.map(Dt=>Sl(R.serializer,Dt))},ee=yield R.xo("BatchGetDocuments",R.serializer.databaseId,M.emptyPath(),B,C.length),Ae=new Map;ee.forEach(Dt=>{const Ht=function ky(a,e){return"found"in e?function(s,u){jn(!!u.found);const f=Ko(s,u.found.name),v=si(u.found.updateTime),C=u.found.createTime?si(u.found.createTime):F.min(),R=new ao({mapValue:{fields:u.found.fields}});return Fn.newFoundDocument(f,v,C,R)}(a,e):"missing"in e?function(s,u){jn(!!u.missing),jn(!!u.readTime);const f=Ko(s,u.missing),v=si(u.readTime);return Fn.newNoDocument(f,v)}(a,e):Dn()}(R.serializer,Dt);Ae.set(Ht.key.toString(),Ht)});const Ke=[];return C.forEach(Dt=>{const Ht=Ae.get(Dt.toString());jn(!!Ht),Ke.push(Ht)}),Ke}),function f(v,C){return u.apply(this,arguments)})(r.datastore,e);var u;return s.forEach(u=>r.recordVersion(u)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new hu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,le.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,u)=>{const f=tt.fromPath(u);e.mutations.push(new ih(f,e.precondition(f)))}),yield(s=(0,le.A)(function*(f,v){const C=_n(f),R={writes:v.map(B=>ec(C.serializer,B))};yield C.Co("Commit",C.serializer.databaseId,M.emptyPath(),R)}),function u(f,v){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Dn();r=F.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new Jt(Ut.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(F.min())?pi.exists(!1):pi.updateTime(r):pi.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(F.min()))throw new Jt(Ut.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pi.updateTime(r)}return pi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class w0{constructor(e,r,s,u,f){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=u,this.deferred=f,this.Za=s.maxAttempts,this.Yo=new xv(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,le.A)(function*(){const r=new b0(e.datastore),s=e.tu(r);s&&s.then(u=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(u)}).catch(f=>{e.nu(f)}))}).catch(u=>{e.nu(u)})}))}tu(e){try{const r=this.updateFunction(e);return!Rs(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Ja(r)}return!1}}class BE{constructor(e,r,s,u){var f=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=u,this.user=ki.UNAUTHENTICATED,this.clientId=Xl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var v=(0,le.A)(function*(C){sn("FirestoreClient","Received user=",C.uid),yield f.authCredentialListener(C),f.user=C});return function(C){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(s,v=>(sn("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Jt(Ut.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,le.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const u=cd(s,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function tm(a,e){return Ns.apply(this,arguments)}function Ns(){return Ns=(0,le.A)(function*(a,e){a.asyncQueue.verifyOperationInProgress(),sn("FirestoreClient","Initializing OfflineComponentProvider");const r=a.configuration;yield e.initialize(r);let s=r.initialUser;a.setCredentialChangeListener(function(){var u=(0,le.A)(function*(f){s.isEqual(f)||(yield gE(e.localStore,f),s=f)});return function(f){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}),Ns.apply(this,arguments)}function l_(a,e){return u_.apply(this,arguments)}function u_(){return(u_=(0,le.A)(function*(a,e){a.asyncQueue.verifyOperationInProgress();const r=yield cp(a);sn("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,a.configuration),a.setCredentialChangeListener(s=>SE(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,u)=>SE(e.remoteStore,u)),a._onlineComponents=e})).apply(this,arguments)}function $E(a){return"FirebaseError"===a.name?a.code===Ut.FAILED_PRECONDITION||a.code===Ut.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code}function cp(a){return nm.apply(this,arguments)}function nm(){return(nm=(0,le.A)(function*(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){sn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield tm(a,a._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!$E(r))throw r;Lo("Error using user provided cache. Falling back to memory cache: "+r),yield tm(a,new Lh)}}else sn("FirestoreClient","Using default OfflineComponentProvider"),yield tm(a,new Lh);return a._offlineComponents})).apply(this,arguments)}function rm(a){return c_.apply(this,arguments)}function c_(){return(c_=(0,le.A)(function*(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(sn("FirestoreClient","Using user provided OnlineComponentProvider"),yield l_(a,a._uninitializedComponentsProvider._online)):(sn("FirestoreClient","Using default OnlineComponentProvider"),yield l_(a,new Vh))),a._onlineComponents})).apply(this,arguments)}function S0(a){return cp(a).then(e=>e.persistence)}function vd(a){return cp(a).then(e=>e.localStore)}function R0(a){return rm(a).then(e=>e.remoteStore)}function d_(a){return rm(a).then(e=>e.syncEngine)}function Uh(a){return h_.apply(this,arguments)}function h_(){return(h_=(0,le.A)(function*(a){const e=yield rm(a),r=e.eventManager;return r.onListen=v0.bind(null,e.syncEngine),r.onUnlisten=OE.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=NE.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Yv.bind(null,e.syncEngine),r})).apply(this,arguments)}function rl(a,e,r={}){const s=new ji;return a.asyncQueue.enqueueAndForget((0,le.A)(function*(){return function(f,v,C,R,B){const ee=new em({next:Ke=>{v.enqueueAndForget(()=>m0(f,Ae));const Dt=Ke.docs.has(C);!Dt&&Ke.fromCache?B.reject(new Jt(Ut.UNAVAILABLE,"Failed to get document because the client is offline.")):Dt&&Ke.fromCache&&R&&"server"===R.source?B.reject(new Jt(Ut.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):B.resolve(Ke)},error:Ke=>B.reject(Ke)}),Ae=new Ph(Tl(C.path),ee,{includeMetadataChanges:!0,ra:!0});return Ca(f,Ae)}(yield Uh(a),a.asyncQueue,e,r,s)})),s.promise}function P0(a,e,r={}){const s=new ji;return a.asyncQueue.enqueueAndForget((0,le.A)(function*(){return function(f,v,C,R,B){const ee=new em({next:Ke=>{v.enqueueAndForget(()=>m0(f,Ae)),Ke.fromCache&&"server"===R.source?B.reject(new Jt(Ut.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):B.resolve(Ke)},error:Ke=>B.reject(Ke)}),Ae=new Ph(C,ee,{includeMetadataChanges:!0,ra:!0});return Ca(f,Ae)}(yield Uh(a),a.asyncQueue,e,r,s)})),s.promise}function g_(a){const e={};return void 0!==a.timeoutSeconds&&(e.timeoutSeconds=a.timeoutSeconds),e}const m_=new Map;function Bh(a,e,r){if(!r)throw new Jt(Ut.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function sm(a,e,r,s){if(!0===e&&!0===s)throw new Jt(Ut.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function Ol(a){if(!tt.isDocumentKey(a))throw new Jt(Ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function O0(a){if(tt.isDocumentKey(a))throw new Jt(Ut.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function am(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const e=(s=a).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof a?"a function":Dn()}function Hr(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new Jt(Ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=am(a);throw new Jt(Ut.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return a}function k0(a,e){if(e<=0)throw new Jt(Ut.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${e}.`)}class $h{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new Jt(Ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Jt(Ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=g_(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new Jt(Ut.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new Jt(Ut.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new Jt(Ut.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,r,s,u){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $h({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Jt(Ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Jt(Ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $h(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new Ga;switch(s.type){case"firstParty":return new Fu(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Jt(Ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=m_.get(r);s&&(sn("ComponentProvider","Removing Datastore"),m_.delete(r),s.terminate())}(this),Promise.resolve()}}class Ro{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ro(this.firestore,e,this._query)}}class Qi{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qi(this.firestore,e,this._key)}}class oa extends Ro{constructor(e,r,s){super(e,r,Tl(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qi(this.firestore,null,new tt(e))}withConverter(e){return new oa(this.firestore,e,this._path)}}function v_(a,e,...r){if(a=(0,at.Ku)(a),Bh("collection","path",e),a instanceof jh){const s=M.fromString(e,...r);return O0(s),new oa(a,null,s)}{if(!(a instanceof Qi||a instanceof oa))throw new Jt(Ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(M.fromString(e,...r));return O0(s),new oa(a.firestore,null,s)}}function lm(a,e,...r){if(a=(0,at.Ku)(a),1===arguments.length&&(e=Xl.newId()),Bh("doc","path",e),a instanceof jh){const s=M.fromString(e,...r);return Ol(s),new Qi(a,null,new tt(s))}{if(!(a instanceof Qi||a instanceof oa))throw new Jt(Ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(M.fromString(e,...r));return Ol(s),new Qi(a.firestore,a instanceof oa?a.converter:null,new tt(s))}}function L0(a,e){return a=(0,at.Ku)(a),e=(0,at.Ku)(e),(a instanceof Qi||a instanceof oa)&&(e instanceof Qi||e instanceof oa)&&a.firestore===e.firestore&&a.path===e.path&&a.converter===e.converter}function __(a,e){return a=(0,at.Ku)(a),e=(0,at.Ku)(e),a instanceof Ro&&e instanceof Ro&&a.firestore===e.firestore&&Gu(a._query,e._query)&&a.converter===e.converter}class WE{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new xv(this,"async_queue_retry"),this.hu=()=>{const r=Mv();r&&sn("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=Mv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=Mv();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new ji;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,le.A)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!Ss(r))throw r;sn("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(s=>{throw this.au=s,this.uu=!1,Ri("INTERNAL UNHANDLED ERROR: ",function(v){let C=v.message||"";return v.stack&&(C=v.stack.includes(v.message)?v.stack:v.message+"\n"+v.stack),C}(s)),s}).then(s=>(this.uu=!1,s))));return this.iu=r,r}enqueueAfterDelay(e,r,s){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const u=Og.createAndSchedule(this,e,r,s,f=>this.Eu(f));return this._u.push(u),u}Pu(){this.au&&Dn()}verifyOperationInProgress(){}du(){var e=this;return(0,le.A)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function um(a){return function(r,s){if("object"!=typeof r||null===r)return!1;const u=r;for(const f of["next","error","complete"])if(f in u&&"function"==typeof u[f])return!0;return!1}(a)}class cm{constructor(){this._progressObserver={},this._taskCompletionResolver=new ji,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Yi extends jh{constructor(e,r,s,u){super(e,r,s,u),this.type="firestore",this._queue=new WE,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||V0(this),this._firestoreClient.terminate()}}function lo(a){return a._firestoreClient||V0(a),a._firestoreClient.verifyNotTerminated(),a._firestoreClient}function V0(a){var e,r,s;const u=a._freezeSettings(),f=(R=(null===(e=a._app)||void 0===e?void 0:e.options.appId)||"",new Gd(a._databaseId,R,a._persistenceKey,(ee=u).host,ee.ssl,ee.experimentalForceLongPolling,ee.experimentalAutoDetectLongPolling,g_(ee.experimentalLongPollingOptions),ee.useFetchStreams));var R,ee;a._firestoreClient=new BE(a._authCredentials,a._appCheckCredentials,a._queue,f),null!==(r=u.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=u.localCache)&&void 0!==s&&s._onlineComponentProvider&&(a._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}function dm(a,e,r){const s=new ji;return a.asyncQueue.enqueue((0,le.A)(function*(){try{yield tm(a,r),yield l_(a,e),s.resolve()}catch(u){const f=u;if(!$E(f))throw f;Lo("Error enabling indexeddb cache. Falling back to memory cache: "+f),s.reject(f)}})).then(()=>s.promise)}function pp(a){if(a._initialized||a._terminated)throw new Jt(Ut.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Du{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Du(Gi.fromBase64String(e))}catch(r){throw new Jt(Ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Du(Gi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class uc{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new Jt(Ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new we(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Id{constructor(e){this._methodName=e}}class y_{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Jt(Ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Jt(Ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return sr(this._lat,e._lat)||sr(this._long,e._long)}}const ZE=/^__.*__$/;class QC{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new Ia(e,this.data,this.fieldMask,r,this.fieldTransforms):new ya(e,this.data,r,this.fieldTransforms)}}class $0{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new Ia(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function j0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dn()}}class hm{constructor(e,r,s,u,f,v){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===f&&this.mu(),this.fieldTransforms=f||[],this.fieldMask=v||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new hm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.gu({path:s,yu:!1});return u.wu(e),u}Su(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.gu({path:s,yu:!1});return u.mu(),u}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return zh(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(j0(this.fu)&&ZE.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class I_{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||Dh(e)}Fu(e,r,s,u=!1){return new hm({fu:e,methodName:r,vu:s,path:we.emptyPath(),yu:!1,Cu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function il(a){const e=a._freezeSettings(),r=Dh(a._databaseId);return new I_(a._databaseId,!!e.ignoreUndefinedProperties,r)}function Hh(a,e,r,s,u,f={}){const v=a.Fu(f.merge||f.mergeFields?2:0,e,r,u);D_("Data must be an object, but it was:",v,s);const C=gp(s,v);let R,B;if(f.merge)R=new Tr(v.fieldMask),B=v.fieldTransforms;else if(f.mergeFields){const ee=[];for(const Ae of f.mergeFields){const Ke=mp(e,Ae,r);if(!v.contains(Ke))throw new Jt(Ut.INVALID_ARGUMENT,`Field '${Ke}' is specified in your field mask but missing from your input data.`);Gh(ee,Ke)||ee.push(Ke)}R=new Tr(ee),B=v.fieldTransforms.filter(Ae=>R.covers(Ae.field))}else R=null,B=v.fieldTransforms;return new QC(new ao(C),R,B)}class cc extends Id{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cc}}function E_(a,e,r){return new hm({fu:3,vu:e.settings.vu,methodName:a._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ed extends Id{_toFieldTransform(e){return new du(e.path,new uu)}isEqual(e){return e instanceof Ed}}class fm extends Id{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=E_(this,e,!0),s=this.Mu.map(f=>Cd(f,r)),u=new wl(s);return new du(e.path,u)}isEqual(e){return e instanceof fm&&(0,at.bD)(this.Mu,e.Mu)}}class A_ extends Id{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=E_(this,e,!0),s=this.Mu.map(f=>Cd(f,r)),u=new qu(s);return new du(e.path,u)}isEqual(e){return e instanceof A_&&(0,at.bD)(this.Mu,e.Mu)}}class Ad extends Id{constructor(e,r){super(e),this.xu=r}_toFieldTransform(e){const r=new Fa(e.serializer,au(e.serializer,this.xu));return new du(e.path,r)}isEqual(e){return e instanceof Ad&&this.xu===e.xu}}function pm(a,e,r,s){const u=a.Fu(1,e,r);D_("Data must be an object, but it was:",u,s);const f=[],v=ao.empty();N(s,(R,B)=>{const ee=gm(e,R,r);B=(0,at.Ku)(B);const Ae=u.Su(ee);if(B instanceof cc)f.push(ee);else{const Ke=Cd(B,Ae);null!=Ke&&(f.push(ee),v.set(ee,Ke))}});const C=new Tr(f);return new $0(v,C,u.fieldTransforms)}function C_(a,e,r,s,u,f){const v=a.Fu(1,e,r),C=[mp(e,s,r)],R=[u];if(f.length%2!=0)throw new Jt(Ut.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ke=0;Ke<f.length;Ke+=2)C.push(mp(e,f[Ke])),R.push(f[Ke+1]);const B=[],ee=ao.empty();for(let Ke=C.length-1;Ke>=0;--Ke)if(!Gh(B,C[Ke])){const Dt=C[Ke];let Ht=R[Ke];Ht=(0,at.Ku)(Ht);const rn=v.Su(Dt);if(Ht instanceof cc)B.push(Dt);else{const Kt=Cd(Ht,rn);null!=Kt&&(B.push(Dt),ee.set(Dt,Kt))}}const Ae=new Tr(B);return new $0(ee,Ae,v.fieldTransforms)}function T_(a,e,r,s=!1){return Cd(r,a.Fu(s?4:3,e))}function Cd(a,e){if(H0(a=(0,at.Ku)(a)))return D_("Unsupported field value:",e,a),gp(a,e);if(a instanceof Id)return function(s,u){if(!j0(u.fu))throw u.Du(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Du(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(a,e),null;if(void 0===a&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(s,u){const f=[];let v=0;for(const C of s){let R=Cd(C,u.bu(v));null==R&&(R={nullValue:"NULL_VALUE"}),f.push(R),v++}return{arrayValue:{values:f}}}(a,e)}return function(s,u){if(null===(s=(0,at.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return au(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const f=D.fromDate(s);return{timestampValue:vu(u.serializer,f)}}if(s instanceof D){const f=new D(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:vu(u.serializer,f)}}if(s instanceof y_)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Du)return{bytesValue:os(u.serializer,s._byteString)};if(s instanceof Qi){const f=u.databaseId,v=s.firestore._databaseId;if(!v.isEqual(f))throw u.Du(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Zu(s.firestore._databaseId||u.databaseId,s._key.path)}}throw u.Du(`Unsupported field value: ${am(s)}`)}(a,e)}function gp(a,e){const r={};return _e(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):N(a,(s,u)=>{const f=Cd(u,e.pu(s));null!=f&&(r[s]=f)}),{mapValue:{fields:r}}}function H0(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof D||a instanceof y_||a instanceof Du||a instanceof Qi||a instanceof Id)}function D_(a,e,r){if(!H0(r)||"object"!=typeof(u=r)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=am(r);throw e.Du("an object"===s?a+" a custom object":a+" "+s)}var u}function mp(a,e,r){if((e=(0,at.Ku)(e))instanceof uc)return e._internalPath;if("string"==typeof e)return gm(a,e);throw zh("Field path arguments must be of type string or ",a,!1,void 0,r)}const JE=new RegExp("[~\\*/\\[\\]]");function gm(a,e,r){if(e.search(JE)>=0)throw zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new uc(...e.split("."))._internalPath}catch{throw zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function zh(a,e,r,s,u){const f=s&&!s.isEmpty(),v=void 0!==u;let C=`Function ${e}() called with invalid data`;r&&(C+=" (via `toFirestore()`)"),C+=". ";let R="";return(f||v)&&(R+=" (found",f&&(R+=` in field ${s}`),v&&(R+=` in document ${u}`),R+=")"),new Jt(Ut.INVALID_ARGUMENT,C+a+R)}function Gh(a,e){return a.some(r=>r.isEqual(e))}class vp{constructor(e,r,s,u,f){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Qi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new mm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Td("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class mm extends vp{data(){return super.data()}}function Td(a,e){return"string"==typeof e?gm(a,e):e instanceof uc?e._internalPath:e._delegate._internalPath}function eA(a){if("L"===a.limitType&&0===a.explicitOrderBy.length)throw new Jt(Ut.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class b_{}class _p extends b_{}function kl(a,e,...r){let s=[];e instanceof b_&&s.push(e),s=s.concat(r),function(f){const v=f.filter(R=>R instanceof Wh).length,C=f.filter(R=>R instanceof yp).length;if(v>1||v>0&&C>0)throw new Jt(Ut.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)a=u._apply(a);return a}class yp extends _p{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new yp(e,r,s)}_apply(e){const r=this._parse(e);return q0(e._query,r),new Ro(e.firestore,e.converter,Yd(e._query,r))}_parse(e){const r=il(e.firestore);return function(f,v,C,R,B,ee,Ae){let Ke;if(B.isKeyField()){if("array-contains"===ee||"array-contains-any"===ee)throw new Jt(Ut.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ee}' queries on documentId().`);if("in"===ee||"not-in"===ee){K0(Ae,ee);const Dt=[];for(const Ht of Ae)Dt.push(W0(R,f,Ht));Ke={arrayValue:{values:Dt}}}else Ke=W0(R,f,Ae)}else"in"!==ee&&"not-in"!==ee&&"array-contains-any"!==ee||K0(Ae,ee),Ke=T_(C,"where",Ae,"in"===ee||"not-in"===ee);return Or.create(B,ee,Ke)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}class Wh extends b_{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Wh(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:Ai.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(u,f){let v=u;const C=f.getFlattenedFilters();for(const R of C)q0(v,R),v=Yd(v,R)}(e._query,r),new Ro(e.firestore,e.converter,Yd(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class w_ extends _p{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new w_(e,r)}_apply(e){const r=function(u,f,v){if(null!==u.startAt)throw new Jt(Ut.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new Jt(Ut.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Uc(f,v)}(e._query,this._field,this._direction);return new Ro(e.firestore,e.converter,function(u,f){const v=u.explicitOrderBy.concat([f]);return new va(u.path,u.collectionGroup,v,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,r))}}class bu extends _p{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new bu(e,r,s)}_apply(e){return new Ro(e.firestore,e.converter,zc(e._query,this._limit,this._limitType))}}class Ip extends _p{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Ip(e,r,s)}_apply(e){const r=P_(e,this.type,this._docOrFields,this._inclusive);return new Ro(e.firestore,e.converter,(f=r,new va((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,f,u.endAt)));var u,f}}class R_ extends _p{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new R_(e,r,s)}_apply(e){const r=P_(e,this.type,this._docOrFields,this._inclusive);return new Ro(e.firestore,e.converter,(f=r,new va((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,f)));var u,f}}function P_(a,e,r,s){if(r[0]=(0,at.Ku)(r[0]),r[0]instanceof vp)return function(f,v,C,R,B){if(!R)throw new Jt(Ut.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${C}().`);const ee=[];for(const Ae of ra(f))if(Ae.field.isKeyField())ee.push(So(v,R.key));else{const Ke=R.data.field(Ae.field);if(ta(Ke))throw new Jt(Ut.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ae.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ke){const Dt=Ae.field.canonicalString();throw new Jt(Ut.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Dt}' (used as the orderBy) does not exist.`)}ee.push(Ke)}return new ma(ee,B)}(a._query,a.firestore._databaseId,e,r[0]._document,s);{const u=il(a.firestore);return function(v,C,R,B,ee,Ae){const Ke=v.explicitOrderBy;if(ee.length>Ke.length)throw new Jt(Ut.INVALID_ARGUMENT,`Too many arguments provided to ${B}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Dt=[];for(let Ht=0;Ht<ee.length;Ht++){const rn=ee[Ht];if(Ke[Ht].field.isKeyField()){if("string"!=typeof rn)throw new Jt(Ut.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${B}(), but got a ${typeof rn}`);if(!Hc(v)&&-1!==rn.indexOf("/"))throw new Jt(Ut.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${B}() must be a plain document ID, but '${rn}' contains a slash.`);const Kt=v.path.child(M.fromString(rn));if(!tt.isDocumentKey(Kt))throw new Jt(Ut.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${B}() must result in a valid document path, but '${Kt}' is not because it contains an odd number of segments.`);const Nn=new tt(Kt);Dt.push(So(C,Nn))}else{const Kt=T_(R,B,rn);Dt.push(Kt)}}return new ma(Dt,Ae)}(a._query,a.firestore._databaseId,u,e,r,s)}}function W0(a,e,r){if("string"==typeof(r=(0,at.Ku)(r))){if(""===r)throw new Jt(Ut.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hc(e)&&-1!==r.indexOf("/"))throw new Jt(Ut.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(M.fromString(r));if(!tt.isDocumentKey(s))throw new Jt(Ut.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return So(a,new tt(s))}if(r instanceof Qi)return So(a,r._key);throw new Jt(Ut.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${am(r)}.`)}function K0(a,e){if(!Array.isArray(a)||0===a.length)throw new Jt(Ut.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function q0(a,e){const r=function(u,f){for(const v of u)for(const C of v.getFlattenedFilters())if(f.indexOf(C.op)>=0)return C.op;return null}(a.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new Jt(Ut.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class X0{convertValue(e,r="none"){switch(Xa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ei(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw Dn()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return N(e,(u,f)=>{s[u]=this.convertValue(f,r)}),s}convertGeoPoint(e){return new y_(Ei(e.latitude),Ei(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=ju(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Ps(e));default:return null}}convertTimestamp(e){const r=ts(e);return new D(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=M.fromString(e);jn(h(s));const u=new qa(s.get(1),s.get(3)),f=new tt(s.popFirst(5));return u.isEqual(r)||Ri(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),f}}function Ep(a,e,r){let s;return s=a?r&&(r.merge||r.mergeFields)?a.toFirestore(e,r):a.toFirestore(e):e,s}class Fl extends X0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Du(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Qi(this.firestore,null,r)}}class wu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Su extends vp{constructor(e,r,s,u,f,v){super(e,r,s,u,v),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Ap(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(Td("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class Ap extends Su{data(e={}){return super.data(e)}}class Ll{constructor(e,r,s,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new wu(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new Ap(this._firestore,this._userDataWriter,s.key,s,new wu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Jt(Ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,f){if(u._snapshot.oldDocs.isEmpty()){let v=0;return u._snapshot.docChanges.map(C=>({type:"added",doc:new Ap(u._firestore,u._userDataWriter,C.doc.key,C.doc,new wu(u._snapshot.mutatedKeys.has(C.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:v++}))}{let v=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(C=>f||3!==C.type).map(C=>{const R=new Ap(u._firestore,u._userDataWriter,C.doc.key,C.doc,new wu(u._snapshot.mutatedKeys.has(C.doc.key),u._snapshot.fromCache),u.query.converter);let B=-1,ee=-1;return 0!==C.type&&(B=v.indexOf(C.doc.key),v=v.delete(C.doc.key)),1!==C.type&&(v=v.add(C.doc),ee=v.indexOf(C.doc.key)),{type:Q0(C.type),doc:R,oldIndex:B,newIndex:ee}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Q0(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dn()}}function M_(a,e){return a instanceof Su&&e instanceof Su?a._firestore===e._firestore&&a._key.isEqual(e._key)&&(null===a._document?null===e._document:a._document.isEqual(e._document))&&a._converter===e._converter:a instanceof Ll&&e instanceof Ll&&a._firestore===e._firestore&&__(a.query,e.query)&&a.metadata.isEqual(e.metadata)&&a._snapshot.isEqual(e._snapshot)}class dc extends X0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Du(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Qi(this.firestore,null,r)}}function N_(a,e,r){a=Hr(a,Qi);const s=Hr(a.firestore,Yi),u=Ep(a.converter,e,r);return Ru(s,[Hh(il(s),"setDoc",a._key,u,null!==a.converter,r).toMutation(a._key,pi.none())])}function O_(a,e,r,...s){a=Hr(a,Qi);const u=Hr(a.firestore,Yi),f=il(u);let v;return v="string"==typeof(e=(0,at.Ku)(e))||e instanceof uc?C_(f,"updateDoc",a._key,e,r,s):pm(f,"updateDoc",a._key,e),Ru(u,[v.toMutation(a._key,pi.exists(!0))])}function ym(a,...e){var r,s,u;a=(0,at.Ku)(a);let f={includeMetadataChanges:!1,source:"default"},v=0;"object"!=typeof e[v]||um(e[v])||(f=e[v],v++);const C={includeMetadataChanges:f.includeMetadataChanges,source:f.source};if(um(e[v])){const Ae=e[v];e[v]=null===(r=Ae.next)||void 0===r?void 0:r.bind(Ae),e[v+1]=null===(s=Ae.error)||void 0===s?void 0:s.bind(Ae),e[v+2]=null===(u=Ae.complete)||void 0===u?void 0:u.bind(Ae)}let R,B,ee;if(a instanceof Qi)B=Hr(a.firestore,Yi),ee=Tl(a._key.path),R={next:Ae=>{e[v]&&e[v](Im(B,a,Ae))},error:e[v+1],complete:e[v+2]};else{const Ae=Hr(a,Ro);B=Hr(Ae.firestore,Yi),ee=Ae._query;const Ke=new dc(B);R={next:Dt=>{e[v]&&e[v](new Ll(B,Ke,Ae,Dt))},error:e[v+1],complete:e[v+2]},eA(a._query)}return function(Ke,Dt,Ht,rn){const Kt=new em(rn),Nn=new Ph(Dt,Kt,Ht);return Ke.asyncQueue.enqueueAndForget((0,le.A)(function*(){return Ca(yield Uh(Ke),Nn)})),()=>{Kt.$a(),Ke.asyncQueue.enqueueAndForget((0,le.A)(function*(){return m0(yield Uh(Ke),Nn)}))}}(lo(B),ee,C,R)}function Ru(a,e){return function(s,u){const f=new ji;return s.asyncQueue.enqueueAndForget((0,le.A)(function*(){return function pd(a,e,r){return Hg.apply(this,arguments)}(yield d_(s),u,f)})),f.promise}(lo(a),e)}function Im(a,e,r){const s=r.docs.get(e._key),u=new dc(a);return new Su(a,u,e._key,s,new wu(r.hasPendingWrites,r.fromCache),e.converter)}const fA={maxAttempts:5};class nI{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=il(e)}set(e,r,s){this._verifyNotCommitted();const u=pc(e,this._firestore),f=Ep(u.converter,r,s),v=Hh(this._dataReader,"WriteBatch.set",u._key,f,null!==u.converter,s);return this._mutations.push(v.toMutation(u._key,pi.none())),this}update(e,r,s,...u){this._verifyNotCommitted();const f=pc(e,this._firestore);let v;return v="string"==typeof(r=(0,at.Ku)(r))||r instanceof uc?C_(this._dataReader,"WriteBatch.update",f._key,r,s,u):pm(this._dataReader,"WriteBatch.update",f._key,r),this._mutations.push(v.toMutation(f._key,pi.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=pc(e,this._firestore);return this._mutations=this._mutations.concat(new hu(r._key,pi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Jt(Ut.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pc(a,e){if((a=(0,at.Ku)(a)).firestore!==e)throw new Jt(Ut.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}class pA extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=il(r)}get(r){const s=pc(r,this._firestore),u=new Fl(this._firestore);return this._transaction.lookup([s._key]).then(f=>{if(!f||1!==f.length)return Dn();const v=f[0];if(v.isFoundDocument())return new vp(this._firestore,u,v.key,v,s.converter);if(v.isNoDocument())return new vp(this._firestore,u,s._key,null,s.converter);throw Dn()})}set(r,s,u){const f=pc(r,this._firestore),v=Ep(f.converter,s,u),C=Hh(this._dataReader,"Transaction.set",f._key,v,null!==f.converter,u);return this._transaction.set(f._key,C),this}update(r,s,u,...f){const v=pc(r,this._firestore);let C;return C="string"==typeof(s=(0,at.Ku)(s))||s instanceof uc?C_(this._dataReader,"Transaction.update",v._key,s,u,f):pm(this._dataReader,"Transaction.update",v._key,s),this._transaction.update(v._key,C),this}delete(r){const s=pc(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=pc(e,this._firestore),s=new dc(this._firestore);return super.get(e).then(u=>new Su(this._firestore,s,r._key,u._document,new wu(!1,!1),r.converter))}}function Dp(a,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Jt("invalid-argument",`Invalid options passed to function ${a}(): You cannot specify both "merge" and "mergeFields".`);return e}function oI(){if(typeof Uint8Array>"u")throw new Jt("unimplemented","Uint8Arrays are not available in this environment.")}function sI(){if(!function ka(){return typeof atob<"u"}())throw new Jt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,r=!0){fs=it.SDK_VERSION,(0,it._registerComponent)(new Ze.uA("firestore",(s,{instanceIdentifier:u,options:f})=>{const v=s.getProvider("app").getImmediate(),C=new Yi(new $d(s.getProvider("auth-internal")),new Wa(s.getProvider("app-check-internal")),function(B,ee){if(!Object.prototype.hasOwnProperty.apply(B.options,["projectId"]))throw new Jt(Ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qa(B.options.projectId,ee)}(v,u),v);return f=Object.assign({useFetchStreams:r},f),C._setSettings(f),C},"PUBLIC").setMultipleInstances(!0)),(0,it.registerVersion)(Kl,"4.6.3",e),(0,it.registerVersion)(Kl,"4.6.3","esm2017")}();class bp{constructor(e){this._delegate=e}static fromBase64String(e){return sI(),new bp(Du.fromBase64String(e))}static fromUint8Array(e){return oI(),new bp(Du.fromUint8Array(e))}toBase64(){return sI(),this._delegate.toBase64()}toUint8Array(){return oI(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function j_(a){return function aI(a,e){if("object"!=typeof a||null===a)return!1;const r=a;for(const s of e)if(s in r&&"function"==typeof r[s])return!0;return!1}(a,["next","error","complete"])}class H_{enableIndexedDbPersistence(e,r){return function qE(a,e){pp(a=Hr(a,Yi));const r=lo(a);if(r._uninitializedComponentsProvider)throw new Jt(Ut.FAILED_PRECONDITION,"SDK cache is already specified.");Lo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=a._freezeSettings(),u=new Vh;return dm(r,u,new s_(u,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return function U0(a){pp(a=Hr(a,Yi));const e=lo(a);if(e._uninitializedComponentsProvider)throw new Jt(Ut.FAILED_PRECONDITION,"SDK cache is already specified.");Lo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=a._freezeSettings(),s=new Vh;return dm(e,s,new a_(s,r.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function B0(a){if(a._initialized&&!a._terminated)throw new Jt(Ut.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ji;return a._queue.enqueueAndForgetEvenWhileRestricted((0,le.A)(function*(){try{yield(r=(0,le.A)(function*(u){if(!hi.D())return Promise.resolve();const f=u+"main";yield hi.delete(f)}),function s(u){return r.apply(this,arguments)})(wg(a._databaseId,a._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}(e._delegate)}}class bm{constructor(e,r,s){this._delegate=r,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof qa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&Lo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},r),e)).merge,this._delegate._setSettings(e)}useEmulator(e,r,s={}){!function _d(a,e,r,s={}){var u;const f=(a=Hr(a,jh))._getSettings(),v=`${e}:${r}`;if("firestore.googleapis.com"!==f.host&&f.host!==v&&Lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},f),{host:v,ssl:!1})),s.mockUserToken){let C,R;if("string"==typeof s.mockUserToken)C=s.mockUserToken,R=ki.MOCK_USER;else{C=(0,at.Fy)(s.mockUserToken,null===(u=a._app)||void 0===u?void 0:u.options.projectId);const B=s.mockUserToken.sub||s.mockUserToken.user_id;if(!B)throw new Jt(Ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new ki(B)}a._authCredentials=new gl(new wo(C,R))}}(this._delegate,e,r,s)}enableNetwork(){return function hp(a){return function jE(a){return a.asyncQueue.enqueue((0,le.A)(function*(){const e=yield S0(a),r=yield R0(a);return e.setNetworkEnabled(!0),function(u){const f=_n(u);return f.M_.delete(0),ip(f)}(r)}))}(lo(a=Hr(a,Yi)))}(this._delegate)}disableNetwork(){return function fp(a){return function HE(a){return a.asyncQueue.enqueue((0,le.A)(function*(){const e=yield S0(a),r=yield R0(a);return e.setNetworkEnabled(!1),(s=(0,le.A)(function*(f){const v=_n(f);v.M_.add(0),yield sd(v),v.N_.set("Offline")}),function u(f){return s.apply(this,arguments)})(r);var s}))}(lo(a=Hr(a,Yi)))}(this._delegate)}enablePersistence(e){let r=!1,s=!1;return e&&(r=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,sm("synchronizeTabs",r,"experimentalForceOwningTab",s)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function dp(a){return function(r){const s=new ji;return r.asyncQueue.enqueueAndForget((0,le.A)(function*(){return function I0(a,e){return xh.apply(this,arguments)}(yield d_(r),s)})),s.promise}(lo(a=Hr(a,Yi)))}(this._delegate)}onSnapshotsInSync(e){return function hc(a,e){return function M0(a,e){const r=new em(e);return a.asyncQueue.enqueueAndForget((0,le.A)(function*(){return u=yield Uh(a),f=r,_n(u).z_.add(f),void f.next();var u,f})),()=>{r.$a(),a.asyncQueue.enqueueAndForget((0,le.A)(function*(){return u=yield Uh(a),f=r,void _n(u).z_.delete(f);var u,f}))}}(lo(a=Hr(a,Yi)),um(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Jt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new mc(this,v_(this._delegate,e))}catch(r){throw ys(r,"collection()","Firestore.collection()")}}doc(e){try{return new $a(this,lm(this._delegate,e))}catch(r){throw ys(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ws(this,function F0(a,e){if(a=Hr(a,jh),Bh("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Jt(Ut.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ro(a,null,(s=e,new va(M.emptyPath(),s)));var s}(this._delegate,e))}catch(r){throw ys(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function gA(a,e,r){a=Hr(a,Yi);const s=Object.assign(Object.assign({},fA),r);return function(f){if(f.maxAttempts<1)throw new Jt(Ut.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(f,v,C){const R=new ji;return f.asyncQueue.enqueueAndForget((0,le.A)(function*(){const B=yield function im(a){return rm(a).then(e=>e.datastore)}(f);new w0(f.asyncQueue,B,C,v,R).Xa()})),R.promise}(lo(a),u=>e(new pA(a,u)),s)}(this._delegate,r=>e(new z_(this,r)))}batch(){return lo(this._delegate),new uI(new nI(this._delegate,e=>Ru(this._delegate,e)))}loadBundle(e){return function XE(a,e){const r=lo(a=Hr(a,Yi)),s=new cm;return function x0(a,e,r,s){const u=function(v,C){let R;return R="string"==typeof v?Qu().encode(v):v,ee=function(ee,Ae){if(ee instanceof Uint8Array)return D0(ee,void 0);if(ee instanceof ArrayBuffer)return D0(new Uint8Array(ee),void 0);if(ee instanceof ReadableStream)return ee.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(R),new UE(ee,C);var ee}(r,Dh(e));a.asyncQueue.enqueueAndForget((0,le.A)(function*(){!function o_(a,e,r){const s=_n(a);var u;(u=(0,le.A)(function*(v,C,R){try{const B=yield C.getMetadata();if(yield function(Ht,rn){const Kt=_n(Ht),Nn=si(rn.createTime);return Kt.persistence.runTransaction("hasNewerBundle","readonly",Hn=>Kt.$r.getBundleMetadata(Hn,rn.id)).then(Hn=>!!Hn&&Hn.createTime.compareTo(Nn)>=0)}(v.localStore,B))return yield C.close(),R._completeWith({taskState:"Success",documentsLoaded:(Ht=B).totalDocuments,bytesLoaded:Ht.totalBytes,totalDocuments:Ht.totalDocuments,totalBytes:Ht.totalBytes}),Promise.resolve(new Set);R._updateProgress(hd(B));const ee=new PE(B,v.localStore,C.serializer);let Ae=yield C.qa();for(;Ae;){const Dt=yield ee._a(Ae);Dt&&R._updateProgress(Dt),Ae=yield C.qa()}const Ke=yield ee.complete();return yield Tu(v,Ke.ca,void 0),yield function(Ht,rn){const Kt=_n(Ht);return Kt.persistence.runTransaction("Save bundle","readwrite",Nn=>Kt.$r.saveBundleMetadata(Nn,rn))}(v.localStore,B),R._completeWith(Ke.progress),Promise.resolve(Ke.ua)}catch(B){return Lo("SyncEngine",`Loading bundle failed with ${B}`),R._failWith(B),Promise.resolve(new Set)}var Ht}),function f(v,C,R){return u.apply(this,arguments)})(s,e,r).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield d_(a),u,s)}))}(r,a._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function QE(a,e){return function om(a,e){return a.asyncQueue.enqueue((0,le.A)(function*(){return function(s,u){const f=_n(s);return f.persistence.runTransaction("Get named query","readonly",v=>f.$r.getNamedQuery(v,u))}(yield vd(a),e)}))}(lo(a=Hr(a,Yi)),e).then(r=>r?new Ro(a,null,r.query):null)}(this._delegate,e).then(r=>r?new Ws(this,r):null)}}class wp extends X0{constructor(e){super(),this.firestore=e}convertBytes(e){return new bp(new Du(e))}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return $a.forKey(r,this.firestore,null)}}class z_{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new wp(e)}get(e){const r=vc(e);return this._delegate.get(r).then(s=>new wm(this._firestore,new Su(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,r.converter)))}set(e,r,s){const u=vc(e);return s?(Dp("Transaction.set",s),this._delegate.set(u,r,s)):this._delegate.set(u,r),this}update(e,r,s,...u){const f=vc(e);return 2===arguments.length?this._delegate.update(f,r):this._delegate.update(f,r,s,...u),this}delete(e){const r=vc(e);return this._delegate.delete(r),this}}class uI{constructor(e){this._delegate=e}set(e,r,s){const u=vc(e);return s?(Dp("WriteBatch.set",s),this._delegate.set(u,r,s)):this._delegate.set(u,r),this}update(e,r,s,...u){const f=vc(e);return 2===arguments.length?this._delegate.update(f,r):this._delegate.update(f,r,s,...u),this}delete(e){const r=vc(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class gc{constructor(e,r,s){this._firestore=e,this._userDataWriter=r,this._delegate=s}fromFirestore(e,r){const s=new Ap(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Sm(this._firestore,s),null!=r?r:{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){const s=gc.INSTANCES;let u=s.get(e);u||(u=new WeakMap,s.set(e,u));let f=u.get(r);return f||(f=new gc(e,new wp(e),r),u.set(r,f)),f}}gc.INSTANCES=new WeakMap;class $a{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new wp(e)}static forPath(e,r,s){if(e.length%2!=0)throw new Jt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new $a(r,new Qi(r._delegate,s,new tt(e)))}static forKey(e,r,s){return new $a(r,new Qi(r._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new mc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new mc(this.firestore,v_(this._delegate,e))}catch(r){throw ys(r,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,at.Ku)(e))instanceof Qi&&L0(this._delegate,e)}set(e,r){r=Dp("DocumentReference.set",r);try{return r?N_(this._delegate,e,r):N_(this._delegate,e)}catch(s){throw ys(s,"setDoc()","DocumentReference.set()")}}update(e,r,...s){try{return 1===arguments.length?O_(this._delegate,e):O_(this._delegate,e,r,...s)}catch(u){throw ys(u,"updateDoc()","DocumentReference.update()")}}delete(){return function J0(a){return Ru(Hr(a.firestore,Yi),[new hu(a._key,pi.none())])}(this._delegate)}onSnapshot(...e){const r=G_(e),s=W_(e,u=>new wm(this.firestore,new Su(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return ym(this._delegate,r,s)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function aA(a){a=Hr(a,Qi);const e=Hr(a.firestore,Yi),r=lo(e),s=new dc(e);return function zE(a,e){const r=new ji;return a.asyncQueue.enqueueAndForget((0,le.A)(function*(){return(s=(0,le.A)(function*(f,v,C){try{const R=yield function(ee,Ae){const Ke=_n(ee);return Ke.persistence.runTransaction("read document","readonly",Dt=>Ke.localDocuments.getDocument(Dt,Ae))}(f,v);R.isFoundDocument()?C.resolve(R):R.isNoDocument()?C.resolve(null):C.reject(new Jt(Ut.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(R){const B=cd(R,`Failed to get document '${v} from cache`);C.reject(B)}}),function u(f,v,C){return s.apply(this,arguments)})(yield vd(a),e,r);var s})),r.promise}(r,a._key).then(u=>new Su(e,s,a._key,u,new wu(null!==u&&u.hasLocalMutations,!0),a.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Dd(a){a=Hr(a,Qi);const e=Hr(a.firestore,Yi);return rl(lo(e),a._key,{source:"server"}).then(r=>Im(e,a,r))}(this._delegate):function Y0(a){a=Hr(a,Qi);const e=Hr(a.firestore,Yi);return rl(lo(e),a._key).then(r=>Im(e,a,r))}(this._delegate),r.then(s=>new wm(this.firestore,new Su(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new $a(this.firestore,this._delegate.withConverter(e?gc.getInstance(this.firestore,e):null))}}function ys(a,e,r){return a.message=a.message.replace(e,r),a}function G_(a){for(const e of a)if("object"==typeof e&&!j_(e))return e;return{}}function W_(a,e){var r,s;let u;return u=j_(a[0])?a[0]:j_(a[1])?a[1]:"function"==typeof a[0]?{next:a[0],error:a[1],complete:a[2]}:{next:a[1],error:a[2],complete:a[3]},{next:f=>{u.next&&u.next(e(f))},error:null===(r=u.error)||void 0===r?void 0:r.bind(u),complete:null===(s=u.complete)||void 0===s?void 0:s.bind(u)}}class wm{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new $a(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return M_(this._delegate,e._delegate)}}class Sm extends wm{data(e){const r=this._delegate.data(e);return this._delegate._converter||function ku(a,e){a||Dn()}(void 0!==r),r}}class Ws{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new wp(e)}where(e,r,s){try{return new Ws(this.firestore,kl(this._delegate,function z0(a,e,r){const s=e,u=Td("where",a);return yp._create(u,s,r)}(e,r,s)))}catch(u){throw ys(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new Ws(this.firestore,kl(this._delegate,function nA(a,e="asc"){const r=e,s=Td("orderBy",a);return w_._create(s,r)}(e,r)))}catch(s){throw ys(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ws(this.firestore,kl(this._delegate,function S_(a){return k0("limit",a),bu._create("limit",a,"F")}(e)))}catch(r){throw ys(r,"limit()","Query.limit()")}}limitToLast(e){try{return new Ws(this.firestore,kl(this._delegate,function rA(a){return k0("limitToLast",a),bu._create("limitToLast",a,"L")}(e)))}catch(r){throw ys(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ws(this.firestore,kl(this._delegate,function iA(...a){return Ip._create("startAt",a,!0)}(...e)))}catch(r){throw ys(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ws(this.firestore,kl(this._delegate,function G0(...a){return Ip._create("startAfter",a,!1)}(...e)))}catch(r){throw ys(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ws(this.firestore,kl(this._delegate,function oA(...a){return R_._create("endBefore",a,!1)}(...e)))}catch(r){throw ys(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ws(this.firestore,kl(this._delegate,function vm(...a){return R_._create("endAt",a,!0)}(...e)))}catch(r){throw ys(r,"endAt()","Query.endAt()")}}isEqual(e){return __(this._delegate,e._delegate)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function x_(a){a=Hr(a,Ro);const e=Hr(a.firestore,Yi),r=lo(e),s=new dc(e);return function f_(a,e){const r=new ji;return a.asyncQueue.enqueueAndForget((0,le.A)(function*(){return(s=(0,le.A)(function*(f,v,C){try{const R=yield Sg(f,v,!0),B=new Bg(v,R.hs),ee=B.da(R.documents),Ae=B.applyChanges(ee,!1);C.resolve(Ae.snapshot)}catch(R){const B=cd(R,`Failed to execute query '${v} against cache`);C.reject(B)}}),function u(f,v,C){return s.apply(this,arguments)})(yield vd(a),e,r);var s})),r.promise}(r,a._query).then(u=>new Ll(e,s,a,u))}(this._delegate):"server"===(null==e?void 0:e.source)?function lA(a){a=Hr(a,Ro);const e=Hr(a.firestore,Yi),r=lo(e),s=new dc(e);return P0(r,a._query,{source:"server"}).then(u=>new Ll(e,s,a,u))}(this._delegate):function Z0(a){a=Hr(a,Ro);const e=Hr(a.firestore,Yi),r=lo(e),s=new dc(e);return eA(a._query),P0(r,a._query).then(u=>new Ll(e,s,a,u))}(this._delegate),r.then(s=>new Rm(this.firestore,new Ll(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const r=G_(e),s=W_(e,u=>new Rm(this.firestore,new Ll(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return ym(this._delegate,r,s)}withConverter(e){return new Ws(this.firestore,this._delegate.withConverter(e?gc.getInstance(this.firestore,e):null))}}class cI{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new Sm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Rm{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new Ws(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Sm(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new cI(this._firestore,r))}forEach(e,r){this._delegate.forEach(s=>{e.call(r,new Sm(this._firestore,s))})}isEqual(e){return M_(this._delegate,e._delegate)}}class mc extends Ws{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new $a(this.firestore,e):null}doc(e){try{return new $a(this.firestore,void 0===e?lm(this._delegate):lm(this._delegate,e))}catch(r){throw ys(r,"doc()","CollectionReference.doc()")}}add(e){return function Cp(a,e){const r=Hr(a.firestore,Yi),s=lm(a),u=Ep(a.converter,e);return Ru(r,[Hh(il(a.firestore),"addDoc",s._key,u,null!==a.converter,{}).toMutation(s._key,pi.exists(!1))]).then(()=>s)}(this._delegate,e).then(r=>new $a(this.firestore,r))}isEqual(e){return L0(this._delegate,e._delegate)}withConverter(e){return new mc(this.firestore,this._delegate.withConverter(e?gc.getInstance(this.firestore,e):null))}}function vc(a){return Hr(a,Qi)}class Pm{constructor(...e){this._delegate=new uc(...e)}static documentId(){return new Pm(we.keyField().canonicalString())}isEqual(e){return(e=(0,at.Ku)(e))instanceof uc&&this._delegate._internalPath.isEqual(e._internalPath)}}class _c{constructor(e){this._delegate=e}static serverTimestamp(){const e=function vA(){return new Ed("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new _c(e)}static delete(){const e=function mA(){return new cc("deleteField")}();return e._methodName="FieldValue.delete",new _c(e)}static arrayUnion(...e){const r=function _A(...a){return new fm("arrayUnion",a)}(...e);return r._methodName="FieldValue.arrayUnion",new _c(r)}static arrayRemove(...e){const r=function Dm(...a){return new A_("arrayRemove",a)}(...e);return r._methodName="FieldValue.arrayRemove",new _c(r)}static increment(e){const r=function yA(a){return new Ad("increment",a)}(e);return r._methodName="FieldValue.increment",new _c(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const dI={Firestore:bm,GeoPoint:y_,Timestamp:D,Blob:bp,Transaction:z_,WriteBatch:uI,DocumentReference:$a,DocumentSnapshot:wm,Query:Ws,QueryDocumentSnapshot:Sm,QuerySnapshot:Rm,CollectionReference:mc,FieldPath:Pm,FieldValue:_c,setLogLevel:function lI(a){!function pl(a){es.setLogLevel(a)}(a)},CACHE_SIZE_UNLIMITED:-1};function TA(a,e){return function aT(a,e=ut.E){return new Ve.c(r=>{let s;return null!=e?e.schedule(()=>{s=a.onSnapshot({includeMetadataChanges:!0},r)}):s=a.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=s&&s()}})}(a,e)}function hI(a,e){return TA(a,e).pipe((0,rt.T)(r=>({payload:r,type:"query"})))}!function sT(a){(function CA(a,e){a.INTERNAL.registerComponent(new Ze.uA("firestore-compat",r=>{const s=r.getProvider("app-compat").getImmediate(),u=r.getProvider("firestore").getImmediate();return e(s,u)},"PUBLIC").setServiceProps(Object.assign({},dI)))})(a,(e,r)=>new bm(e,r,new H_)),a.registerVersion("@firebase/firestore-compat","0.3.32")}(Oe.A);class DA{constructor(e,r){(0,de.A)(this,"ref",void 0),(0,de.A)(this,"afs",void 0),this.ref=e,this.afs=r}set(e,r){return this.ref.set(e,r)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,r){const s=this.ref.collection(e),{ref:u,query:f}=MA(s,r);return new SA(u,f,this.afs)}snapshotChanges(){return function lT(a,e){return TA(a,e).pipe((0,Zo.Z)(void 0),Go(),(0,rt.T)(r=>{const[s,u]=r;return u.exists?null!=s&&s.exists?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ne.U0)}valueChanges(e={}){return this.snapshotChanges().pipe((0,rt.T)(({payload:r})=>e.idField?{...r.data(),[e.idField]:r.id}:r.data()))}get(e){return(0,We.H)(this.ref.get(e)).pipe(Ne.U0)}}function K_(a,e){return hI(a,e).pipe((0,Zo.Z)(void 0),Go(),(0,rt.T)(r=>{const[s,u]=r,f=u.payload.docChanges(),v=f.map(C=>({type:C.type,payload:C}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((C,R)=>{const B=f.find(Ae=>Ae.doc.ref.isEqual(C.ref)),ee=null==s?void 0:s.payload.docs.find(Ae=>Ae.ref.isEqual(C.ref));B&&JSON.stringify(B.doc.metadata)===JSON.stringify(C.metadata)||!B&&ee&&JSON.stringify(ee.metadata)===JSON.stringify(C.metadata)||v.push({type:"modified",payload:{oldIndex:R,newIndex:R,type:"modified",doc:C}})}),v}))}function bA(a,e,r){return K_(a,r).pipe((0,Vs.S)((s,u)=>function fI(a,e,r){return e.forEach(s=>{r.indexOf(s.type)>-1&&(a=function uT(a,e){switch(e.type){case"added":if(!a[e.newIndex]||!a[e.newIndex].doc.ref.isEqual(e.doc.ref))return Mm(a,e.newIndex,0,e);break;case"modified":if(null==a[e.oldIndex]||a[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const r=a.slice();return r.splice(e.oldIndex,1),r.splice(e.newIndex,0,e),r}return Mm(a,e.newIndex,1,e)}break;case"removed":if(a[e.oldIndex]&&a[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Mm(a,e.oldIndex,1)}return a}(a,s))}),a}(s,u.map(f=>f.payload),e),[]),(0,ul.F)(),(0,rt.T)(s=>s.map(u=>({type:u.type,payload:u}))))}function Mm(a,e,r,...s){const u=a.slice();return u.splice(e,r,...s),u}function wA(a){return(!a||0===a.length)&&(a=["added","removed","modified"]),a}class SA{constructor(e,r,s){(0,de.A)(this,"ref",void 0),(0,de.A)(this,"query",void 0),(0,de.A)(this,"afs",void 0),this.ref=e,this.query=r,this.afs=s}stateChanges(e){let r=K_(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(r=r.pipe((0,rt.T)(s=>s.filter(u=>e.indexOf(u.type)>-1)))),r.pipe((0,Zo.Z)(void 0),Go(),(0,Wl.p)(([s,u])=>u.length>0||!s),(0,rt.T)(([,s])=>s),Ne.U0)}auditTrail(e){return this.stateChanges(e).pipe((0,Vs.S)((r,s)=>[...r,...s],[]))}snapshotChanges(e){const r=wA(e);return bA(this.query,r,this.afs.schedulers.outsideAngular).pipe(Ne.U0)}valueChanges(e={}){return hI(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.T)(r=>r.payload.docs.map(s=>e.idField?{...s.data(),[e.idField]:s.id}:s.data())),Ne.U0)}get(e){return(0,We.H)(this.query.get(e)).pipe(Ne.U0)}add(e){return this.ref.add(e)}doc(e){return new DA(this.ref.doc(e),this.afs)}}class cT{constructor(e,r){(0,de.A)(this,"query",void 0),(0,de.A)(this,"afs",void 0),this.query=e,this.afs=r}stateChanges(e){return e&&0!==e.length?K_(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.T)(r=>r.filter(s=>e.indexOf(s.type)>-1)),(0,Wl.p)(r=>r.length>0),Ne.U0):K_(this.query,this.afs.schedulers.outsideAngular).pipe(Ne.U0)}auditTrail(e){return this.stateChanges(e).pipe((0,Vs.S)((r,s)=>[...r,...s],[]))}snapshotChanges(e){const r=wA(e);return bA(this.query,r,this.afs.schedulers.outsideAngular).pipe(Ne.U0)}valueChanges(e={}){return hI(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.T)(s=>s.payload.docs.map(u=>e.idField?{[e.idField]:u.id,...u.data()}:u.data())),Ne.U0)}get(e){return(0,We.H)(this.query.get(e)).pipe(Ne.U0)}}const RA=new c.nKC("angularfire2.enableFirestorePersistence"),PA=new c.nKC("angularfire2.firestore.persistenceSettings"),dT=new c.nKC("angularfire2.firestore.settings"),hT=new c.nKC("angularfire2.firestore.use-emulator");function MA(a,e=(r=>r)){return{query:e(a),ref:a}}let xA=(()=>{var a;class e{constructor(s,u,f,v,C,R,B,ee,Ae,Ke,Dt,Ht,rn,Kt,Nn,Hn,bn){(0,de.A)(this,"schedulers",void 0),(0,de.A)(this,"firestore",void 0),(0,de.A)(this,"persistenceEnabled$",void 0),this.schedulers=B;const zn=(0,Ee.iB)(s,R,u),Br=Ae;Ke&&(0,Bi.gF)(zn,R,Dt,rn,Kt,Nn,Ht,Hn),[this.firestore,this.persistenceEnabled$]=(0,Ee.BM)(`${zn.name}.firestore`,"AngularFirestore",zn.name,()=>{const _r=R.runOutsideAngular(()=>zn.firestore());if(v&&_r.settings(v),Br&&_r.useEmulator(...Br),f&&!(0,cr.Vy)(C)){const Ct=()=>{try{return(0,We.H)(_r.enablePersistence(ee||void 0).then(()=>!0,()=>!1))}catch(Ge){return typeof console<"u"&&console.warn(Ge),(0,ke.of)(!1)}};return[_r,R.runOutsideAngular(Ct)]}return[_r,(0,ke.of)(!1)]},[v,Br,f])}collection(s,u){let f;f="string"==typeof s?this.firestore.collection(s):s;const{ref:v,query:C}=MA(f,u),R=this.schedulers.ngZone.run(()=>v);return new SA(R,C,this)}collectionGroup(s,u){const f=u||(C=>C),v=this.firestore.collectionGroup(s);return new cT(f(v),this)}doc(s){let u;u="string"==typeof s?this.firestore.doc(s):s;const f=this.schedulers.ngZone.run(()=>u);return new DA(f,this)}createId(){return this.firestore.collection("_").doc().id}}return a=e,(0,de.A)(e,"\u0275fac",function(s){return new(s||a)(c.KVO(Ee.rx),c.KVO(Ee.uP,8),c.KVO(RA,8),c.KVO(dT,8),c.KVO(c.Agw),c.KVO(c.SKi),c.KVO(Ne.u0),c.KVO(PA,8),c.KVO(hT,8),c.KVO(Bi.DS,8),c.KVO(Bi.CP,8),c.KVO(Bi.yy,8),c.KVO(Bi.ZP,8),c.KVO(Bi.$z,8),c.KVO(Bi.AU,8),c.KVO(Bi.UB,8),c.KVO(Ne.Jv,8))}),(0,de.A)(e,"\u0275prov",c.jDH({token:a,factory:a.\u0275fac,providedIn:"any"})),e})(),qh=(()=>{var a;class e{constructor(){ds.A.registerVersion("angularfire",Ne.xv.full,"fst-compat")}static enablePersistence(s){return{ngModule:e,providers:[{provide:RA,useValue:!0},{provide:PA,useValue:s}]}}}return a=e,(0,de.A)(e,"\u0275fac",function(s){return new(s||a)}),(0,de.A)(e,"\u0275mod",c.$C({type:a})),(0,de.A)(e,"\u0275inj",c.G2t({providers:[xA]})),e})(),Sp=(()=>{var a;class e{}return(a=e).\u0275fac=function(s){return new(s||a)},a.\u0275mod=c.$C({type:a,bootstrap:[Se]}),a.\u0275inj=c.G2t({providers:[He.L,Te.K,{provide:J.b,useClass:ne.jM}],imports:[p.Bb,he.bv.forRoot(),Le,qh,Qn]}),e})();(0,c.SmG)(),p.sG().bootstrapModule(Sp).catch(a=>console.log(a))},4412:(fn,dt,L)=>{"use strict";L.d(dt,{t:()=>c});var p=L(1413);class c extends p.B{constructor(ne){super(),this._value=ne}get value(){return this.getValue()}_subscribe(ne){const he=super._subscribe(ne);return!he.closed&&ne.next(this._value),he}getValue(){const{hasError:ne,thrownError:he,_value:Se}=this;if(ne)throw he;return this._throwIfClosed(),Se}next(ne){super.next(this._value=ne)}}},1985:(fn,dt,L)=>{"use strict";L.d(dt,{c:()=>Le});var p=L(7707),c=L(8359),J=L(3494),ne=L(1203),he=L(1026),Se=L(8071),re=L(9786);let Le=(()=>{class Ne{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const We=new Ne;return We.source=this,We.operator=ke,We}subscribe(ke,We,ut){const qe=function de(Ne){return Ne&&Ne instanceof p.vU||function Te(Ne){return Ne&&(0,Se.T)(Ne.next)&&(0,Se.T)(Ne.error)&&(0,Se.T)(Ne.complete)}(Ne)&&(0,c.Uv)(Ne)}(ke)?ke:new p.Ms(ke,We,ut);return(0,re.Y)(()=>{const{operator:Ye,source:At}=this;qe.add(Ye?Ye.call(qe,At):At?this._subscribe(qe):this._trySubscribe(qe))}),qe}_trySubscribe(ke){try{return this._subscribe(ke)}catch(We){ke.error(We)}}forEach(ke,We){return new(We=He(We))((ut,qe)=>{const Ye=new p.Ms({next:At=>{try{ke(At)}catch(rt){qe(rt),Ye.unsubscribe()}},error:qe,complete:ut});this.subscribe(Ye)})}_subscribe(ke){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(ke)}[J.s](){return this}pipe(...ke){return(0,ne.m)(ke)(this)}toPromise(ke){return new(ke=He(ke))((We,ut)=>{let qe;this.subscribe(Ye=>qe=Ye,Ye=>ut(Ye),()=>We(qe))})}}return Ne.create=Ve=>new Ne(Ve),Ne})();function He(Ne){var Ve;return null!==(Ve=null!=Ne?Ne:he.$.Promise)&&void 0!==Ve?Ve:Promise}},1413:(fn,dt,L)=>{"use strict";L.d(dt,{B:()=>re});var p=L(1985),c=L(8359);const ne=(0,L(1853).L)(He=>function(){He(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=L(7908),Se=L(9786);let re=(()=>{class He extends p.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const Ne=new Le(this,this);return Ne.operator=de,Ne}_throwIfClosed(){if(this.closed)throw new ne}next(de){(0,Se.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ne of this.currentObservers)Ne.next(de)}})}error(de){(0,Se.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:Ne}=this;for(;Ne.length;)Ne.shift().error(de)}})}complete(){(0,Se.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:Ne,isStopped:Ve,observers:ke}=this;return Ne||Ve?c.Kn:(this.currentObservers=null,ke.push(de),new c.yU(()=>{this.currentObservers=null,(0,he.o)(ke,de)}))}_checkFinalizedStatuses(de){const{hasError:Ne,thrownError:Ve,isStopped:ke}=this;Ne?de.error(Ve):ke&&de.complete()}asObservable(){const de=new p.c;return de.source=this,de}}return He.create=(Te,de)=>new Le(Te,de),He})();class Le extends re{constructor(Te,de){super(),this.destination=Te,this.source=de}next(Te){var de,Ne;null===(Ne=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===Ne||Ne.call(de,Te)}error(Te){var de,Ne;null===(Ne=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===Ne||Ne.call(de,Te)}complete(){var Te,de;null===(de=null===(Te=this.destination)||void 0===Te?void 0:Te.complete)||void 0===de||de.call(Te)}_subscribe(Te){var de,Ne;return null!==(Ne=null===(de=this.source)||void 0===de?void 0:de.subscribe(Te))&&void 0!==Ne?Ne:c.Kn}}},7707:(fn,dt,L)=>{"use strict";L.d(dt,{Ms:()=>ut,vU:()=>Ne});var p=L(8071),c=L(8359),J=L(1026),ne=L(5334),he=L(5343);const Se=He("C",void 0,void 0);function He(It,Ee,Oe){return{kind:It,value:Ee,error:Oe}}var Te=L(9270),de=L(9786);class Ne extends c.yU{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,c.Uv)(Ee)&&Ee.add(this)):this.destination=rt}static create(Ee,Oe,le){return new ut(Ee,Oe,le)}next(Ee){this.isStopped?At(function Le(It){return He("N",It,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?At(function re(It){return He("E",void 0,It)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?At(Se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function ke(It,Ee){return Ve.call(It,Ee)}class We{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:Oe}=this;if(Oe.next)try{Oe.next(Ee)}catch(le){qe(le)}}error(Ee){const{partialObserver:Oe}=this;if(Oe.error)try{Oe.error(Ee)}catch(le){qe(le)}else qe(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(Oe){qe(Oe)}}}class ut extends Ne{constructor(Ee,Oe,le){let it;if(super(),(0,p.T)(Ee)||!Ee)it={next:null!=Ee?Ee:void 0,error:null!=Oe?Oe:void 0,complete:null!=le?le:void 0};else{let at;this&&J.$.useDeprecatedNextContext?(at=Object.create(Ee),at.unsubscribe=()=>this.unsubscribe(),it={next:Ee.next&&ke(Ee.next,at),error:Ee.error&&ke(Ee.error,at),complete:Ee.complete&&ke(Ee.complete,at)}):it=Ee}this.destination=new We(it)}}function qe(It){J.$.useDeprecatedSynchronousErrorHandling?(0,de.l)(It):(0,ne.m)(It)}function At(It,Ee){const{onStoppedNotification:Oe}=J.$;Oe&&Te.f.setTimeout(()=>Oe(It,Ee))}const rt={closed:!0,next:he.l,error:function Ye(It){throw It},complete:he.l}},8359:(fn,dt,L)=>{"use strict";L.d(dt,{Kn:()=>Se,yU:()=>he,Uv:()=>re});var p=L(8071);const J=(0,L(1853).L)(He=>function(de){He(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((Ne,Ve)=>`${Ve+1}) ${Ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var ne=L(7908);class he{constructor(Te){this.initialTeardown=Te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Te;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const ke of de)ke.remove(this);else de.remove(this);const{initialTeardown:Ne}=this;if((0,p.T)(Ne))try{Ne()}catch(ke){Te=ke instanceof J?ke.errors:[ke]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const ke of Ve)try{Le(ke)}catch(We){Te=null!=Te?Te:[],We instanceof J?Te=[...Te,...We.errors]:Te.push(We)}}if(Te)throw new J(Te)}}add(Te){var de;if(Te&&Te!==this)if(this.closed)Le(Te);else{if(Te instanceof he){if(Te.closed||Te._hasParent(this))return;Te._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(Te)}}_hasParent(Te){const{_parentage:de}=this;return de===Te||Array.isArray(de)&&de.includes(Te)}_addParent(Te){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(Te),de):de?[de,Te]:Te}_removeParent(Te){const{_parentage:de}=this;de===Te?this._parentage=null:Array.isArray(de)&&(0,ne.o)(de,Te)}remove(Te){const{_finalizers:de}=this;de&&(0,ne.o)(de,Te),Te instanceof he&&Te._removeParent(this)}}he.EMPTY=(()=>{const He=new he;return He.closed=!0,He})();const Se=he.EMPTY;function re(He){return He instanceof he||He&&"closed"in He&&(0,p.T)(He.remove)&&(0,p.T)(He.add)&&(0,p.T)(He.unsubscribe)}function Le(He){(0,p.T)(He)?He():He.unsubscribe()}},1026:(fn,dt,L)=>{"use strict";L.d(dt,{$:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(fn,dt,L)=>{"use strict";L.d(dt,{z:()=>Te});var p=L(1985),c=L(3073),J=L(8455),ne=L(3669),he=L(6450),Se=L(3794),re=L(8496),Le=L(4360),He=L(5225);function Te(...Ve){const ke=(0,Se.lI)(Ve),We=(0,Se.ms)(Ve),{args:ut,keys:qe}=(0,c.D)(Ve);if(0===ut.length)return(0,J.H)([],ke);const Ye=new p.c(function de(Ve,ke,We=ne.D){return ut=>{Ne(ke,()=>{const{length:qe}=Ve,Ye=new Array(qe);let At=qe,rt=qe;for(let It=0;It<qe;It++)Ne(ke,()=>{const Ee=(0,J.H)(Ve[It],ke);let Oe=!1;Ee.subscribe((0,Le._)(ut,le=>{Ye[It]=le,Oe||(Oe=!0,rt--),rt||ut.next(We(Ye.slice()))},()=>{--At||ut.complete()}))},ut)},ut)}}(ut,ke,qe?At=>(0,re.e)(qe,At):ne.D));return We?Ye.pipe((0,he.I)(We)):Ye}function Ne(Ve,ke,We){Ve?(0,He.N)(We,Ve,ke):ke()}},8793:(fn,dt,L)=>{"use strict";L.d(dt,{x:()=>he});var p=L(6365),J=L(3794),ne=L(8455);function he(...Se){return function c(){return(0,p.U)(1)}()((0,ne.H)(Se,(0,J.lI)(Se)))}},983:(fn,dt,L)=>{"use strict";L.d(dt,{w:()=>c});const c=new(L(1985).c)(he=>he.complete())},8455:(fn,dt,L)=>{"use strict";L.d(dt,{H:()=>Ee});var p=L(8750),c=L(941),J=L(6745),Se=L(1985),Le=L(4761),He=L(8071),Te=L(5225);function Ne(Oe,le){if(!Oe)throw new Error("Iterable cannot be null");return new Se.c(it=>{(0,Te.N)(it,le,()=>{const at=Oe[Symbol.asyncIterator]();(0,Te.N)(it,le,()=>{at.next().then(Ze=>{Ze.done?it.complete():it.next(Ze.value)})},0,!0)})})}var Ve=L(5055),ke=L(9858),We=L(7441),ut=L(5397),qe=L(7953),Ye=L(591),At=L(5196);function Ee(Oe,le){return le?function It(Oe,le){if(null!=Oe){if((0,Ve.l)(Oe))return function ne(Oe,le){return(0,p.Tg)(Oe).pipe((0,J._)(le),(0,c.Q)(le))}(Oe,le);if((0,We.X)(Oe))return function re(Oe,le){return new Se.c(it=>{let at=0;return le.schedule(function(){at===Oe.length?it.complete():(it.next(Oe[at++]),it.closed||this.schedule())})})}(Oe,le);if((0,ke.y)(Oe))return function he(Oe,le){return(0,p.Tg)(Oe).pipe((0,J._)(le),(0,c.Q)(le))}(Oe,le);if((0,qe.T)(Oe))return Ne(Oe,le);if((0,ut.x)(Oe))return function de(Oe,le){return new Se.c(it=>{let at;return(0,Te.N)(it,le,()=>{at=Oe[Le.l](),(0,Te.N)(it,le,()=>{let Ze,$e;try{({value:Ze,done:$e}=at.next())}catch(Lt){return void it.error(Lt)}$e?it.complete():it.next(Ze)},0,!0)}),()=>(0,He.T)(null==at?void 0:at.return)&&at.return()})}(Oe,le);if((0,At.U)(Oe))return function rt(Oe,le){return Ne((0,At.C)(Oe),le)}(Oe,le)}throw(0,Ye.L)(Oe)}(Oe,le):(0,p.Tg)(Oe)}},3726:(fn,dt,L)=>{"use strict";L.d(dt,{R:()=>Te});var p=L(8750),c=L(1985),J=L(1397),ne=L(7441),he=L(8071),Se=L(6450);const re=["addListener","removeListener"],Le=["addEventListener","removeEventListener"],He=["on","off"];function Te(We,ut,qe,Ye){if((0,he.T)(qe)&&(Ye=qe,qe=void 0),Ye)return Te(We,ut,qe).pipe((0,Se.I)(Ye));const[At,rt]=function ke(We){return(0,he.T)(We.addEventListener)&&(0,he.T)(We.removeEventListener)}(We)?Le.map(It=>Ee=>We[It](ut,Ee,qe)):function Ne(We){return(0,he.T)(We.addListener)&&(0,he.T)(We.removeListener)}(We)?re.map(de(We,ut)):function Ve(We){return(0,he.T)(We.on)&&(0,he.T)(We.off)}(We)?He.map(de(We,ut)):[];if(!At&&(0,ne.X)(We))return(0,J.Z)(It=>Te(It,ut,qe))((0,p.Tg)(We));if(!At)throw new TypeError("Invalid event target");return new c.c(It=>{const Ee=(...Oe)=>It.next(1<Oe.length?Oe:Oe[0]);return At(Ee),()=>rt(Ee)})}function de(We,ut){return qe=>Ye=>We[qe](ut,Ye)}},8750:(fn,dt,L)=>{"use strict";L.d(dt,{Tg:()=>Ve});var p=L(1635),c=L(7441),J=L(9858),ne=L(1985),he=L(5055),Se=L(7953),re=L(591),Le=L(5397),He=L(5196),Te=L(8071),de=L(5334),Ne=L(3494);function Ve(It){if(It instanceof ne.c)return It;if(null!=It){if((0,he.l)(It))return function ke(It){return new ne.c(Ee=>{const Oe=It[Ne.s]();if((0,Te.T)(Oe.subscribe))return Oe.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(It);if((0,c.X)(It))return function We(It){return new ne.c(Ee=>{for(let Oe=0;Oe<It.length&&!Ee.closed;Oe++)Ee.next(It[Oe]);Ee.complete()})}(It);if((0,J.y)(It))return function ut(It){return new ne.c(Ee=>{It.then(Oe=>{Ee.closed||(Ee.next(Oe),Ee.complete())},Oe=>Ee.error(Oe)).then(null,de.m)})}(It);if((0,Se.T)(It))return Ye(It);if((0,Le.x)(It))return function qe(It){return new ne.c(Ee=>{for(const Oe of It)if(Ee.next(Oe),Ee.closed)return;Ee.complete()})}(It);if((0,He.U)(It))return function At(It){return Ye((0,He.C)(It))}(It)}throw(0,re.L)(It)}function Ye(It){return new ne.c(Ee=>{(function rt(It,Ee){var Oe,le,it,at;return(0,p.sH)(this,void 0,void 0,function*(){try{for(Oe=(0,p.xN)(It);!(le=yield Oe.next()).done;)if(Ee.next(le.value),Ee.closed)return}catch(Ze){it={error:Ze}}finally{try{le&&!le.done&&(at=Oe.return)&&(yield at.call(Oe))}finally{if(it)throw it.error}}Ee.complete()})})(It,Ee).catch(Oe=>Ee.error(Oe))})}},7786:(fn,dt,L)=>{"use strict";L.d(dt,{h:()=>Se});var p=L(6365),c=L(8750),J=L(983),ne=L(3794),he=L(8455);function Se(...re){const Le=(0,ne.lI)(re),He=(0,ne.R0)(re,1/0),Te=re;return Te.length?1===Te.length?(0,c.Tg)(Te[0]):(0,p.U)(He)((0,he.H)(Te,Le)):J.w}},7673:(fn,dt,L)=>{"use strict";L.d(dt,{of:()=>J});var p=L(3794),c=L(8455);function J(...ne){const he=(0,p.lI)(ne);return(0,c.H)(ne,he)}},4360:(fn,dt,L)=>{"use strict";L.d(dt,{_:()=>c});var p=L(7707);function c(ne,he,Se,re,Le){return new J(ne,he,Se,re,Le)}class J extends p.vU{constructor(he,Se,re,Le,He,Te){super(he),this.onFinalize=He,this.shouldUnsubscribe=Te,this._next=Se?function(de){try{Se(de)}catch(Ne){he.error(Ne)}}:super._next,this._error=Le?function(de){try{Le(de)}catch(Ne){he.error(Ne)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(de){he.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Se}=this;super.unsubscribe(),!Se&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},9901:(fn,dt,L)=>{"use strict";L.d(dt,{U:()=>J});var p=L(9974),c=L(4360);function J(ne){return(0,p.N)((he,Se)=>{let re=!1;he.subscribe((0,c._)(Se,Le=>{re=!0,Se.next(Le)},()=>{re||Se.next(ne),Se.complete()}))})}},3294:(fn,dt,L)=>{"use strict";L.d(dt,{F:()=>ne});var p=L(3669),c=L(9974),J=L(4360);function ne(Se,re=p.D){return Se=null!=Se?Se:he,(0,c.N)((Le,He)=>{let Te,de=!0;Le.subscribe((0,J._)(He,Ne=>{const Ve=re(Ne);(de||!Se(Te,Ve))&&(de=!1,Te=Ve,He.next(Ne))}))})}function he(Se,re){return Se===re}},5964:(fn,dt,L)=>{"use strict";L.d(dt,{p:()=>J});var p=L(9974),c=L(4360);function J(ne,he){return(0,p.N)((Se,re)=>{let Le=0;Se.subscribe((0,c._)(re,He=>ne.call(he,He,Le++)&&re.next(He)))})}},1594:(fn,dt,L)=>{"use strict";L.d(dt,{$:()=>re});var p=L(9350),c=L(5964),J=L(6697),ne=L(9901),he=L(3774),Se=L(3669);function re(Le,He){const Te=arguments.length>=2;return de=>de.pipe(Le?(0,c.p)((Ne,Ve)=>Le(Ne,Ve,de)):Se.D,(0,J.s)(1),Te?(0,ne.U)(He):(0,he.v)(()=>new p.G))}},6354:(fn,dt,L)=>{"use strict";L.d(dt,{T:()=>J});var p=L(9974),c=L(4360);function J(ne,he){return(0,p.N)((Se,re)=>{let Le=0;Se.subscribe((0,c._)(re,He=>{re.next(ne.call(he,He,Le++))}))})}},6365:(fn,dt,L)=>{"use strict";L.d(dt,{U:()=>J});var p=L(1397),c=L(3669);function J(ne=1/0){return(0,p.Z)(c.D,ne)}},1397:(fn,dt,L)=>{"use strict";L.d(dt,{Z:()=>Le});var p=L(6354),c=L(8750),J=L(9974),ne=L(5225),he=L(4360),re=L(8071);function Le(He,Te,de=1/0){return(0,re.T)(Te)?Le((Ne,Ve)=>(0,p.T)((ke,We)=>Te(Ne,ke,Ve,We))((0,c.Tg)(He(Ne,Ve))),de):("number"==typeof Te&&(de=Te),(0,J.N)((Ne,Ve)=>function Se(He,Te,de,Ne,Ve,ke,We,ut){const qe=[];let Ye=0,At=0,rt=!1;const It=()=>{rt&&!qe.length&&!Ye&&Te.complete()},Ee=le=>Ye<Ne?Oe(le):qe.push(le),Oe=le=>{ke&&Te.next(le),Ye++;let it=!1;(0,c.Tg)(de(le,At++)).subscribe((0,he._)(Te,at=>{null==Ve||Ve(at),ke?Ee(at):Te.next(at)},()=>{it=!0},void 0,()=>{if(it)try{for(Ye--;qe.length&&Ye<Ne;){const at=qe.shift();We?(0,ne.N)(Te,We,()=>Oe(at)):Oe(at)}It()}catch(at){Te.error(at)}}))};return He.subscribe((0,he._)(Te,Ee,()=>{rt=!0,It()})),()=>{null==ut||ut()}}(Ne,Ve,He,de)))}},941:(fn,dt,L)=>{"use strict";L.d(dt,{Q:()=>ne});var p=L(5225),c=L(9974),J=L(4360);function ne(he,Se=0){return(0,c.N)((re,Le)=>{re.subscribe((0,J._)(Le,He=>(0,p.N)(Le,he,()=>Le.next(He),Se),()=>(0,p.N)(Le,he,()=>Le.complete(),Se),He=>(0,p.N)(Le,he,()=>Le.error(He),Se)))})}},2816:(fn,dt,L)=>{"use strict";L.d(dt,{S:()=>ne});var p=L(9974),c=L(4360);function ne(he,Se){return(0,p.N)(function J(he,Se,re,Le,He){return(Te,de)=>{let Ne=re,Ve=Se,ke=0;Te.subscribe((0,c._)(de,We=>{const ut=ke++;Ve=Ne?he(Ve,We,ut):(Ne=!0,We),Le&&de.next(Ve)},He&&(()=>{Ne&&de.next(Ve),de.complete()})))}}(he,Se,arguments.length>=2,!0))}},7647:(fn,dt,L)=>{"use strict";L.d(dt,{u:()=>he});var p=L(8750),c=L(1413),J=L(7707),ne=L(9974);function he(re={}){const{connector:Le=(()=>new c.B),resetOnError:He=!0,resetOnComplete:Te=!0,resetOnRefCountZero:de=!0}=re;return Ne=>{let Ve,ke,We,ut=0,qe=!1,Ye=!1;const At=()=>{null==ke||ke.unsubscribe(),ke=void 0},rt=()=>{At(),Ve=We=void 0,qe=Ye=!1},It=()=>{const Ee=Ve;rt(),null==Ee||Ee.unsubscribe()};return(0,ne.N)((Ee,Oe)=>{ut++,!Ye&&!qe&&At();const le=We=null!=We?We:Le();Oe.add(()=>{ut--,0===ut&&!Ye&&!qe&&(ke=Se(It,de))}),le.subscribe(Oe),!Ve&&ut>0&&(Ve=new J.Ms({next:it=>le.next(it),error:it=>{Ye=!0,At(),ke=Se(rt,He,it),le.error(it)},complete:()=>{qe=!0,At(),ke=Se(rt,Te),le.complete()}}),(0,p.Tg)(Ee).subscribe(Ve))})(Ne)}}function Se(re,Le,...He){if(!0===Le)return void re();if(!1===Le)return;const Te=new J.Ms({next:()=>{Te.unsubscribe(),re()}});return(0,p.Tg)(Le(...He)).subscribe(Te)}},9172:(fn,dt,L)=>{"use strict";L.d(dt,{Z:()=>ne});var p=L(8793),c=L(3794),J=L(9974);function ne(...he){const Se=(0,c.lI)(he);return(0,J.N)((re,Le)=>{(Se?(0,p.x)(he,re,Se):(0,p.x)(he,re)).subscribe(Le)})}},6745:(fn,dt,L)=>{"use strict";L.d(dt,{_:()=>c});var p=L(9974);function c(J,ne=0){return(0,p.N)((he,Se)=>{Se.add(J.schedule(()=>he.subscribe(Se),ne))})}},5558:(fn,dt,L)=>{"use strict";L.d(dt,{n:()=>ne});var p=L(8750),c=L(9974),J=L(4360);function ne(he,Se){return(0,c.N)((re,Le)=>{let He=null,Te=0,de=!1;const Ne=()=>de&&!He&&Le.complete();re.subscribe((0,J._)(Le,Ve=>{null==He||He.unsubscribe();let ke=0;const We=Te++;(0,p.Tg)(he(Ve,We)).subscribe(He=(0,J._)(Le,ut=>Le.next(Se?Se(Ve,ut,We,ke++):ut),()=>{He=null,Ne()}))},()=>{de=!0,Ne()}))})}},6697:(fn,dt,L)=>{"use strict";L.d(dt,{s:()=>ne});var p=L(983),c=L(9974),J=L(4360);function ne(he){return he<=0?()=>p.w:(0,c.N)((Se,re)=>{let Le=0;Se.subscribe((0,J._)(re,He=>{++Le<=he&&(re.next(He),he<=Le&&re.complete())}))})}},8141:(fn,dt,L)=>{"use strict";L.d(dt,{M:()=>he});var p=L(8071),c=L(9974),J=L(4360),ne=L(3669);function he(Se,re,Le){const He=(0,p.T)(Se)||re||Le?{next:Se,error:re,complete:Le}:Se;return He?(0,c.N)((Te,de)=>{var Ne;null===(Ne=He.subscribe)||void 0===Ne||Ne.call(He);let Ve=!0;Te.subscribe((0,J._)(de,ke=>{var We;null===(We=He.next)||void 0===We||We.call(He,ke),de.next(ke)},()=>{var ke;Ve=!1,null===(ke=He.complete)||void 0===ke||ke.call(He),de.complete()},ke=>{var We;Ve=!1,null===(We=He.error)||void 0===We||We.call(He,ke),de.error(ke)},()=>{var ke,We;Ve&&(null===(ke=He.unsubscribe)||void 0===ke||ke.call(He)),null===(We=He.finalize)||void 0===We||We.call(He)}))}):ne.D}},3774:(fn,dt,L)=>{"use strict";L.d(dt,{v:()=>ne});var p=L(9350),c=L(9974),J=L(4360);function ne(Se=he){return(0,c.N)((re,Le)=>{let He=!1;re.subscribe((0,J._)(Le,Te=>{He=!0,Le.next(Te)},()=>He?Le.complete():Le.error(Se())))})}function he(){return new p.G}},6780:(fn,dt,L)=>{"use strict";L.d(dt,{R:()=>he});var p=L(8359);class c extends p.yU{constructor(re,Le){super()}schedule(re,Le=0){return this}}const J={setInterval(Se,re,...Le){const{delegate:He}=J;return null!=He&&He.setInterval?He.setInterval(Se,re,...Le):setInterval(Se,re,...Le)},clearInterval(Se){const{delegate:re}=J;return((null==re?void 0:re.clearInterval)||clearInterval)(Se)},delegate:void 0};var ne=L(7908);class he extends c{constructor(re,Le){super(re,Le),this.scheduler=re,this.work=Le,this.pending=!1}schedule(re,Le=0){var He;if(this.closed)return this;this.state=re;const Te=this.id,de=this.scheduler;return null!=Te&&(this.id=this.recycleAsyncId(de,Te,Le)),this.pending=!0,this.delay=Le,this.id=null!==(He=this.id)&&void 0!==He?He:this.requestAsyncId(de,this.id,Le),this}requestAsyncId(re,Le,He=0){return J.setInterval(re.flush.bind(re,this),He)}recycleAsyncId(re,Le,He=0){if(null!=He&&this.delay===He&&!1===this.pending)return Le;null!=Le&&J.clearInterval(Le)}execute(re,Le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const He=this._execute(re,Le);if(He)return He;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,Le){let Te,He=!1;try{this.work(re)}catch(de){He=!0,Te=de||new Error("Scheduled action threw falsy error")}if(He)return this.unsubscribe(),Te}unsubscribe(){if(!this.closed){const{id:re,scheduler:Le}=this,{actions:He}=Le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.o)(He,this),null!=re&&(this.id=this.recycleAsyncId(Le,re,null)),this.delay=null,super.unsubscribe()}}}},9687:(fn,dt,L)=>{"use strict";L.d(dt,{q:()=>J});var p=L(6129);class c{constructor(he,Se=c.now){this.schedulerActionCtor=he,this.now=Se}schedule(he,Se=0,re){return new this.schedulerActionCtor(this,he).schedule(re,Se)}}c.now=p.U.now;class J extends c{constructor(he,Se=c.now){super(he,Se),this.actions=[],this._active=!1}flush(he){const{actions:Se}=this;if(this._active)return void Se.push(he);let re;this._active=!0;do{if(re=he.execute(he.state,he.delay))break}while(he=Se.shift());if(this._active=!1,re){for(;he=Se.shift();)he.unsubscribe();throw re}}}},3236:(fn,dt,L)=>{"use strict";L.d(dt,{E:()=>J});var p=L(6780);const J=new(L(9687).q)(p.R)},6129:(fn,dt,L)=>{"use strict";L.d(dt,{U:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},9270:(fn,dt,L)=>{"use strict";L.d(dt,{f:()=>p});const p={setTimeout(c,J,...ne){const{delegate:he}=p;return null!=he&&he.setTimeout?he.setTimeout(c,J,...ne):setTimeout(c,J,...ne)},clearTimeout(c){const{delegate:J}=p;return((null==J?void 0:J.clearTimeout)||clearTimeout)(c)},delegate:void 0}},4761:(fn,dt,L)=>{"use strict";L.d(dt,{l:()=>c});const c=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(fn,dt,L)=>{"use strict";L.d(dt,{s:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(fn,dt,L)=>{"use strict";L.d(dt,{G:()=>c});const c=(0,L(1853).L)(J=>function(){J(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(fn,dt,L)=>{"use strict";L.d(dt,{R0:()=>Se,ms:()=>ne,lI:()=>he});var p=L(8071);function J(re){return re[re.length-1]}function ne(re){return(0,p.T)(J(re))?re.pop():void 0}function he(re){return function c(re){return re&&(0,p.T)(re.schedule)}(J(re))?re.pop():void 0}function Se(re,Le){return"number"==typeof J(re)?re.pop():Le}},3073:(fn,dt,L)=>{"use strict";L.d(dt,{D:()=>he});const{isArray:p}=Array,{getPrototypeOf:c,prototype:J,keys:ne}=Object;function he(re){if(1===re.length){const Le=re[0];if(p(Le))return{args:Le,keys:null};if(function Se(re){return re&&"object"==typeof re&&c(re)===J}(Le)){const He=ne(Le);return{args:He.map(Te=>Le[Te]),keys:He}}}return{args:re,keys:null}}},7908:(fn,dt,L)=>{"use strict";function p(c,J){if(c){const ne=c.indexOf(J);0<=ne&&c.splice(ne,1)}}L.d(dt,{o:()=>p})},1853:(fn,dt,L)=>{"use strict";function p(c){const ne=c(he=>{Error.call(he),he.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}L.d(dt,{L:()=>p})},8496:(fn,dt,L)=>{"use strict";function p(c,J){return c.reduce((ne,he,Se)=>(ne[he]=J[Se],ne),{})}L.d(dt,{e:()=>p})},9786:(fn,dt,L)=>{"use strict";L.d(dt,{Y:()=>J,l:()=>ne});var p=L(1026);let c=null;function J(he){if(p.$.useDeprecatedSynchronousErrorHandling){const Se=!c;if(Se&&(c={errorThrown:!1,error:null}),he(),Se){const{errorThrown:re,error:Le}=c;if(c=null,re)throw Le}}else he()}function ne(he){p.$.useDeprecatedSynchronousErrorHandling&&c&&(c.errorThrown=!0,c.error=he)}},5225:(fn,dt,L)=>{"use strict";function p(c,J,ne,he=0,Se=!1){const re=J.schedule(function(){ne(),Se?c.add(this.schedule(null,he)):this.unsubscribe()},he);if(c.add(re),!Se)return re}L.d(dt,{N:()=>p})},3669:(fn,dt,L)=>{"use strict";function p(c){return c}L.d(dt,{D:()=>p})},7441:(fn,dt,L)=>{"use strict";L.d(dt,{X:()=>p});const p=c=>c&&"number"==typeof c.length&&"function"!=typeof c},7953:(fn,dt,L)=>{"use strict";L.d(dt,{T:()=>c});var p=L(8071);function c(J){return Symbol.asyncIterator&&(0,p.T)(null==J?void 0:J[Symbol.asyncIterator])}},8071:(fn,dt,L)=>{"use strict";function p(c){return"function"==typeof c}L.d(dt,{T:()=>p})},5055:(fn,dt,L)=>{"use strict";L.d(dt,{l:()=>J});var p=L(3494),c=L(8071);function J(ne){return(0,c.T)(ne[p.s])}},5397:(fn,dt,L)=>{"use strict";L.d(dt,{x:()=>J});var p=L(4761),c=L(8071);function J(ne){return(0,c.T)(null==ne?void 0:ne[p.l])}},9858:(fn,dt,L)=>{"use strict";L.d(dt,{y:()=>c});var p=L(8071);function c(J){return(0,p.T)(null==J?void 0:J.then)}},5196:(fn,dt,L)=>{"use strict";L.d(dt,{C:()=>J,U:()=>ne});var p=L(1635),c=L(8071);function J(he){return(0,p.AQ)(this,arguments,function*(){const re=he.getReader();try{for(;;){const{value:Le,done:He}=yield(0,p.N3)(re.read());if(He)return yield(0,p.N3)(void 0);yield yield(0,p.N3)(Le)}}finally{re.releaseLock()}})}function ne(he){return(0,c.T)(null==he?void 0:he.getReader)}},9974:(fn,dt,L)=>{"use strict";L.d(dt,{N:()=>J,S:()=>c});var p=L(8071);function c(ne){return(0,p.T)(null==ne?void 0:ne.lift)}function J(ne){return he=>{if(c(he))return he.lift(function(Se){try{return ne(Se,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(fn,dt,L)=>{"use strict";L.d(dt,{I:()=>ne});var p=L(6354);const{isArray:c}=Array;function ne(he){return(0,p.T)(Se=>function J(he,Se){return c(Se)?he(...Se):he(Se)}(he,Se))}},5343:(fn,dt,L)=>{"use strict";function p(){}L.d(dt,{l:()=>p})},1203:(fn,dt,L)=>{"use strict";L.d(dt,{F:()=>c,m:()=>J});var p=L(3669);function c(...ne){return J(ne)}function J(ne){return 0===ne.length?p.D:1===ne.length?ne[0]:function(Se){return ne.reduce((re,Le)=>Le(re),Se)}}},5334:(fn,dt,L)=>{"use strict";L.d(dt,{m:()=>J});var p=L(1026),c=L(9270);function J(ne){c.f.setTimeout(()=>{const{onUnhandledError:he}=p.$;if(!he)throw ne;he(ne)})}},591:(fn,dt,L)=>{"use strict";function p(c){return new TypeError(`You provided ${null!==c&&"object"==typeof c?"an invalid object":`'${c}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(dt,{L:()=>p})},8996:(fn,dt,L)=>{var p={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function c(J){if(!L.o(p,J))return Promise.resolve().then(()=>{var Se=new Error("Cannot find module '"+J+"'");throw Se.code="MODULE_NOT_FOUND",Se});var ne=p[J],he=ne[0];return Promise.all(ne.slice(1).map(L.e)).then(()=>L(he))}c.keys=()=>Object.keys(p),c.id=8996,fn.exports=c},177:(fn,dt,L)=>{"use strict";L.d(dt,{AJ:()=>Bt,MD:()=>gt,N0:()=>wi,QT:()=>J,Sm:()=>ut,T3:()=>xr,VF:()=>he,Vy:()=>Tn,Xr:()=>Ui,ZD:()=>ne,_b:()=>Z,aZ:()=>Ye,bT:()=>Xn,fw:()=>qe,hb:()=>ke,hj:()=>He,qQ:()=>re});var p=L(4438);let c=null;function J(){return c}function ne(D){var F;null!==(F=c)&&void 0!==F||(c=D)}class he{}const re=new p.nKC("");let Le=(()=>{var D;class F{historyGo(M){throw new Error("")}}return(D=F).\u0275fac=function(M){return new(M||D)},D.\u0275prov=p.jDH({token:D,factory:()=>(0,p.WQX)(Te),providedIn:"platform"}),F})();const He=new p.nKC("");let Te=(()=>{var D;class F extends Le{constructor(){super(),this._doc=(0,p.WQX)(re),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return J().getBaseHref(this._doc)}onPopState(M){const fe=J().getGlobalEventTarget(this._doc,"window");return fe.addEventListener("popstate",M,!1),()=>fe.removeEventListener("popstate",M)}onHashChange(M){const fe=J().getGlobalEventTarget(this._doc,"window");return fe.addEventListener("hashchange",M,!1),()=>fe.removeEventListener("hashchange",M)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(M){this._location.pathname=M}pushState(M,fe,we){this._history.pushState(M,fe,we)}replaceState(M,fe,we){this._history.replaceState(M,fe,we)}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}}return(D=F).\u0275fac=function(M){return new(M||D)},D.\u0275prov=p.jDH({token:D,factory:()=>new D,providedIn:"platform"}),F})();function de(D,F){if(0==D.length)return F;if(0==F.length)return D;let be=0;return D.endsWith("/")&&be++,F.startsWith("/")&&be++,2==be?D+F.substring(1):1==be?D+F:D+"/"+F}function Ne(D){const F=D.match(/#|\?|$/),be=F&&F.index||D.length;return D.slice(0,be-("/"===D[be-1]?1:0))+D.slice(be)}function Ve(D){return D&&"?"!==D[0]?"?"+D:D}let ke=(()=>{var D;class F{historyGo(M){throw new Error("")}}return(D=F).\u0275fac=function(M){return new(M||D)},D.\u0275prov=p.jDH({token:D,factory:()=>(0,p.WQX)(ut),providedIn:"root"}),F})();const We=new p.nKC("");let ut=(()=>{var D;class F extends ke{constructor(M,fe){var we,tt,on;super(),this._platformLocation=M,this._removeListenerFns=[],this._baseHref=null!==(we=null!==(tt=null!=fe?fe:this._platformLocation.getBaseHrefFromDOM())&&void 0!==tt?tt:null===(on=(0,p.WQX)(re).location)||void 0===on?void 0:on.origin)&&void 0!==we?we:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return de(this._baseHref,M)}path(M=!1){const fe=this._platformLocation.pathname+Ve(this._platformLocation.search),we=this._platformLocation.hash;return we&&M?`${fe}${we}`:fe}pushState(M,fe,we,tt){const on=this.prepareExternalUrl(we+Ve(tt));this._platformLocation.pushState(M,fe,on)}replaceState(M,fe,we,tt){const on=this.prepareExternalUrl(we+Ve(tt));this._platformLocation.replaceState(M,fe,on)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){var fe,we;null===(fe=(we=this._platformLocation).historyGo)||void 0===fe||fe.call(we,M)}}return(D=F).\u0275fac=function(M){return new(M||D)(p.KVO(Le),p.KVO(We,8))},D.\u0275prov=p.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),F})(),qe=(()=>{var D;class F extends ke{constructor(M,fe){super(),this._platformLocation=M,this._baseHref="",this._removeListenerFns=[],null!=fe&&(this._baseHref=fe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){var fe;const we=null!==(fe=this._platformLocation.hash)&&void 0!==fe?fe:"#";return we.length>0?we.substring(1):we}prepareExternalUrl(M){const fe=de(this._baseHref,M);return fe.length>0?"#"+fe:fe}pushState(M,fe,we,tt){let on=this.prepareExternalUrl(we+Ve(tt));0==on.length&&(on=this._platformLocation.pathname),this._platformLocation.pushState(M,fe,on)}replaceState(M,fe,we,tt){let on=this.prepareExternalUrl(we+Ve(tt));0==on.length&&(on=this._platformLocation.pathname),this._platformLocation.replaceState(M,fe,on)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){var fe,we;null===(fe=(we=this._platformLocation).historyGo)||void 0===fe||fe.call(we,M)}}return(D=F).\u0275fac=function(M){return new(M||D)(p.KVO(Le),p.KVO(We,8))},D.\u0275prov=p.jDH({token:D,factory:D.\u0275fac}),F})(),Ye=(()=>{var D;class F{constructor(M){this._subject=new p.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=M;const fe=this._locationStrategy.getBaseHref();this._basePath=function Ee(D){if(new RegExp("^(https?:)?//").test(D)){const[,be]=D.split(/\/\/[^\/]+/);return be}return D}(Ne(It(fe))),this._locationStrategy.onPopState(we=>{this._subject.emit({url:this.path(!0),pop:!0,state:we.state,type:we.type})})}ngOnDestroy(){var M;null===(M=this._urlChangeSubscription)||void 0===M||M.unsubscribe(),this._urlChangeListeners=[]}path(M=!1){return this.normalize(this._locationStrategy.path(M))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(M,fe=""){return this.path()==this.normalize(M+Ve(fe))}normalize(M){return F.stripTrailingSlash(function rt(D,F){if(!D||!F.startsWith(D))return F;const be=F.substring(D.length);return""===be||["/",";","?","#"].includes(be[0])?be:F}(this._basePath,It(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._locationStrategy.prepareExternalUrl(M)}go(M,fe="",we=null){this._locationStrategy.pushState(we,"",M,fe),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+Ve(fe)),we)}replaceState(M,fe="",we=null){this._locationStrategy.replaceState(we,"",M,fe),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+Ve(fe)),we)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(M=0){var fe,we;null===(fe=(we=this._locationStrategy).historyGo)||void 0===fe||fe.call(we,M)}onUrlChange(M){var fe;return this._urlChangeListeners.push(M),null!==(fe=this._urlChangeSubscription)&&void 0!==fe||(this._urlChangeSubscription=this.subscribe(we=>{this._notifyUrlChangeListeners(we.url,we.state)})),()=>{const we=this._urlChangeListeners.indexOf(M);var tt;this._urlChangeListeners.splice(we,1),0===this._urlChangeListeners.length&&(null===(tt=this._urlChangeSubscription)||void 0===tt||tt.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(M="",fe){this._urlChangeListeners.forEach(we=>we(M,fe))}subscribe(M,fe,we){return this._subject.subscribe({next:M,error:fe,complete:we})}}return(D=F).normalizeQueryParams=Ve,D.joinWithSlash=de,D.stripTrailingSlash=Ne,D.\u0275fac=function(M){return new(M||D)(p.KVO(ke))},D.\u0275prov=p.jDH({token:D,factory:()=>function At(){return new Ye((0,p.KVO)(ke))}(),providedIn:"root"}),F})();function It(D){return D.replace(/\/index.html$/,"")}function Z(D,F){F=encodeURIComponent(F);for(const be of D.split(";")){const M=be.indexOf("="),[fe,we]=-1==M?[be,""]:[be.slice(0,M),be.slice(M+1)];if(fe.trim()===F)return decodeURIComponent(we)}return null}let Xn=(()=>{var D;class F{constructor(M,fe){this._viewContainer=M,this._context=new ii,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=fe}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){To("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){To("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,fe){return!0}}return(D=F).\u0275fac=function(M){return new(M||D)(p.rXU(p.c1b),p.rXU(p.C4Q))},D.\u0275dir=p.FsC({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),F})();class ii{constructor(){this.$implicit=null,this.ngIf=null}}function To(D,F){if(F&&!F.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,p.Tbb)(F)}'.`)}let xr=(()=>{var D;class F{constructor(M){this._viewContainerRef=M,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(M){if(this._shouldRecreateView(M)){var fe;const we=this._viewContainerRef;if(this._viewRef&&we.remove(we.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const tt=this._createContextForwardProxy();this._viewRef=we.createEmbeddedView(this.ngTemplateOutlet,tt,{injector:null!==(fe=this.ngTemplateOutletInjector)&&void 0!==fe?fe:void 0})}}_shouldRecreateView(M){return!!M.ngTemplateOutlet||!!M.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(M,fe,we)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,fe,we),get:(M,fe,we)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,fe,we)}})}}return(D=F).\u0275fac=function(M){return new(M||D)(p.rXU(p.c1b))},D.\u0275dir=p.FsC({type:D,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[p.OA$]}),F})(),gt=(()=>{var D;class F{}return(D=F).\u0275fac=function(M){return new(M||D)},D.\u0275mod=p.$C({type:D}),D.\u0275inj=p.G2t({}),F})();const Bt="browser",Xt="server";function Tn(D){return D===Xt}let Ui=(()=>{var D;class F{}return(D=F).\u0275prov=(0,p.jDH)({token:D,providedIn:"root",factory:()=>function pn(D){return D===Bt}((0,p.WQX)(p.Agw))?new Rr((0,p.WQX)(re),window):new Oi}),F})();class Rr{constructor(F,be){this.document=F,this.window=be,this.offset=()=>[0,0]}setOffset(F){this.offset=Array.isArray(F)?()=>F:F}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(F){this.window.scrollTo(F[0],F[1])}scrollToAnchor(F){const be=function oi(D,F){const be=D.getElementById(F)||D.getElementsByName(F)[0];if(be)return be;if("function"==typeof D.createTreeWalker&&D.body&&"function"==typeof D.body.attachShadow){const M=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let fe=M.currentNode;for(;fe;){const we=fe.shadowRoot;if(we){const tt=we.getElementById(F)||we.querySelector(`[name="${F}"]`);if(tt)return tt}fe=M.nextNode()}}return null}(this.document,F);be&&(this.scrollToElement(be),be.focus())}setHistoryScrollRestoration(F){this.window.history.scrollRestoration=F}scrollToElement(F){const be=F.getBoundingClientRect(),M=be.left+this.window.pageXOffset,fe=be.top+this.window.pageYOffset,we=this.offset();this.window.scrollTo(M-we[0],fe-we[1])}}class Oi{setOffset(F){}getScrollPosition(){return[0,0]}scrollToPosition(F){}scrollToAnchor(F){}setHistoryScrollRestoration(F){}}class wi{}},4438:(fn,dt,L)=>{"use strict";L.d(dt,{iLQ:()=>EC,sZ2:()=>td,hnV:()=>Eb,Hbi:()=>aM,o8S:()=>ff,BIS:()=>_g,gRc:()=>Ob,Ql9:()=>xP,Ocv:()=>BP,Z63:()=>cs,aKT:()=>_u,uvJ:()=>wo,zcH:()=>Ua,bkB:()=>_s,$GK:()=>ur,_qm:()=>Bf,nKC:()=>wt,zZn:()=>os,_q3:()=>RC,MKu:()=>PC,xe9:()=>JI,Co$:()=>Qh,Vns:()=>ol,SKi:()=>qo,Xx1:()=>pn,Agw:()=>ss,PLl:()=>yv,sFG:()=>W0,_9s:()=>P_,czy:()=>Ph,kdw:()=>qn,C4Q:()=>fp,NYb:()=>DP,giA:()=>yb,RxE:()=>hb,c1b:()=>Dm,gXe:()=>bs,mal:()=>N_,L39:()=>FM,a0P:()=>zM,Ol2:()=>bd,w6W:()=>q_,oH4:()=>Pb,SmG:()=>WP,Rfq:()=>Qr,WQX:()=>Ce,naY:()=>GP,QuC:()=>bo,fpN:()=>sM,HJs:()=>GM,N4e:()=>sr,O8t:()=>VM,H3F:()=>fb,H8p:()=>ku,KH2:()=>ev,TgB:()=>Ec,wOt:()=>pt,WHO:()=>vb,e01:()=>_b,H5H:()=>eC,Zy3:()=>Et,mq5:()=>ST,JZv:()=>Ln,LfX:()=>Ft,plB:()=>hc,jNT:()=>yC,zjR:()=>Ib,TL$:()=>fh,Tbb:()=>dr,Vt3:()=>Kt,Mj6:()=>Yo,GFd:()=>pI,OA$:()=>po,Jv_:()=>HD,aNF:()=>zD,R7$:()=>Qg,BMQ:()=>Ul,AVh:()=>kt,wni:()=>vD,VBU:()=>Wl,FsC:()=>hs,jDH:()=>nr,G2t:()=>Li,$C:()=>za,EJ8:()=>Us,rXU:()=>lc,nrm:()=>ZA,eu8:()=>JA,bVm:()=>zI,qex:()=>HI,k0s:()=>jI,j41:()=>$I,RV6:()=>DT,xGo:()=>Qu,KVO:()=>$,kS0:()=>fu,QTQ:()=>C0,bIt:()=>rC,lsd:()=>ID,XpG:()=>oD,SdG:()=>aD,NAR:()=>sD,Y8G:()=>k,mGM:()=>yD,Njj:()=>$c,eBV:()=>Af,n$t:()=>s0,DNE:()=>Po,EFF:()=>PD,JRh:()=>sC,GBs:()=>_D}),L(467);let J=null,he=1;const Se=Symbol("SIGNAL");function re(t){const n=J;return J=t,n}function ke(t){if((!le(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==he)){if(!t.producerMustRecompute(t)&&!rt(t))return t.dirty=!1,void(t.lastCleanEpoch=he);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=he}}function rt(t){it(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],o=t.producerLastReadVersion[n];if(o!==i.version||(ke(i),o!==i.version))return!0}return!1}function Oe(t,n){if(function at(t){var n,i;null!==(n=t.liveConsumerNode)&&void 0!==n||(t.liveConsumerNode=[]),null!==(i=t.liveConsumerIndexOfThis)&&void 0!==i||(t.liveConsumerIndexOfThis=[])}(t),it(t),1===t.liveConsumerNode.length)for(let o=0;o<t.producerNode.length;o++)Oe(t.producerNode[o],t.producerIndexOfThis[o]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const o=t.liveConsumerIndexOfThis[n],l=t.liveConsumerNode[n];it(l),l.producerIndexOfThis[o]=n}}function le(t){var n,i;return t.consumerIsAlwaysLive||(null!==(n=null==t||null===(i=t.liveConsumerNode)||void 0===i?void 0:i.length)&&void 0!==n?n:0)>0}function it(t){var n,i,o;null!==(n=t.producerNode)&&void 0!==n||(t.producerNode=[]),null!==(i=t.producerIndexOfThis)&&void 0!==i||(t.producerIndexOfThis=[]),null!==(o=t.producerLastReadVersion)&&void 0!==o||(t.producerLastReadVersion=[])}let ht=null;var Wn=L(1413),lr=L(8359),Jn=L(4412),Kn=L(6354);const Gn="https://g.co/ng/security#xss";class pt extends Error{constructor(n,i){super(Et(n,i)),this.code=n}}function Et(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}function En(t){return{toString:t}.toString()}const vn="__annotations__",er="__parameters__",gr="__prop__metadata__";function hr(t,n,i,o,l){return En(()=>{const d=Gr(n);function m(...I){if(this instanceof m)return d.call(this,...I),this;const T=new m(...I);return function(K){return l&&l(K,...I),(K.hasOwnProperty(vn)?K[vn]:Object.defineProperty(K,vn,{value:[]})[vn]).push(T),o&&o(K),K}}return i&&(m.prototype=Object.create(i.prototype)),m.prototype.ngMetadataName=t,m.annotationCls=m,m})}function Gr(t){return function(...i){if(t){const o=t(...i);for(const l in o)this[l]=o[l]}}}function Pn(t,n,i){return En(()=>{const o=Gr(n);function l(...d){if(this instanceof l)return o.apply(this,d),this;const m=new l(...d);return I.annotation=m,I;function I(T,V,K){const oe=T.hasOwnProperty(er)?T[er]:Object.defineProperty(T,er,{value:[]})[er];for(;oe.length<=K;)oe.push(null);return(oe[K]=oe[K]||[]).push(m),T}}return i&&(l.prototype=Object.create(i.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}const Ln=globalThis;function Bn(t){for(let n in t)if(t[n]===Bn)return n;throw Error("Could not find renamed property on target object.")}function mi(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function dr(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(dr).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function Jr(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Pi=Bn({__forward_ref__:Bn});function Qr(t){return t.__forward_ref__=Qr,t.toString=function(){return dr(this())},t}function ft(t){return et(t)?t():t}function et(t){return"function"==typeof t&&t.hasOwnProperty(Pi)&&t.__forward_ref__===Qr}function nr(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Li(t){return{providers:t.providers||[],imports:t.imports||[]}}function li(t){return Y(t,te)||Y(t,Re)}function Ft(t){return null!==li(t)}function Y(t,n){return t.hasOwnProperty(n)?t[n]:null}function Pe(t){return t&&(t.hasOwnProperty(Z)||t.hasOwnProperty(Tt))?t[Z]:null}const te=Bn({\u0275prov:Bn}),Z=Bn({\u0275inj:Bn}),Re=Bn({ngInjectableDef:Bn}),Tt=Bn({ngInjectorDef:Bn});class wt{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=nr({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Kr(t){return t&&!!t.\u0275providers}const Di=Bn({\u0275cmp:Bn}),io=Bn({\u0275dir:Bn}),co=Bn({\u0275pipe:Bn}),xo=Bn({\u0275mod:Bn}),No=Bn({\u0275fac:Bn}),yo=Bn({__NG_ELEMENT_ID__:Bn}),bi=Bn({__NG_ENV_ID__:Bn});function ir(t){return"string"==typeof t?t:null==t?"":String(t)}function As(t,n){throw new pt(-201,!1)}var ur=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ur||{});let Nr;function Oo(){return Nr}function or(t){const n=Nr;return Nr=t,n}function Cs(t,n,i){const o=li(t);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:i&ur.Optional?null:void 0!==n?n:void As()}const oo={},Qo="__NG_DI_FLAG__",xi="ngTempTokenPath",q=/\n/gm,x="__source";let ve;function yr(t){const n=ve;return ve=t,n}function Ni(t,n=ur.Default){if(void 0===ve)throw new pt(-203,!1);return null===ve?Cs(t,void 0,n):ve.get(t,n&ur.Optional?null:void 0,n)}function $(t,n=ur.Default){return(Oo()||Ni)(ft(t),n)}function Ce(t,n=ur.Default){return $(t,ze(n))}function ze(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function mt(t){const n=[];for(let i=0;i<t.length;i++){const o=ft(t[i]);if(Array.isArray(o)){if(0===o.length)throw new pt(900,!1);let l,d=ur.Default;for(let m=0;m<o.length;m++){const I=o[m],T=Bt(I);"number"==typeof T?-1===T?l=I.token:d|=T:l=I}n.push($(l,d))}else n.push($(o))}return n}function gt(t,n){return t[Qo]=n,t.prototype[Qo]=n,t}function Bt(t){return t[Qo]}const Zt=gt(Pn("Inject",t=>({token:t})),-1),pn=gt(Pn("Optional"),8),Tn=gt(Pn("Self"),2),qn=gt(Pn("SkipSelf"),4),kn=gt(Pn("Host"),1);function Lr(t,n){return t.hasOwnProperty(No)?t[No]:null}function oi(t,n){t.forEach(i=>Array.isArray(i)?oi(i,n):n(i))}function Oi(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function wi(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function jo(t,n){const i=[];for(let o=0;o<t;o++)i.push(n);return i}function Do(t,n,i){let o=Ho(t,n);return o>=0?t[1|o]=i:(o=~o,function Qs(t,n,i,o){let l=t.length;if(l==n)t.push(i,o);else if(1===l)t.push(o,t[0]),t[0]=i;else{for(l--,t.push(t[l-1],t[l]);l>n;)t[l]=t[l-2],l--;t[n]=i,t[n+1]=o}}(t,o,n,i)),o}function Ys(t,n){const i=Ho(t,n);if(i>=0)return t[1|i]}function Ho(t,n){return function eo(t,n,i){let o=0,l=t.length>>i;for(;l!==o;){const d=o+(l-o>>1),m=t[d<<i];if(n===m)return d<<i;m>n?l=d:o=d+1}return~(l<<i)}(t,n,1)}const fo={},Er=[],cs=new wt(""),Sa=new wt("",-1),Ra=new wt("");class ko{get(n,i=oo){if(i===oo){const o=new Error(`NullInjectorError: No provider for ${dr(n)}!`);throw o.name="NullInjectorError",o}return i}}var Fo=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Fo||{}),bs=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(bs||{}),Yo=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Yo||{});function Zs(t,n,i){let o=t.length;for(;;){const l=t.indexOf(n,i);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const d=n.length;if(l+d===o||t.charCodeAt(l+d)<=32)return l}i=l+1}}function Fs(t,n,i){let o=0;for(;o<i.length;){const l=i[o];if("number"==typeof l){if(0!==l)break;o++;const d=i[o++],m=i[o++],I=i[o++];t.setAttribute(n,m,I,d)}else{const d=l,m=i[++o];zo(d)?t.setProperty(n,d,m):t.setAttribute(n,d,m),o++}}return o}function Ha(t){return 3===t||4===t||6===t}function zo(t){return 64===t.charCodeAt(0)}function ds(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let o=0;o<n.length;o++){const l=n[o];"number"==typeof l?i=l:0===i||ua(t,i,l,null,-1===i||2===i?n[++o]:null)}}return t}function ua(t,n,i,o,l){let d=0,m=t.length;if(-1===n)m=-1;else for(;d<t.length;){const I=t[d++];if("number"==typeof I){if(I===n){m=-1;break}if(I>n){m=d-1;break}}}for(;d<t.length;){const I=t[d];if("number"==typeof I)break;if(I===i){if(null===o)return void(null!==l&&(t[d+1]=l));if(o===t[d+1])return void(t[d+2]=l)}d++,null!==o&&d++,null!==l&&d++}-1!==m&&(t.splice(m,0,n),d=m+1),t.splice(d++,0,i),null!==o&&t.splice(d++,0,o),null!==l&&t.splice(d++,0,l)}const Pa="ng-template";function Ls(t,n,i,o){let l=0;if(o){for(;l<n.length&&"string"==typeof n[l];l+=2)if("class"===n[l]&&-1!==Zs(n[l+1].toLowerCase(),i,0))return!0}else if(ll(t))return!1;if(l=n.indexOf(1,l),l>-1){let d;for(;++l<n.length&&"string"==typeof(d=n[l]);)if(d.toLowerCase()===i)return!0}return!1}function ll(t){return 4===t.type&&t.value!==Pa}function z(t,n,i){return n===(4!==t.type||i?t.value:Pa)}function O(t,n,i){let o=4;const l=t.attrs,d=null!==l?function Qn(t){for(let n=0;n<t.length;n++)if(Ha(t[n]))return n;return t.length}(l):0;let m=!1;for(let I=0;I<n.length;I++){const T=n[I];if("number"!=typeof T){if(!m)if(4&o){if(o=2|1&o,""!==T&&!z(t,T,i)||""===T&&1===n.length){if(ge(o))return!1;m=!0}}else if(8&o){if(null===l||!Ls(t,l,T,i)){if(ge(o))return!1;m=!0}}else{const V=n[++I],K=j(T,l,ll(t),i);if(-1===K){if(ge(o))return!1;m=!0;continue}if(""!==V){let oe;if(oe=K>d?"":l[K+1].toLowerCase(),2&o&&V!==oe){if(ge(o))return!1;m=!0}}}}else{if(!m&&!ge(o)&&!ge(T))return!1;if(m&&ge(T))continue;m=!1,o=T|1&o}}return ge(o)||m}function ge(t){return!(1&t)}function j(t,n,i,o){if(null===n)return-1;let l=0;if(o||!i){let d=!1;for(;l<n.length;){const m=n[l];if(m===t)return l;if(3===m||6===m)d=!0;else{if(1===m||2===m){let I=n[++l];for(;"string"==typeof I;)I=n[++l];continue}if(4===m)break;if(0===m){l+=4;continue}}l+=d?1:2}return-1}return function cr(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const o=t[i];if("number"==typeof o)return-1;if(o===n)return i;i++}return-1}(n,t)}function De(t,n,i=!1){for(let o=0;o<n.length;o++)if(O(t,n[o],i))return!0;return!1}function Bi(t,n){e:for(let i=0;i<n.length;i++){const o=n[i];if(t.length===o.length){for(let l=0;l<t.length;l++)if(t[l]!==o[l])continue e;return!0}}return!1}function Zo(t,n){return t?":not("+n.trim()+")":n}function Go(t){let n=t[0],i=1,o=2,l="",d=!1;for(;i<t.length;){let m=t[i];if("string"==typeof m)if(2&o){const I=t[++i];l+="["+m+(I.length>0?'="'+I+'"':"")+"]"}else 8&o?l+="."+m:4&o&&(l+=" "+m);else""!==l&&!ge(m)&&(n+=Zo(d,l),l=""),o=m,d=d||!ge(o);i++}return""!==l&&(n+=Zo(d,l)),n}function Wl(t){return En(()=>{var n;const i=dl(t),o={...i,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Fo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(n=t.signals)&&void 0!==n&&n,data:t.data||{},encapsulation:t.encapsulation||bs.Emulated,styles:t.styles||Er,_:null,schemas:t.schemas||null,tView:null,id:""};ws(o);const l=t.dependencies;return o.directiveDefs=ca(l,!1),o.pipeDefs=ca(l,!0),o.id=function xc(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const l of i)n=Math.imul(31,n)+l.charCodeAt(0)|0;return n+=2147483648,"c"+n}(o),o})}function Mc(t){return Dr(t)||ti(t)}function Jo(t){return null!==t}function za(t){return En(()=>({type:t.type,bootstrap:t.bootstrap||Er,declarations:t.declarations||Er,imports:t.imports||Er,exports:t.exports||Er,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function cl(t,n){if(null==t)return fo;const i={};for(const l in t)if(t.hasOwnProperty(l)){const d=t[l];let m,I,T=Yo.None;var o;Array.isArray(d)?(T=d[0],m=d[1],I=null!==(o=d[2])&&void 0!==o?o:m):(m=d,I=d),n?(i[m]=T!==Yo.None?[l,T]:l,n[m]=I):i[m]=l}return i}function hs(t){return En(()=>{const n=dl(t);return ws(n),n})}function Us(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Dr(t){return t[Di]||null}function ti(t){return t[io]||null}function $i(t){return t[co]||null}function bo(t){const n=Dr(t)||ti(t)||$i(t);return null!==n&&n.standalone}function Si(t,n){const i=t[xo]||null;if(!i&&!0===n)throw new Error(`Type ${dr(t)} does not have '\u0275mod' property.`);return i}function dl(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||fo,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Er,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:cl(t.inputs,n),outputs:cl(t.outputs),debugInfo:null}}function ws(t){var n;null===(n=t.features)||void 0===n||n.forEach(i=>i(t))}function ca(t,n){if(!t)return null;const i=n?$i:Mc;return()=>("function"==typeof t?t():t).map(o=>i(o)).filter(Jo)}function Kl(...t){return{\u0275providers:ki(0,t),\u0275fromNgModule:!0}}function ki(t,...n){const i=[],o=new Set;let l;const d=m=>{i.push(m)};return oi(n,m=>{const I=m;es(I,d,[],o)&&(l||(l=[]),l.push(I))}),void 0!==l&&fs(l,d),i}function fs(t,n){for(let i=0;i<t.length;i++){const{ngModule:o,providers:l}=t[i];pl(l,d=>{n(d,o)})}}function es(t,n,i,o){if(!(t=ft(t)))return!1;let l=null,d=Pe(t);const m=!d&&Dr(t);if(d||m){if(m&&!m.standalone)return!1;l=t}else{const T=t.ngModule;if(d=Pe(T),!d)return!1;l=T}const I=o.has(l);if(m){if(I)return!1;if(o.add(l),m.dependencies){const T="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const V of T)es(V,n,i,o)}}else{if(!d)return!1;{if(null!=d.imports&&!I){let V;o.add(l);try{oi(d.imports,K=>{es(K,n,i,o)&&(V||(V=[]),V.push(K))})}finally{}void 0!==V&&fs(V,n)}if(!I){const V=Lr(l)||(()=>new l);n({provide:l,useFactory:V,deps:Er},l),n({provide:Ra,useValue:l,multi:!0},l),n({provide:cs,useValue:()=>$(l),multi:!0},l)}const T=d.providers;if(null!=T&&!I){const V=t;pl(T,K=>{n(K,V)})}}}return l!==t&&void 0!==t.providers}function pl(t,n){for(let i of t)Kr(i)&&(i=i.\u0275providers),Array.isArray(i)?pl(i,n):n(i)}const sn=Bn({provide:String,useValue:Bn});function Ri(t){return null!==t&&"object"==typeof t&&sn in t}function Dn(t){return"function"==typeof t}const ku=new wt(""),_n={},Ut={};let Jt;function ji(){return void 0===Jt&&(Jt=new ko),Jt}class wo{}class Ga extends wo{get destroyed(){return this._destroyed}constructor(n,i,o,l){super(),this.parent=i,this.source=o,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Xl(n,m=>this.processProvider(m)),this.records.set(Sa,Js(void 0,this)),l.has("environment")&&this.records.set(wo,Js(void 0,this));const d=this.records.get(ku);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Ra,Er,ur.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=re(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of i)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),re(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=yr(this),o=or(void 0);try{return n()}finally{yr(i),or(o)}}get(n,i=oo,o=ur.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(bi))return n[bi](this);o=ze(o);const d=yr(this),m=or(void 0);try{if(!(o&ur.SkipSelf)){let T=this.records.get(n);if(void 0===T){const V=function Lu(t){return"function"==typeof t||"object"==typeof t&&t instanceof wt}(n)&&li(n);T=V&&this.injectableDefInScope(V)?Js(gl(n),_n):null,this.records.set(n,T)}if(null!=T)return this.hydrate(n,T)}return(o&ur.Self?ji():this.parent).get(n,i=o&ur.Optional&&i===oo?null:i)}catch(I){if("NullInjectorError"===I.name){if((I[xi]=I[xi]||[]).unshift(dr(n)),d)throw I;return function Xt(t,n,i,o){const l=t[xi];throw n[x]&&l.unshift(n[x]),t.message=function qt(t,n,i,o=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let l=dr(n);if(Array.isArray(n))l=n.map(dr).join(" -> ");else if("object"==typeof n){let d=[];for(let m in n)if(n.hasOwnProperty(m)){let I=n[m];d.push(m+":"+("string"==typeof I?JSON.stringify(I):dr(I)))}l=`{${d.join(", ")}}`}return`${i}${o?"("+o+")":""}[${l}]: ${t.replace(q,"\n  ")}`}("\n"+t.message,l,i,o),t.ngTokenPath=l,t[xi]=null,t}(I,n,"R3InjectorError",this.source)}throw I}finally{or(m),yr(d)}}resolveInjectorInitializers(){const n=re(null),i=yr(this),o=or(void 0);try{const d=this.get(cs,Er,ur.Self);for(const m of d)m()}finally{yr(i),or(o),re(n)}}toString(){const n=[],i=this.records;for(const o of i.keys())n.push(dr(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pt(205,!1)}processProvider(n){let i=Dn(n=ft(n))?n:ft(n&&n.provide);const o=function ml(t){return Ri(t)?Js(void 0,t.useValue):Js(Fu(t),_n)}(n);if(!Dn(n)&&!0===n.multi){let l=this.records.get(i);l||(l=Js(void 0,_n,!0),l.factory=()=>mt(l.multi),this.records.set(i,l)),i=n,l.multi.push(n)}this.records.set(i,o)}hydrate(n,i){const o=re(null);try{return i.value===_n&&(i.value=Ut,i.value=i.factory()),"object"==typeof i.value&&i.value&&function xa(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{re(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;const i=ft(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function gl(t){const n=li(t),i=null!==n?n.factory:Lr(t);if(null!==i)return i;if(t instanceof wt)throw new pt(204,!1);if(t instanceof Function)return function $d(t){if(t.length>0)throw new pt(204,!1);const i=function Q(t){return t&&(t[te]||t[Re])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new pt(204,!1)}function Fu(t,n,i){let o;if(Dn(t)){const l=ft(t);return Lr(l)||gl(l)}if(Ri(t))o=()=>ft(t.useValue);else if(function ql(t){return!(!t||!t.useFactory)}(t))o=()=>t.useFactory(...mt(t.deps||[]));else if(function Lo(t){return!(!t||!t.useExisting)}(t))o=()=>$(ft(t.useExisting));else{const l=ft(t&&(t.useClass||t.provide));if(!function Wa(t){return!!t.deps}(t))return Lr(l)||gl(l);o=()=>new l(...mt(t.deps))}return o}function Js(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function Xl(t,n){for(const i of t)Array.isArray(i)?Xl(i,n):i&&Kr(i)?Xl(i.\u0275providers,n):n(i)}function sr(t,n){t instanceof Ga&&t.assertNotDestroyed();const o=yr(t),l=or(void 0);try{return n()}finally{yr(o),or(l)}}function Bs(){return void 0!==Oo()||null!=function ot(){return ve}()}function M(t){const n=Ln.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const fe={\u0275\u0275defineInjectable:nr,\u0275\u0275defineInjector:Li,\u0275\u0275inject:$,\u0275\u0275invalidFactoryDep:function ue(t){throw new pt(202,!1)},resolveForwardRef:ft},we=Function;function tt(t){return"function"==typeof t}const on=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Ar=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,br=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,jr=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Yr{constructor(n){this._reflect=n||Ln.Reflect}factory(n){return(...i)=>new n(...i)}_zipTypesAndAnnotations(n,i){let o;o=jo(typeof n>"u"?i.length:n.length);for(let l=0;l<o.length;l++)o[l]=typeof n>"u"?[]:n[l]&&n[l]!=Object?[n[l]]:[],i&&null!=i[l]&&(o[l]=o[l].concat(i[l]));return o}_ownParameters(n,i){if(function pr(t){return on.test(t)||jr.test(t)||Ar.test(t)&&!br.test(t)}(n.toString()))return null;if(n.parameters&&n.parameters!==i.parameters)return n.parameters;const l=n.ctorParameters;if(l&&l!==i.ctorParameters){const I="function"==typeof l?l():l,T=I.map(K=>K&&K.type),V=I.map(K=>K&&Vr(K.decorators));return this._zipTypesAndAnnotations(T,V)}const d=n.hasOwnProperty(er)&&n[er],m=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",n);return m||d?this._zipTypesAndAnnotations(m,d):jo(n.length)}parameters(n){if(!tt(n))return[];const i=Xi(n);let o=this._ownParameters(n,i);return!o&&i!==Object&&(o=this.parameters(i)),o||[]}_ownAnnotations(n,i){if(n.annotations&&n.annotations!==i.annotations){let o=n.annotations;return"function"==typeof o&&o.annotations&&(o=o.annotations),o}return n.decorators&&n.decorators!==i.decorators?Vr(n.decorators):n.hasOwnProperty(vn)?n[vn]:null}annotations(n){if(!tt(n))return[];const i=Xi(n),o=this._ownAnnotations(n,i)||[];return(i!==Object?this.annotations(i):[]).concat(o)}_ownPropMetadata(n,i){if(n.propMetadata&&n.propMetadata!==i.propMetadata){let o=n.propMetadata;return"function"==typeof o&&o.propMetadata&&(o=o.propMetadata),o}if(n.propDecorators&&n.propDecorators!==i.propDecorators){const o=n.propDecorators,l={};return Object.keys(o).forEach(d=>{l[d]=Vr(o[d])}),l}return n.hasOwnProperty(gr)?n[gr]:null}propMetadata(n){if(!tt(n))return{};const i=Xi(n),o={};if(i!==Object){const d=this.propMetadata(i);Object.keys(d).forEach(m=>{o[m]=d[m]})}const l=this._ownPropMetadata(n,i);return l&&Object.keys(l).forEach(d=>{const m=[];o.hasOwnProperty(d)&&m.push(...o[d]),m.push(...l[d]),o[d]=m}),o}ownPropMetadata(n){return tt(n)&&this._ownPropMetadata(n,Xi(n))||{}}hasLifecycleHook(n,i){return n instanceof we&&i in n.prototype}}function Vr(t){return t?t.map(n=>new(0,n.type.annotationCls)(...n.args?n.args:[])):[]}function Xi(t){const n=t.prototype?Object.getPrototypeOf(t.prototype):null;return(n?n.constructor:null)||Object}const ni=0,nn=1,Rn=2,ui=3,to=4,Mr=5,Hi=6,Pt=7,ci=8,hi=9,ea=10,Ir=11,$s=12,Ss=13,Ka=14,di=15,Io=16,da=17,ha=18,Vu=19,ps=20,Rs=21,gs=22,fa=23,Un=25,Nc=1,zi=7,Ii=9,so=10;var Uu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Uu||{});function Vo(t){return Array.isArray(t)&&"object"==typeof t[Nc]}function Eo(t){return Array.isArray(t)&&!0===t[Nc]}function jd(t){return!!(4&t.flags)}function Oa(t){return t.componentOffset>-1}function Zl(t){return!(1&~t.flags)}function js(t){return!!t.template}function vl(t){return!!(512&t[Rn])}class fi{constructor(n,i,o){this.previousValue=n,this.currentValue=i,this.firstChange=o}isFirstChange(){return this.firstChange}}function Tr(t,n,i,o){null!==n?n.applyValueToInputSignal(n,o):t[i]=o}function po(){return ka}function ka(t){return t.type.prototype.ngOnChanges&&(t.setInput=eu),Gi}function Gi(){const t=Ei(this),n=null==t?void 0:t.current;if(n){const i=t.previous;if(i===fo)t.previous=n;else for(let o in n)i[o]=n[o];t.current=null,this.ngOnChanges(n)}}function eu(t,n,i,o,l){const d=this.declaredInputs[o],m=Ei(t)||function Hs(t,n){return t[ts]=n}(t,{previous:fo,current:null}),I=m.current||(m.current={}),T=m.previous,V=T[d];I[d]=new fi(V&&V.currentValue,i,T===fo),Tr(t,n,l,i)}po.ngInherit=!0;const ts="__ngSimpleChanges__";function Ei(t){return t[ts]||null}const Ps=function(t,n,i){};let pa=!1;function Xr(t){for(;Array.isArray(t);)t=t[ni];return t}function ns(t,n){return Xr(n[t])}function ho(t,n){return Xr(n[t.index])}function nu(t,n){return t.data[n]}function So(t,n){const i=n[t];return Vo(i)?i:i[ni]}function Il(t){return!(128&~t[Rn])}function ga(t,n){return null==n?null:t[n]}function ru(t){t[da]=0}function kc(t){1024&t[Rn]||(t[Rn]|=1024,Il(t)&&El(t))}function _f(t){var n;return!!(9216&t[Rn]||null!==(n=t[fa])&&void 0!==n&&n.dirty)}function Lc(t){var n;if(null===(n=t[ea].changeDetectionScheduler)||void 0===n||n.notify(1),_f(t))El(t);else if(64&t[Rn])if(function tu(){return pa}())t[Rn]|=1024,El(t);else{var i;null===(i=t[ea].changeDetectionScheduler)||void 0===i||i.notify()}}function El(t){var n;null===(n=t[ea].changeDetectionScheduler)||void 0===n||n.notify();let i=Al(t);for(;null!==i&&!(8192&i[Rn])&&(i[Rn]|=8192,Il(i));)i=Al(i)}function Vc(t,n){if(!(256&~t[Rn]))throw new pt(911,!1);null===t[Rs]&&(t[Rs]=[]),t[Rs].push(n)}function Al(t){const n=t[ui];return Eo(n)?n[ui]:n}const Fn={lFrame:zc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Kd(){return Fn.bindingsEnabled}function Or(){return null!==Fn.skipHydrationRootTNode}function Wt(){return Fn.lFrame.lView}function qr(){return Fn.lFrame.tView}function Af(t){return Fn.lFrame.contextLView=t,t[ci]}function $c(t){return Fn.lFrame.contextLView=null,t}function Ci(){let t=qd();for(;null!==t&&64===t.type;)t=t.parent;return t}function qd(){return Fn.lFrame.currentTNode}function zs(t,n){const i=Fn.lFrame;i.currentTNode=t,i.isParent=n}function Xd(){return Fn.lFrame.isParent}function zu(){Fn.lFrame.isParent=!1}function rs(){return Fn.lFrame.bindingIndex++}function va(t,n){const i=Fn.lFrame;i.bindingIndex=i.bindingRootIndex=t,Tl(n)}function Tl(t){Fn.lFrame.currentDirectiveIndex=t}function Hc(){return Fn.lFrame.currentQueryIndex}function ra(t){Fn.lFrame.currentQueryIndex=t}function is(t){const n=t[nn];return 2===n.type?n.declTNode:1===n.type?t[Mr]:null}function Df(t,n,i){if(i&ur.SkipSelf){let l=n,d=t;for(;!(l=l.parent,null!==l||i&ur.Host||(l=is(d),null===l||(d=d[Ka],10&l.type))););if(null===l)return!1;n=l,t=d}const o=Fn.lFrame=Yd();return o.currentTNode=n,o.lView=t,!0}function Qd(t){const n=Yd(),i=t[nn];Fn.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function Yd(){const t=Fn.lFrame,n=null===t?null:t.child;return null===n?zc(t):n}function zc(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Gu(){const t=Fn.lFrame;return Fn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const bf=Gu;function Dl(){const t=Gu();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Wo(){return Fn.lFrame.selectedIndex}function bl(t){Fn.lFrame.selectedIndex=t}function Wi(){const t=Fn.lFrame;return nu(t.tView,t.selectedIndex)}let wf=!0;function Ms(){return wf}function _a(t){wf=t}function Ku(t,n){for(let V=n.directiveStart,K=n.directiveEnd;V<K;V++){const Me=t.data[V].type.prototype,{ngAfterContentInit:nt,ngAfterContentChecked:Mt,ngAfterViewInit:zt,ngAfterViewChecked:an,ngOnDestroy:gn}=Me;var i,o,l,d,m,I,T;nt&&(null!==(i=t.contentHooks)&&void 0!==i?i:t.contentHooks=[]).push(-V,nt),Mt&&((null!==(o=t.contentHooks)&&void 0!==o?o:t.contentHooks=[]).push(V,Mt),(null!==(l=t.contentCheckHooks)&&void 0!==l?l:t.contentCheckHooks=[]).push(V,Mt)),zt&&(null!==(d=t.viewHooks)&&void 0!==d?d:t.viewHooks=[]).push(-V,zt),an&&((null!==(m=t.viewHooks)&&void 0!==m?m:t.viewHooks=[]).push(V,an),(null!==(I=t.viewCheckHooks)&&void 0!==I?I:t.viewCheckHooks=[]).push(V,an)),null!=gn&&(null!==(T=t.destroyHooks)&&void 0!==T?T:t.destroyHooks=[]).push(V,gn)}}function Zd(t,n,i){Gc(t,n,3,i)}function wr(t,n,i,o){(3&t[Rn])===i&&Gc(t,n,i,o)}function Sf(t,n){let i=t[Rn];(3&i)===n&&(i&=16383,i+=1,t[Rn]=i)}function Gc(t,n,i,o){const d=null!=o?o:-1,m=n.length-1;let I=0;for(let T=void 0!==o?65535&t[da]:0;T<m;T++)if("number"==typeof n[T+1]){if(I=n[T],null!=o&&I>=o)break}else n[T]<0&&(t[da]+=65536),(I<d||-1==d)&&(eh(t,i,n,T),t[da]=(4294901760&t[da])+T+2),T++}function Jd(t,n){Ps(4,t,n);const i=re(null);try{n.call(t)}finally{re(i),Ps(5,t,n)}}function eh(t,n,i,o){const l=i[o]<0,d=i[o+1],I=t[l?-i[o]:i[o]];l?t[Rn]>>14<t[da]>>16&&(3&t[Rn])===n&&(t[Rn]+=16384,Jd(I,d)):Jd(I,d)}const au=-1;class lu{constructor(n,i,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=o}}function nh(t){return t!==au}function Fa(t){return 32767&t}function cu(t,n){let i=function tg(t){return t>>16}(t),o=n;for(;i>0;)o=o[Ka],i--;return o}let du=!0;function Pf(t){const n=du;return du=t,n}const pi=255,Kc=5;let rh=0;const Gs={};function La(t,n){const i=xf(t,n);if(-1!==i)return i;const o=n[nn];o.firstCreatePass&&(t.injectorIndex=n.length,Mf(o.data,t),Mf(n,null),Mf(o.blueprint,null));const l=ya(t,n),d=t.injectorIndex;if(nh(l)){const m=Fa(l),I=cu(l,n),T=I[nn].data;for(let V=0;V<8;V++)n[d+V]=I[m+V]|T[m+V]}return n[d+8]=l,d}function Mf(t,n){t.push(0,0,0,0,0,0,0,0,n)}function xf(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function ya(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,o=null,l=n;for(;null!==l;){if(o=Ff(l),null===o)return au;if(i++,l=l[Ka],-1!==o.injectorIndex)return o.injectorIndex|i<<16}return au}function Ia(t,n,i){!function uv(t,n,i){let o;"string"==typeof i?o=i.charCodeAt(0)||0:i.hasOwnProperty(yo)&&(o=i[yo]),null==o&&(o=i[yo]=rh++);const l=o&pi;n.data[t+(l>>Kc)]|=1<<l}(t,n,i)}function qc(t,n,i){if(i&ur.Optional||void 0!==t)return t;As()}function Nf(t,n,i,o){if(i&ur.Optional&&void 0===o&&(o=null),!(i&(ur.Self|ur.Host))){const l=t[hi],d=or(void 0);try{return l?l.get(n,o,i&ur.Optional):Cs(n,o,i&ur.Optional)}finally{or(d)}}return qc(o,0,i)}function hu(t,n,i,o=ur.Default,l){if(null!==t){if(2048&n[Rn]&&!(o&ur.Self)){const m=function ig(t,n,i,o,l){let d=t,m=n;for(;null!==d&&null!==m&&2048&m[Rn]&&!(512&m[Rn]);){const I=ih(d,m,i,o|ur.Self,Gs);if(I!==Gs)return I;let T=d.parent;if(!T){const V=m[ps];if(V){const K=V.get(i,Gs,o);if(K!==Gs)return K}T=Ff(m),m=m[Ka]}d=T}return l}(t,n,i,o,Gs);if(m!==Gs)return m}const d=ih(t,n,i,o,Gs);if(d!==Gs)return d}return Nf(n,i,o,l)}function ih(t,n,i,o,l){const d=function oh(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(yo)?t[yo]:void 0;return"number"==typeof n?n>=0?n&pi:sh:n}(i);if("function"==typeof d){if(!Df(n,t,o))return o&ur.Host?qc(l,0,o):Nf(n,i,o,l);try{let m;if(m=d(o),null!=m||o&ur.Optional)return m;As()}finally{bf()}}else if("number"==typeof d){let m=null,I=xf(t,n),T=au,V=o&ur.Host?n[di][Mr]:null;for((-1===I||o&ur.SkipSelf)&&(T=-1===I?ya(t,n):n[I+8],T!==au&&go(o,!1)?(m=n[nn],I=Fa(T),n=cu(T,n)):I=-1);-1!==I;){const K=n[nn];if(rg(d,I,K.data)){const oe=Of(I,n,i,m,o,V);if(oe!==Gs)return oe}T=n[I+8],T!==au&&go(o,n[nn].data[I+8]===V)&&rg(d,I,n)?(m=K,I=Fa(T),n=cu(T,n)):I=-1}}return l}function Of(t,n,i,o,l,d){const m=n[nn],I=m.data[t+8],K=Xu(I,m,i,null==o?Oa(I)&&du:o!=m&&!!(3&I.type),l&ur.Host&&d===I);return null!==K?Va(n,m,K,I):Gs}function Xu(t,n,i,o,l){const d=t.providerIndexes,m=n.data,I=1048575&d,T=t.directiveStart,K=d>>20,Me=l?I+K:t.directiveEnd;for(let nt=o?I:I+K;nt<Me;nt++){const Mt=m[nt];if(nt<T&&i===Mt||nt>=T&&Mt.type===i)return nt}if(l){const nt=m[T];if(nt&&js(nt)&&nt.type===i)return T}return null}function Va(t,n,i,o){let l=t[i];const d=n.data;if(function Rf(t){return t instanceof lu}(l)){const m=l;m.resolving&&function la(t,n){throw n&&n.join(" > "),new pt(-200,t)}(function xr(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ir(t)}(d[i]));const I=Pf(m.canSeeViewProviders);m.resolving=!0;const V=m.injectImpl?or(m.injectImpl):null;Df(t,o,ur.Default);try{l=t[i]=m.factory(void 0,d,t,o),n.firstCreatePass&&i>=o.directiveStart&&function su(t,n,i){const{ngOnChanges:o,ngOnInit:l,ngDoCheck:d}=n.type.prototype;if(o){var m,I;const oe=ka(n);(null!==(m=i.preOrderHooks)&&void 0!==m?m:i.preOrderHooks=[]).push(t,oe),(null!==(I=i.preOrderCheckHooks)&&void 0!==I?I:i.preOrderCheckHooks=[]).push(t,oe)}var T,V,K;l&&(null!==(T=i.preOrderHooks)&&void 0!==T?T:i.preOrderHooks=[]).push(0-t,l),d&&((null!==(V=i.preOrderHooks)&&void 0!==V?V:i.preOrderHooks=[]).push(t,d),(null!==(K=i.preOrderCheckHooks)&&void 0!==K?K:i.preOrderCheckHooks=[]).push(t,d))}(i,d[i],n)}finally{null!==V&&or(V),Pf(I),m.resolving=!1,bf()}}return l}function rg(t,n,i){return!!(i[n+(t>>Kc)]&1<<t)}function go(t,n){return!(t&ur.Self||t&ur.Host&&n)}class Ao{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,o){return hu(this._tNode,this._lView,n,ze(o),i)}}function sh(){return new Ao(Ci(),Wt())}function Qu(t){return En(()=>{const n=t.prototype.constructor,i=n[No]||kf(n),o=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==o;){const d=l[No]||kf(l);if(d&&d!==i)return d;l=Object.getPrototypeOf(l)}return d=>new d})}function kf(t){return et(t)?()=>{const n=kf(ft(t));return n&&n()}:Lr(t)}function Ff(t){const n=t[nn],i=n.type;return 2===i?n.declTNode:1===i?t[Mr]:null}function fu(t){return function ng(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const o=i.length;let l=0;for(;l<o;){const d=i[l];if(Ha(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<o&&"string"==typeof i[l];)l++;else{if(d===n)return i[l+1];l+=2}}}return null}(Ci(),t)}const Xc=Pn("Attribute",t=>({attributeName:t,__NG_ELEMENT_ID__:()=>fu(t)}));let Yu=null;function gu(t){return mu(function pu(){return Yu=Yu||new Yr}().parameters(t))}function mu(t){return t.map(n=>function og(t){const n={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(t)&&t.length>0)for(let i=0;i<t.length;i++){const o=t[i];if(void 0===o)continue;const l=Object.getPrototypeOf(o);if(o instanceof pn||"Optional"===l.ngMetadataName)n.optional=!0;else if(o instanceof qn||"SkipSelf"===l.ngMetadataName)n.skipSelf=!0;else if(o instanceof Tn||"Self"===l.ngMetadataName)n.self=!0;else if(o instanceof kn||"Host"===l.ngMetadataName)n.host=!0;else if(o instanceof Zt)n.token=o.token;else if(o instanceof Xc){if(void 0===o.attributeName)throw new pt(204,!1);n.attribute=o.attributeName}else n.token=o}else n.token=void 0===t||Array.isArray(t)&&0===t.length?null:t;return n}(n))}const cv=Bn({provide:String,useValue:Bn});function Vf(t){return void 0!==t.useClass}function ag(t){return void 0!==t.useFactory}const Bf=hr("Injectable",void 0,void 0,void 0,(t,n)=>function Lf(t,n){let i=null,o=null;t.hasOwnProperty(te)||Object.defineProperty(t,te,{get:()=>(null===i&&(i=M().compileInjectable(fe,`ng:///${t.name}/\u0275prov.js`,function Uf(t,n){const i=n||{providedIn:null},o={name:t.name,type:t,typeArgumentCount:0,providedIn:i.providedIn};return(Vf(i)||ag(i))&&void 0!==i.deps&&(o.deps=mu(i.deps)),Vf(i)?o.useClass=i.useClass:function sg(t){return cv in t}(i)?o.useValue=i.useValue:ag(i)?o.useFactory=i.useFactory:function lg(t){return void 0!==t.useExisting}(i)&&(o.useExisting=i.useExisting),o}(t,n))),i)}),t.hasOwnProperty(No)||Object.defineProperty(t,No,{get:()=>{if(null===o){const l=M();o=l.compileFactory(fe,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,typeArgumentCount:0,deps:gu(t),target:l.FactoryTarget.Injectable})}return o},configurable:!0})}(t,n));function Qc(t,n=null,i=null,o){const l=vu(t,n,i,o);return l.resolveInjectorInitializers(),l}function vu(t,n=null,i=null,o,l=new Set){const d=[i||Er,Kl(t)];return o=o||("object"==typeof t?void 0:dr(t)),new Ga(d,n||ji(),o||null,l)}let os=(()=>{var t;class n{static create(o,l){if(Array.isArray(o))return Qc({name:""},l,o,"");{var d;const m=null!==(d=o.name)&&void 0!==d?d:"";return Qc({name:m},o.parent,o.providers,m)}}}return(t=n).THROW_IF_NOT_FOUND=oo,t.NULL=new ko,t.\u0275prov=nr({token:t,providedIn:"any",factory:()=>$(Sa)}),t.__NG_ELEMENT_ID__=-1,n})();function Ju(t){return t.ngOriginalError}class Ua{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&Ju(n);for(;i&&Ju(i);)i=Ju(i);return i||null}}const Sl=new wt("",{providedIn:"root",factory:()=>Ce(Ua).handleError.bind(void 0)});let Ko=(()=>{var t;class n{}return(t=n).__NG_ELEMENT_ID__=$f,t.__NG_ENV_ID__=i=>i,n})();class ug extends Ko{constructor(n){super(),this._lView=n}onDestroy(n){return Vc(this._lView,n),()=>function ao(t,n){if(null===t[Rs])return;const i=t[Rs].indexOf(n);-1!==i&&t[Rs].splice(i,1)}(this._lView,n)}}function $f(){return new ug(Wt())}function ec(){return mo(Ci(),Wt())}function mo(t,n){return new _u(ho(t,n))}let _u=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=ec,n})();function Yc(t){return t instanceof _u?t.nativeElement:t}function ia(t){return n=>{setTimeout(t,void 0,n)}}const _s=class lh extends Wn.B{constructor(n=!1){var i;super(),this.destroyRef=void 0,this.__isAsync=n,Bs()&&(this.destroyRef=null!==(i=Ce(Ko,{optional:!0}))&&void 0!==i?i:void 0)}emit(n){const i=re(null);try{super.next(n)}finally{re(i)}}subscribe(n,i,o){let l=n,d=i||(()=>null),m=o;if(n&&"object"==typeof n){var I,T,V;const oe=n;l=null===(I=oe.next)||void 0===I?void 0:I.bind(oe),d=null===(T=oe.error)||void 0===T?void 0:T.bind(oe),m=null===(V=oe.complete)||void 0===V?void 0:V.bind(oe)}this.__isAsync&&(d=ia(d),l&&(l=ia(l)),m&&(m=ia(m)));const K=super.subscribe({next:l,error:d,complete:m});return n instanceof lr.yU&&n.add(K),K}};function dg(){return this._results[Symbol.iterator]()}class Zc{get changes(){var n;return null!==(n=this._changes)&&void 0!==n?n:this._changes=new _s}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const i=Zc.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=dg)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){this.dirty=!1;const o=function Rr(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Ui(t,n,i){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){let l=t[o],d=n[o];if(i&&(l=i(l),d=i(d)),d!==l)return!1}return!0}(this._results,o,i))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){var n;this.dirty=!0,null===(n=this._onDirty)||void 0===n||n.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function tl(t){return!(128&~t.flags)}const y=new Map;let h=0;const xn="__ngContext__";function An(t,n){Vo(n)?(t[xn]=n[Vu],function A(t){y.set(t[Vu],t)}(n)):t[xn]=n}function dh(t){return hh(t[$s])}function fg(t){return hh(t[to])}function hh(t){for(;null!==t&&!Eo(t);)t=t[to];return t}let vg;function fh(t){vg=t}const td=new wt("",{providedIn:"root",factory:()=>$y}),$y="ng",yv=new wt(""),ss=new wt("",{providedIn:"platform",factory:()=>"unknown"}),_g=new wt("",{providedIn:"root",factory:()=>{var t;return(null===(t=function Ba(){if(void 0!==vg)return vg;if(typeof document<"u")return document;throw new pt(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let oc=()=>null;function Ag(t,n,i=!1){return oc(t,n,i)}const ep=new wt("",{providedIn:"root",factory:()=>!1});let Ih;function bv(t){var n;return(null===(n=function Tv(){if(void 0===Ih&&(Ih=null,Ln.trustedTypes))try{Ih=Ln.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ih}())||void 0===n?void 0:n.createScriptURL(t))||t}class Qy{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Gn})`}}function Eu(t){return t instanceof Qy?t.changingThisBreaksApplicationSecurity:t}function Ch(t,n){const i=function mE(t){return t instanceof Qy&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${Gn})`)}return i===n}const Sv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ad=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ad||{});function Au(t){const n=ld();return n?n.sanitize(ad.URL,t)||"":Ch(t,"URL")?Eu(t):function np(t){return(t=String(t)).match(Sv)?t:"unsafe:"+t}(ir(t))}function Lv(t){const n=ld();if(n)return bv(n.sanitize(ad.RESOURCE_URL,t)||"");if(Ch(t,"ResourceURL"))return bv(Eu(t));throw new pt(904,!1)}function s0(t,n,i){return function Uv(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Lv:Au}(n,i)(t)}function ld(){const t=Wt();return t&&t[ea].sanitizer}const Ng=/^>|^->|<!--|-->|--!>|<!-$/g,Bv=/(<|>)/g,l0="\u200b$1\u200b";function Aa(t){return t instanceof Function?t():t}var Ph=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ph||{});let Gv;function Vg(t,n){return Gv(t,n)}function hd(t,n,i,o,l){if(null!=o){let d,m=!1;Eo(o)?d=o:Vo(o)&&(m=!0,o=o[ni]);const I=Xr(o);0===t&&null!==i?null==l?Hg(n,i,I):pd(n,i,I,l||null,!0):1===t&&null!==i?pd(n,i,I,l||null,!0):2===t?function Nh(t,n,i){const o=zg(t,n);o&&function Jv(t,n,i,o){t.removeChild(n,i,o)}(t,o,n,i)}(n,I,m):3===t&&n.destroyNode(I),null!=d&&function FE(t,n,i,o,l){const d=i[zi];d!==Xr(i)&&hd(n,t,o,d,l);for(let I=so;I<i.length;I++){const T=i[I];Oh(T[nn],T,t,n,o,d)}}(n,t,d,i,l)}}function Bg(t,n){return t.createComment(function ud(t){return t.replace(Ng,n=>n.replace(Bv,l0))}(n))}function $g(t,n,i){return t.createElement(n,i)}function v0(t,n){var i;null===(i=n[ea].changeDetectionScheduler)||void 0===i||i.notify(1),Oh(t,n,n[Ir],2,null,null)}function Xv(t,n){const i=t[Ii],o=i.indexOf(n);i.splice(o,1)}function fd(t,n){if(t.length<=so)return;const i=so+n,o=t[i];if(o){const l=o[Io];null!==l&&l!==t&&Xv(l,o),n>0&&(t[i-1][to]=o[to]);const d=wi(t,so+n);!function ME(t,n){v0(t,n),n[ni]=null,n[Mr]=null}(o[nn],o);const m=d[ha];null!==m&&m.detachView(d[nn]),o[ui]=null,o[to]=null,o[Rn]&=-129}return o}function Mh(t,n){if(!(256&n[Rn])){const i=n[Ir];i.destroyNode&&Oh(t,n,i,3,null,null),function Kv(t){let n=t[$s];if(!n)return sp(t[nn],t);for(;n;){let i=null;if(Vo(n))i=n[$s];else{const o=n[so];o&&(i=o)}if(!i){for(;n&&!n[to]&&n!==t;)Vo(n)&&sp(n[nn],n),n=n[ui];null===n&&(n=t),Vo(n)&&sp(n[nn],n),i=n&&n[to]}n=i}}(n)}}function sp(t,n){if(256&n[Rn])return;const i=re(null);try{n[Rn]&=-129,n[Rn]|=256,n[fa]&&function It(t){if(it(t),le(t))for(let n=0;n<t.producerNode.length;n++)Oe(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(n[fa]),function Qv(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let o=0;o<i.length;o+=2){const l=n[i[o]];if(!(l instanceof lu)){const d=i[o+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const I=l[d[m]],T=d[m+1];Ps(4,I,T);try{T.call(I)}finally{Ps(5,I,T)}}else{Ps(4,l,d);try{d.call(l)}finally{Ps(5,l,d)}}}}}(t,n),function OE(t,n){const i=t.cleanup,o=n[Pt];if(null!==i)for(let d=0;d<i.length-1;d+=2)if("string"==typeof i[d]){const m=i[d+3];m>=0?o[m]():o[-m].unsubscribe(),d+=2}else i[d].call(o[i[d+1]]);null!==o&&(n[Pt]=null);const l=n[Rs];if(null!==l){n[Rs]=null;for(let d=0;d<l.length;d++)(0,l[d])()}}(t,n),1===n[nn].type&&n[Ir].destroy();const o=n[Io];if(null!==o&&Eo(n[ui])){o!==n[ui]&&Xv(o,n);const l=n[ha];null!==l&&l.detachView(t)}!function se(t){y.delete(t[Vu])}(n)}finally{re(i)}}function Yv(t,n,i){return function jg(t,n,i){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return i[ni];{const{componentOffset:l}=o;if(l>-1){const{encapsulation:d}=t.data[o.directiveStart+l];if(d===bs.None||d===bs.Emulated)return null}return ho(o,i)}}(t,n.parent,i)}function pd(t,n,i,o,l){t.insertBefore(n,i,o,l)}function Hg(t,n,i){t.appendChild(n,i)}function Zv(t,n,i,o,l){null!==o?pd(t,n,i,o,l):Hg(t,n,i)}function zg(t,n){return t.parentNode(n)}function _0(t,n,i){return y0(t,n,i)}let ap,y0=function Gg(t,n,i){return 40&t.type?ho(t,i):null};function xh(t,n,i,o){const l=Yv(t,o,n),d=n[Ir],I=_0(o.parent||n[Mr],o,n);if(null!=l)if(Array.isArray(i))for(let T=0;T<i.length;T++)Zv(d,l,i[T],I,!1);else Zv(d,l,i,I,!1);void 0!==ap&&ap(d,o,n,i,l)}function gd(t,n){if(null!==n){const i=n.type;if(3&i)return ho(n,t);if(4&i)return ac(-1,t[n.index]);if(8&i){const o=n.child;if(null!==o)return gd(t,o);{const l=t[n.index];return Eo(l)?ac(-1,l):Xr(l)}}if(32&i)return Vg(n,t)()||Xr(t[n.index]);{const o=Wg(t,n);return null!==o?Array.isArray(o)?o[0]:gd(Al(t[di]),o):gd(t,n.next)}}return null}function Wg(t,n){return null!==n?t[di][Mr].projection[n.projection]:null}function ac(t,n){const i=so+t+1;if(i<n.length){const o=n[i],l=o[nn].firstChild;if(null!==l)return gd(o,l)}return n[zi]}function t_(t,n,i,o,l,d,m){for(;null!=i;){const I=o[i.index],T=i.type;if(m&&0===n&&(I&&An(Xr(I),o),i.flags|=2),32&~i.flags)if(8&T)t_(t,n,i.child,o,l,d,!1),hd(n,t,l,I,d);else if(32&T){const V=Vg(i,o);let K;for(;K=V();)hd(n,t,l,K,d);hd(n,t,l,I,d)}else 16&T?qg(t,n,o,i,l,d):hd(n,t,l,I,d);i=m?i.projectionNext:i.next}}function Oh(t,n,i,o,l,d){t_(i,o,t.firstChild,n,l,d,!1)}function qg(t,n,i,o,l,d){const m=i[di],T=m[Mr].projection[o.projection];if(Array.isArray(T))for(let V=0;V<T.length;V++)hd(n,t,l,T[V],d);else{let V=T;const K=m[ui];tl(o)&&(V.flags|=128),t_(t,n,V,K,l,d,!0)}}function E0(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function Xg(t,n,i){const{mergedAttrs:o,classes:l,styles:d}=i;null!==o&&Fs(t,n,o),null!==l&&E0(t,n,l),null!==d&&function LE(t,n,i){t.setAttribute(n,"style",i)}(t,n,d)}const kr={};function Qg(t=1){A0(qr(),Wt(),Wo()+t,!1)}function A0(t,n,i,o){if(!o)if(3&~n[Rn]){const d=t.preOrderHooks;null!==d&&wr(n,d,0,i)}else{const d=t.preOrderCheckHooks;null!==d&&Zd(n,d,i)}bl(i)}function lc(t,n=ur.Default){const i=Wt();return null===i?$(t,n):hu(Ci(),i,ft(t),n)}function C0(){throw new Error("invalid")}function Yg(t,n,i,o,l,d){const m=re(null);try{let I=null;l&Yo.SignalBased&&(I=n[o][Se]),null!==I&&void 0!==I.transformFn&&(d=I.transformFn(d)),l&Yo.HasDecoratorInputTransform&&(d=t.inputTransforms[o].call(n,d)),null!==t.setInput?t.setInput(n,I,d,i,o):Tr(n,I,o,d)}finally{re(m)}}function kh(t,n,i,o,l,d,m,I,T,V,K){const oe=n.blueprint.slice();return oe[ni]=l,oe[Rn]=204|o,(null!==V||t&&2048&t[Rn])&&(oe[Rn]|=2048),ru(oe),oe[ui]=oe[Ka]=t,oe[ci]=i,oe[ea]=m||t&&t[ea],oe[Ir]=I||t&&t[Ir],oe[hi]=T||t&&t[hi]||null,oe[Mr]=d,oe[Vu]=function g(){return h++}(),oe[Hi]=K,oe[ps]=V,oe[di]=2==n.type?t[di]:oe,oe}function md(t,n,i,o,l){let d=t.data[n];if(null===d)d=function r_(t,n,i,o,l){const d=qd(),m=Xd(),T=t.data[n]=function UE(t,n,i,o,l,d){let m=n?n.injectorIndex:-1,I=0;return Or()&&(I|=128),{type:i,index:o,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,i,n,o,l);return null===t.firstChild&&(t.firstChild=T),null!==d&&(m?null==d.child&&null!==T.parent&&(d.child=T):null===d.next&&(d.next=T,T.prev=d)),T}(t,n,i,o,l),function Zp(){return Fn.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=i,d.value=o,d.attrs=l;const m=function Cl(){const t=Fn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return zs(d,!0),d}function lp(t,n,i,o){if(0===i)return-1;const l=n.length;for(let d=0;d<i;d++)n.push(o),t.blueprint.push(o),t.data.push(null);return l}function Zg(t,n,i,o,l){const d=Wo(),m=2&o;try{bl(-1),m&&n.length>Un&&A0(t,n,Un,!1),Ps(m?2:0,l),i(o,l)}finally{bl(d),Ps(m?3:1,l)}}function i_(t,n,i){if(jd(n)){const o=re(null);try{const d=n.directiveEnd;for(let m=n.directiveStart;m<d;m++){const I=t.data[m];I.contentQueries&&I.contentQueries(1,i[m],m)}}finally{re(o)}}}function up(t,n,i){Kd()&&(function S0(t,n,i,o){const l=i.directiveStart,d=i.directiveEnd;Oa(i)&&function zE(t,n,i){const o=ho(n,t),l=Jg(i);let m=16;i.signals?m=4096:i.onPush&&(m=64);const I=om(t,kh(t,l,null,m,o,n,null,t[ea].rendererFactory.createRenderer(o,i),null,null,null));t[n.index]=I}(n,i,t.data[l+i.componentOffset]),t.firstCreatePass||La(i,n),An(o,n);const m=i.initialInputs;for(let I=l;I<d;I++){const T=t.data[I],V=Va(n,t,I,i);An(V,n),null!==m&&P0(0,I-l,V,T,0,m),js(T)&&(So(i.index,n)[ci]=Va(n,t,I,i))}}(t,n,i,ho(i,n)),!(64&~i.flags)&&vd(t,n,i))}function Fh(t,n,i=ho){const o=n.localNames;if(null!==o){let l=n.index+1;for(let d=0;d<o.length;d+=2){const m=o[d+1],I=-1===m?i(n,t):t[m];t[l++]=I}}}function Jg(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=o_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function o_(t,n,i,o,l,d,m,I,T,V,K){const oe=Un+o,Me=oe+l,nt=function Lh(t,n){const i=[];for(let o=0;o<n;o++)i.push(o<t?null:kr);return i}(oe,Me),Mt="function"==typeof V?V():V;return nt[nn]={type:t,blueprint:nt,template:i,queries:null,viewQuery:I,declTNode:n,data:nt.slice().fill(null,oe),bindingStartIndex:oe,expandoStartIndex:Me,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:T,consts:Mt,incompleteFirstPass:!1,ssrId:K}}let a_=()=>null;function b0(t,n,i,o,l){for(let m in n){var d;if(!n.hasOwnProperty(m))continue;const I=n[m];if(void 0===I)continue;null!==(d=o)&&void 0!==d||(o={});let T,V=Yo.None;Array.isArray(I)?(T=I[0],V=I[1]):T=I;let K=m;if(null!==l){if(!l.hasOwnProperty(m))continue;K=l[m]}0===t?w0(o,i,K,T,V):w0(o,i,K,T)}return o}function w0(t,n,i,o,l){let d;t.hasOwnProperty(i)?(d=t[i]).push(n,o):d=t[i]=[n,o],void 0!==l&&d.push(l)}function cp(t,n,i,o){if(Kd()){const l=null===o?null:{"":-1},d=function d_(t,n){const i=t.directiveRegistry;let o=null,l=null;if(i)for(let m=0;m<i.length;m++){const I=i[m];if(De(n,I.selectors,!1))if(o||(o=[]),js(I))if(null!==I.findHostDirectiveDefs){const T=[];l=l||new Map,I.findHostDirectiveDefs(I,T,l),o.unshift(...T,I),im(t,n,T.length)}else o.unshift(I),im(t,n,0);else{var d;l=l||new Map,null===(d=I.findHostDirectiveDefs)||void 0===d||d.call(I,I,o,l),o.push(I)}}return null===o?null:[o,l]}(t,i);let m,I;null===d?m=I=null:[m,I]=d,null!==m&&nm(t,n,i,m,l,I),l&&function Uh(t,n,i){if(n){const o=t.localNames=[];for(let l=0;l<n.length;l+=2){const d=i[n[l+1]];if(null==d)throw new pt(-301,!1);o.push(n[l],d)}}}(i,o,l)}i.mergedAttrs=ds(i.mergedAttrs,i.attrs)}function nm(t,n,i,o,l,d){for(let oe=0;oe<o.length;oe++)Ia(La(i,n),t,o[oe].type);!function jE(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,o.length);for(let oe=0;oe<o.length;oe++){const Me=o[oe];Me.providersResolver&&Me.providersResolver(Me)}let m=!1,I=!1,T=lp(t,n,o.length,null);for(let oe=0;oe<o.length;oe++){const Me=o[oe];i.mergedAttrs=ds(i.mergedAttrs,Me.hostAttrs),HE(t,i,n,T,Me),h_(T,Me,l),null!==Me.contentQueries&&(i.flags|=4),(null!==Me.hostBindings||null!==Me.hostAttrs||0!==Me.hostVars)&&(i.flags|=64);const nt=Me.type.prototype;var V,K;!m&&(nt.ngOnChanges||nt.ngOnInit||nt.ngDoCheck)&&((null!==(V=t.preOrderHooks)&&void 0!==V?V:t.preOrderHooks=[]).push(i.index),m=!0),I||!nt.ngOnChanges&&!nt.ngDoCheck||((null!==(K=t.preOrderCheckHooks)&&void 0!==K?K:t.preOrderCheckHooks=[]).push(i.index),I=!0),T++}!function BE(t,n,i){const l=n.directiveEnd,d=t.data,m=n.attrs,I=[];let T=null,V=null;for(let K=n.directiveStart;K<l;K++){const oe=d[K],Me=i?i.get(oe):null,Mt=Me?Me.outputs:null;T=b0(0,oe.inputs,K,T,Me?Me.inputs:null),V=b0(1,oe.outputs,K,V,Mt);const zt=null===T||null===m||ll(n)?null:GE(T,K,m);I.push(zt)}null!==T&&(T.hasOwnProperty("class")&&(n.flags|=8),T.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=I,n.inputs=T,n.outputs=V}(t,i,d)}function vd(t,n,i){const o=i.directiveStart,l=i.directiveEnd,d=i.index,m=function Jp(){return Fn.lFrame.currentDirectiveIndex}();try{bl(d);for(let I=o;I<l;I++){const T=t.data[I],V=n[I];Tl(I),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&R0(T,V)}}finally{bl(-1),Tl(m)}}function R0(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function im(t,n,i){var o;n.componentOffset=i,(null!==(o=t.components)&&void 0!==o?o:t.components=[]).push(n.index)}function h_(t,n,i){if(i){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)i[n.exportAs[o]]=t;js(n)&&(i[""]=t)}}function HE(t,n,i,o,l){t.data[o]=l;const d=l.factory||(l.factory=Lr(l.type)),m=new lu(d,js(l),lc);t.blueprint[o]=m,i[o]=m,function rm(t,n,i,o,l){const d=l.hostBindings;if(d){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const I=~n.index;(function c_(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(m)!=I&&m.push(I),m.push(i,o,d)}}(t,n,o,lp(t,i,l.hostVars,kr),l)}function rl(t,n,i,o,l,d){const m=ho(t,n);!function f_(t,n,i,o,l,d,m){if(null==d)t.removeAttribute(n,l,i);else{const I=null==m?ir(d):m(d,o||"",l);t.setAttribute(n,l,I,i)}}(n[Ir],m,d,t.value,i,o,l)}function P0(t,n,i,o,l,d){const m=d[n];if(null!==m)for(let I=0;I<m.length;)Yg(o,i,m[I++],m[I++],m[I++],m[I++])}function GE(t,n,i){let o=null,l=0;for(;l<i.length;){const d=i[l];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===o&&(o=[]);const m=t[d];for(let I=0;I<m.length;I+=3)if(m[I]===n){o.push(d,m[I+1],m[I+2],i[l+1]);break}}l+=2}else l+=2;else l+=4}return o}function M0(t,n,i,o){return[t,!0,0,n,null,o,null,i,null,null]}function x0(t,n){const i=t.contentQueries;if(null!==i){const o=re(null);try{for(let l=0;l<i.length;l+=2){const m=i[l+1];if(-1!==m){const I=t.data[m];ra(i[l]),I.contentQueries(2,n[m],m)}}}finally{re(o)}}}function om(t,n){return t[$s]?t[Ss][to]=n:t[$s]=n,t[Ss]=n,n}function p_(t,n,i){ra(0);const o=re(null);try{n(t,i)}finally{re(o)}}function N0(t){return t[Pt]||(t[Pt]=[])}function g_(t){return t.cleanup||(t.cleanup=[])}function Bh(t,n){const i=t[hi],o=i?i.get(Ua,null):null;o&&o.handleError(n)}function sm(t,n,i,o,l){for(let d=0;d<i.length;){const m=i[d++],I=i[d++],T=i[d++];Yg(t.data[m],n[m],o,I,T,l)}}function O0(t,n){const i=So(n,t),o=i[nn];!function am(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(o,i);const l=i[ni];null!==l&&null===i[Hi]&&(i[Hi]=Ag(l,i[hi])),Hr(o,i,i[ci])}function Hr(t,n,i){Qd(n);try{var o;const l=t.viewQuery;null!==l&&p_(1,l,i);const d=t.template;null!==d&&Zg(t,n,d,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),null===(o=n[ha])||void 0===o||o.finishViewCreation(t),t.staticContentQueries&&x0(t,n),t.staticViewQueries&&p_(2,t.viewQuery,i);const m=t.components;null!==m&&function k0(t,n){for(let i=0;i<n.length;i++)O0(t,n[i])}(n,m)}catch(l){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),l}finally{n[Rn]&=-5,Dl()}}function _d(t,n){return!n||null===n.firstChild||tl(t)}function Ro(t,n,i,o=!0){const l=n[nn];if(function NE(t,n,i,o){const l=so+o,d=i.length;o>0&&(i[l-1][to]=n),o<d-so?(n[to]=i[l],Oi(i,so+o,n)):(i.push(n),n[to]=null),n[ui]=i;const m=n[Io];null!==m&&i!==m&&function qv(t,n){const i=t[Ii];n[di]!==n[ui][ui][di]&&(t[Rn]|=Uu.HasTransplantedViews),null===i?t[Ii]=[n]:i.push(n)}(m,n);const I=n[ha];null!==I&&I.insertView(t),Lc(n),n[Rn]|=128}(l,n,t,i),o){const m=ac(i,t),I=n[Ir],T=zg(I,t[zi]);null!==T&&function xE(t,n,i,o,l,d){o[ni]=l,o[Mr]=n,Oh(t,o,i,1,l,d)}(l,t[Mr],I,n,T,m)}const d=n[Hi];null!==d&&null!==d.firstChild&&(d.firstChild=null)}function oa(t,n,i,o,l=!1){for(;null!==i;){const d=n[i.index];null!==d&&o.push(Xr(d)),Eo(d)&&v_(d,o);const m=i.type;if(8&m)oa(t,n,i.child,o);else if(32&m){const I=Vg(i,n);let T;for(;T=I();)o.push(T)}else if(16&m){const I=Wg(n,i);if(Array.isArray(I))o.push(...I);else{const T=Al(n[di]);oa(T[nn],T,I,o,!0)}}i=l?i.projectionNext:i.next}return o}function v_(t,n){for(let i=so;i<t.length;i++){const o=t[i],l=o[nn].firstChild;null!==l&&oa(o[nn],o,l,n)}t[zi]!==t[ni]&&n.push(t[zi])}let F0=[];const WE={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{El(t.lView)},consumerOnSignalRead(){this.lView[fa]=this}},um=100;function cm(t,n=!0,i=0){const o=t[ea],l=o.rendererFactory;var m;null===(m=l.begin)||void 0===m||m.call(l);try{!function KE(t,n){dm(t,n);let i=0;for(;_f(t);){if(i===um)throw new pt(103,!1);i++,dm(t,1)}}(t,i)}catch(V){throw n&&Bh(t,V),V}finally{var I,T;null===(I=l.end)||void 0===I||I.call(l),null===(T=o.inlineEffectRunner)||void 0===T||T.flush()}}function WC(t,n,i,o){var l;const d=n[Rn];if(!(256&~d))return;null===(l=n[ea].inlineEffectRunner)||void 0===l||l.flush(),Qd(n);let I=null,T=null;(function KC(t){return 2!==t.type})(t)&&(T=function lm(t){var n;return null!==(n=t[fa])&&void 0!==n?n:function L0(t){var n;const i=null!==(n=F0.pop())&&void 0!==n?n:Object.create(WE);return i.lView=t,i}(t)}(n),I=function Ye(t){return t&&(t.nextProducerIndex=0),re(t)}(T));try{ru(n),function iu(t){return Fn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Zg(t,n,i,2,o);const V=!(3&~d);if(V){const Me=t.preOrderCheckHooks;null!==Me&&Zd(n,Me,null)}else{const Me=t.preOrderHooks;null!==Me&&wr(n,Me,0,null),Sf(n,0)}if(function V0(t){for(let n=dh(t);null!==n;n=fg(n)){if(!(n[Rn]&Uu.HasTransplantedViews))continue;const i=n[Ii];for(let o=0;o<i.length;o++){kc(i[o])}}}(n),lo(n,0),null!==t.contentQueries&&x0(t,n),V){const Me=t.contentCheckHooks;null!==Me&&Zd(n,Me)}else{const Me=t.contentHooks;null!==Me&&wr(n,Me,1),Sf(n,1)}!function T0(t,n){const i=t.hostBindingOpCodes;if(null!==i)try{for(let o=0;o<i.length;o++){const l=i[o];if(l<0)bl(~l);else{const d=l,m=i[++o],I=i[++o];va(m,d),I(2,n[d])}}}finally{bl(-1)}}(t,n);const K=t.components;null!==K&&B0(n,K,0);const oe=t.viewQuery;if(null!==oe&&p_(2,oe,o),V){const Me=t.viewCheckHooks;null!==Me&&Zd(n,Me)}else{const Me=t.viewHooks;null!==Me&&wr(n,Me,2),Sf(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[gs]){for(const Me of n[gs])Me();n[gs]=null}n[Rn]&=-73}catch(V){throw El(n),V}finally{null!==T&&(function At(t,n){if(re(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(le(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Oe(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(T,I),function __(t){t.lView[fa]!==t&&(t.lView=null,F0.push(t))}(T)),Dl()}}function lo(t,n){for(let i=dh(t);null!==i;i=fg(i))for(let o=so;o<i.length;o++)U0(i[o],n)}function qE(t,n,i){U0(So(n,t),i)}function U0(t,n){Il(t)&&dm(t,n)}function dm(t,n){const o=t[nn],l=t[Rn],d=t[fa];let m=!!(0===n&&16&l);if(m||(m=!!(64&l&&0===n)),m||(m=!!(1024&l)),m||(m=!(null==d||!d.dirty||!rt(d))),d&&(d.dirty=!1),t[Rn]&=-9217,m)WC(o,t,o.template,t[ci]);else if(8192&l){lo(t,1);const I=o.components;null!==I&&B0(t,I,1)}}function B0(t,n,i){for(let o=0;o<n.length;o++)qE(t,n[o],i)}function dp(t){var n;for(null===(n=t[ea].changeDetectionScheduler)||void 0===n||n.notify();t;){t[Rn]|=64;const i=Al(t);if(vl(t)&&!i)return t;t=i}return null}class hp{get rootNodes(){const n=this._lView,i=n[nn];return oa(i,n,i.firstChild,[])}constructor(n,i,o=!0){this._lView=n,this._cdRefInjectingView=i,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ci]}set context(n){this._lView[ci]=n}get destroyed(){return!(256&~this._lView[Rn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[ui];if(Eo(n)){const i=n[8],o=i?i.indexOf(this):-1;o>-1&&(fd(n,o),wi(i,o))}this._attachedToViewContainer=!1}Mh(this._lView[nn],this._lView)}onDestroy(n){Vc(this._lView,n)}markForCheck(){dp(this._cdRefInjectingView||this._lView)}detach(){this._lView[Rn]&=-129}reattach(){Lc(this._lView),this._lView[Rn]|=128}detectChanges(){this._lView[Rn]|=1024,cm(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,v0(this._lView[nn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new pt(902,!1);this._appRef=n,Lc(this._lView)}}let fp=(()=>{class n{}return n.__NG_ELEMENT_ID__=QE,n})();const qC=fp,XE=class extends qC{constructor(n,i,o){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=o}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,o){const l=function $h(t,n,i,o){const l=re(null);try{var d,m,I;const T=n.tView,oe=kh(t,T,i,4096&t[Rn]?4096:16,null,n,null,null,null!==(d=null==o?void 0:o.injector)&&void 0!==d?d:null,null!==(m=null==o?void 0:o.embeddedViewInjector)&&void 0!==m?m:null,null!==(I=null==o?void 0:o.dehydratedView)&&void 0!==I?I:null);oe[Io]=t[n.index];const nt=t[ha];return null!==nt&&(oe[ha]=nt.createEmbeddedView(T)),Hr(T,oe,i),oe}finally{re(l)}}(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:i,dehydratedView:o});return new hp(l)}};function QE(){return pp(Ci(),Wt())}function pp(t,n){return 4&t.type?new XE(n,t,mo(t,n)):null}class S_{}class rA{}class Ip{}class oA{resolveComponentFactory(n){throw function iA(t){const n=Error(`No component factory found for ${dr(t)}.`);return n.ngComponent=t,n}(n)}}let vm=(()=>{class n{}return n.NULL=new oA,n})();class P_{}let W0=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function K0(){const t=Wt(),i=So(Ci().index,t);return(Vo(i)?i:t)[Ir]}(),n})(),q0=(()=>{var t;class n{}return(t=n).\u0275prov=nr({token:t,providedIn:"root",factory:()=>null}),n})();const _m={},Ep=new Set;function Fl(t){var n,i;Ep.has(t)||(Ep.add(t),null===(n=performance)||void 0===n||null===(i=n.mark)||void 0===i||i.call(n,"mark_feature_usage",{detail:{feature:t}}))}function sA(...t){}class qo{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _s(!1),this.onMicrotaskEmpty=new _s(!1),this.onStable=new _s(!1),this.onError=new _s(!1),typeof Zone>"u")throw new pt(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!o&&i,l.shouldCoalesceRunChangeDetection=o,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function ZC(){const t="function"==typeof Ln.requestAnimationFrame;let n=Ln[t?"requestAnimationFrame":"setTimeout"],i=Ln[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Ap(t){const n=()=>{!function Su(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ln,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ll(t),t.isCheckStableRunning=!0,wu(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ll(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,o,l,d,m,I)=>{if(function dc(t){var n;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(n=t[0].data)||void 0===n?void 0:n.__ignore_ng_zone__)}(I))return i.invokeTask(l,d,m,I);try{return Q0(t),i.invokeTask(l,d,m,I)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&n(),M_(t)}},onInvoke:(i,o,l,d,m,I,T)=>{try{return Q0(t),i.invoke(l,d,m,I,T)}finally{t.shouldCoalesceRunChangeDetection&&n(),M_(t)}},onHasTask:(i,o,l,d)=>{i.hasTask(l,d),o===l&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,Ll(t),wu(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(i,o,l,d)=>(i.handleError(l,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qo.isInAngularZone())throw new pt(909,!1)}static assertNotInAngularZone(){if(qo.isInAngularZone())throw new pt(909,!1)}run(n,i,o){return this._inner.run(n,i,o)}runTask(n,i,o,l){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+l,n,eT,sA,sA);try{return d.runTask(m,i,o)}finally{d.cancelTask(m)}}runGuarded(n,i,o){return this._inner.runGuarded(n,i,o)}runOutsideAngular(n){return this._outer.run(n)}}const eT={};function wu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ll(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Q0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function M_(t){t._nesting--,wu(t)}class Y0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _s,this.onMicrotaskEmpty=new _s,this.onStable=new _s,this.onError=new _s}run(n,i,o){return n.apply(i,o)}runGuarded(n,i,o){return n.apply(i,o)}runOutsideAngular(n){return n()}runTask(n,i,o,l){return n.apply(i,o)}}var Dd=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Dd||{});const Z0={destroy(){}};function N_(t,n){var i,o,l;!n&&function Na(t){if(!Bs())throw new pt(-203,!1)}();const d=null!==(i=null==n?void 0:n.injector)&&void 0!==i?i:Ce(os);if(!function Ca(t){return"browser"===(null!=t?t:Ce(os)).get(ss)}(d))return Z0;Fl("NgAfterNextRender");const m=d.get(Cp),I=null!==(o=m.handler)&&void 0!==o?o:m.handler=new J0,T=null!==(l=null==n?void 0:n.phase)&&void 0!==l?l:Dd.MixedReadWrite,V=()=>{I.unregister(oe),K()},K=d.get(Ko).onDestroy(V),oe=sr(d,()=>new O_(T,()=>{V(),t()}));return I.register(oe),{destroy:V}}class O_{constructor(n,i){var o;this.phase=n,this.callbackFn=i,this.zone=Ce(qo),this.errorHandler=Ce(Ua,{optional:!0}),null===(o=Ce(S_,{optional:!0}))||void 0===o||o.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(i){var n;null===(n=this.errorHandler)||void 0===n||n.handleError(i)}}}class J0{constructor(){this.executingCallbacks=!1,this.buckets={[Dd.EarlyRead]:new Set,[Dd.Write]:new Set,[Dd.MixedReadWrite]:new Set,[Dd.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const i of n)i.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let Cp=(()=>{var t;class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var o;this.executeInternalCallbacks(),null===(o=this.handler)||void 0===o||o.execute()}executeInternalCallbacks(){const o=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const l of o)l()}ngOnDestroy(){var o;null===(o=this.handler)||void 0===o||o.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=n).\u0275prov=nr({token:t,providedIn:"root",factory:()=>new t}),n})();function hc(t){return!!Si(t)}function F_(t,n,i){let o=i?t.styles:null,l=i?t.classes:null,d=0;if(null!==n)for(let m=0;m<n.length;m++){const I=n[m];"number"==typeof I?d=I:1==d?l=Jr(l,I):2==d&&(o=Jr(o,I+": "+n[++m]+";"))}i?t.styles=o:t.stylesWithoutHost=o,i?t.classes=l:t.classesWithoutHost=l}class dA extends vm{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Dr(n);return new Tm(i,this.ngModule)}}function tI(t){const n=[];for(const i in t){if(!t.hasOwnProperty(i))continue;const o=t[i];void 0!==o&&n.push({propName:Array.isArray(o)?o[0]:o,templateName:i})}return n}class Cm{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,o){o=ze(o);const l=this.injector.get(n,_m,o);return l!==_m||i===_m?l:this.parentInjector.get(n,i,o)}}class Tm extends Ip{get inputs(){const n=this.componentDef,i=n.inputTransforms,o=tI(n.inputs);if(null!==i)for(const l of o)i.hasOwnProperty(l.propName)&&(l.transform=i[l.propName]);return o}get outputs(){return tI(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Vs(t){return t.map(Go).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,o,l){const d=re(null);try{var I;let T=(l=l||this.ngModule)instanceof wo?l:null===(I=l)||void 0===I?void 0:I.injector;T&&null!==this.componentDef.getStandaloneInjector&&(T=this.componentDef.getStandaloneInjector(T)||T);const V=T?new Cm(n,T):n,K=V.get(P_,null);if(null===K)throw new pt(407,!1);const oe=V.get(q0,null),Mt={rendererFactory:K,sanitizer:oe,inlineEffectRunner:null,afterRenderEventManager:V.get(Cp,null),changeDetectionScheduler:V.get(S_,null)},zt=K.createRenderer(null,this.componentDef),an=this.componentDef.selectors[0][0]||"div",gn=o?function VE(t,n,i,o){const d=o.get(ep,!1)||i===bs.ShadowDom,m=t.selectRootElement(n,d);return function s_(t){a_(t)}(m),m}(zt,o,this.componentDef.encapsulation,V):$g(zt,an,function hA(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(an));let Qt=512;this.componentDef.signals?Qt|=4096:this.componentDef.onPush||(Qt|=16);let Sr=null;null!==gn&&(Sr=Ag(gn,V,!0));const zr=o_(0,null,null,1,0,null,null,null,null,null,null),gi=kh(null,zr,null,Qt,null,null,Mt,zt,V,null,Sr);let qs,Gl;Qd(gi);try{const Ou=this.componentDef;let Wp,NC=null;Ou.findHostDirectiveDefs?(Wp=[],NC=new Map,Ou.findHostDirectiveDefs(Ou,Wp,NC),Wp.push(Ou)):Wp=[Ou];const WM=function nI(t,n){const i=t[nn],o=Un;return t[o]=n,md(i,o,2,"#host",null)}(gi,gn),KM=function pc(t,n,i,o,l,d,m){const I=l[nn];!function pA(t,n,i,o){for(const l of t)n.mergedAttrs=ds(n.mergedAttrs,l.hostAttrs);null!==n.mergedAttrs&&(F_(n,n.mergedAttrs,!0),null!==i&&Xg(o,i,n))}(o,t,n,m);let T=null;null!==n&&(T=Ag(n,l[hi]));const V=d.rendererFactory.createRenderer(n,i);let K=16;i.signals?K=4096:i.onPush&&(K=64);const oe=kh(l,Jg(i),null,K,l[t.index],t,d,V,null,null,T);return I.firstCreatePass&&im(I,t,o.length-1),om(l,oe),l[t.index]=oe}(WM,gn,Ou,Wp,gi,Mt,zt);Gl=nu(zr,Un),gn&&function mA(t,n,i,o){if(o)Fs(t,i,["ng-version","17.3.10"]);else{const{attrs:l,classes:d}=function ul(t){const n=[],i=[];let o=1,l=2;for(;o<t.length;){let d=t[o];if("string"==typeof d)2===l?""!==d&&n.push(d,t[++o]):8===l&&i.push(d);else{if(!ge(l))break;l=d}o++}return{attrs:n,classes:i}}(n.selectors[0]);l&&Fs(t,i,l),d&&d.length>0&&E0(t,i,d.join(" "))}}(zt,Ou,gn,o),void 0!==i&&function vA(t,n,i){const o=t.projection=[];for(let l=0;l<n.length;l++){const d=i[l];o.push(null!=d?Array.from(d):null)}}(Gl,this.ngContentSelectors,i),qs=function gA(t,n,i,o,l,d){const m=Ci(),I=l[nn],T=ho(m,l);nm(I,l,m,i,null,o);for(let K=0;K<i.length;K++)An(Va(l,I,m.directiveStart+K,m),l);vd(I,l,m),T&&An(T,l);const V=Va(l,I,m.directiveStart+m.componentOffset,m);if(t[ci]=l[ci]=V,null!==d)for(const K of d)K(V,n);return i_(I,m,l),V}(KM,Ou,Wp,NC,gi,[_A]),Hr(zr,gi,null)}finally{Dl()}return new fA(this.componentType,qs,mo(Gl,gi),gi,Gl)}finally{re(d)}}}class fA extends rA{constructor(n,i,o,l,d){super(),this.location=o,this._rootLView=l,this._tNode=d,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new hp(l,void 0,!1),this.componentType=n}setInput(n,i){const o=this._tNode.inputs;let l;if(null!==o&&(l=o[n])){var d;if(null!==(d=this.previousInputValues)&&void 0!==d||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const m=this._rootLView;sm(m[nn],m,l,n,i),this.previousInputValues.set(n,i),dp(So(this._tNode.index,m))}}get injector(){return new Ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function _A(){const t=Ci();Ku(Wt()[nn],t)}let Dm=(()=>{class n{}return n.__NG_ELEMENT_ID__=yA,n})();function yA(){return EA(Ci(),Wt())}const tT=Dm,IA=class extends tT{constructor(n,i,o){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=o}get element(){return mo(this._hostTNode,this._hostLView)}get injector(){return new Ao(this._hostTNode,this._hostLView)}get parentInjector(){const n=ya(this._hostTNode,this._hostLView);if(nh(n)){const i=cu(n,this._hostLView),o=Fa(n);return new Ao(i[nn].data[o+8],i)}return new Ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=L_(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-so}createEmbeddedView(n,i,o){let l,d;"number"==typeof o?l=o:null!=o&&(l=o.index,d=o.injector);const I=n.createEmbeddedViewImpl(i||{},d,null);return this.insertImpl(I,l,_d(this._hostTNode,null)),I}createComponent(n,i,o,l,d){var m,T;const V=n&&!tt(n);let K;if(V)K=i;else{const gn=i||{};K=gn.index,o=gn.injector,l=gn.projectableNodes,d=gn.environmentInjector||gn.ngModuleRef}const oe=V?n:new Tm(Dr(n)),Me=o||this.parentInjector;if(!d&&null==oe.ngModule){const Qt=(V?Me:this.parentInjector).get(wo,null);Qt&&(d=Qt)}const nt=Dr(null!==(m=oe.componentType)&&void 0!==m?m:{}),Mt=(null==nt?void 0:nt.id,null),zt=null!==(T=null==Mt?void 0:Mt.firstChild)&&void 0!==T?T:null,an=oe.create(Me,l,zt,d);return this.insertImpl(an.hostView,K,_d(this._hostTNode,Mt)),an}insert(n,i){return this.insertImpl(n,i,!0)}insertImpl(n,i,o){const l=n._lView;if(function Qp(t){return Eo(t[ui])}(l)){const I=this.indexOf(n);if(-1!==I)this.detach(I);else{const T=l[ui],V=new IA(T,T[Mr],T[ui]);V.detach(V.indexOf(n))}}const d=this._adjustIndex(i),m=this._lContainer;return Ro(m,l,d,o),n.attachToViewContainerRef(),Oi(V_(m),d,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=L_(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),o=fd(this._lContainer,i);o&&(wi(V_(this._lContainer),i),Mh(o[nn],o))}detach(n){const i=this._adjustIndex(n,-1),o=fd(this._lContainer,i);return o&&null!=wi(V_(this._lContainer),i)?new hp(o):null}_adjustIndex(n,i=0){return null==n?this.length+i:n}};function L_(t){return t[8]}function V_(t){return t[8]||(t[8]=[])}function EA(t,n){let i;const o=n[t.index];return Eo(o)?i=o:(i=M0(o,n,null,t),n[t.index]=i,om(n,i)),AA(i,n,t,o),new IA(i,t,n)}let AA=function B_(t,n,i,o){if(t[zi])return;let l;l=8&i.type?Xr(o):function nT(t,n){const i=t[Ir],o=i.createComment(""),l=ho(n,t);return pd(i,zg(i,l),o,function e_(t,n){return t.nextSibling(n)}(i,l),!1),o}(n,i),t[zi]=l},rI=()=>!1;class Tp{constructor(n){this.queryList=n,this.matches=null}clone(){return new Tp(this.queryList)}setDirty(){this.queryList.setDirty()}}class Kh{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const o=null!==n.contentQueries?n.contentQueries[0]:i.length,l=[];for(let d=0;d<o;d++){const m=i.getByIndex(d);l.push(this.queries[m.indexInDeclarationView].clone())}return new Kh(l)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==ys(n,i).matches&&this.queries[i].setDirty()}}class iI{constructor(n,i,o=null){this.flags=i,this.read=o,this.predicate="string"==typeof n?function uI(t){return t.split(",").map(n=>n.trim())}(n):n}}class $_{constructor(n=[]){this.queries=n}elementStart(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let o=0;o<this.length;o++){const l=null!==i?i.length:0,d=this.getByIndex(o).embeddedTView(n,l);d&&(d.indexInDeclarationView=o,null!==i?i.push(d):i=[d])}return null!==i?new $_(i):null}template(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Dp{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Dp(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const i=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==i;)o=o.parent;return i===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const o=this.metadata.predicate;if(Array.isArray(o))for(let l=0;l<o.length;l++){const d=o[l];this.matchTNodeWithReadOption(n,i,oI(i,d)),this.matchTNodeWithReadOption(n,i,Xu(i,n,d,!1,!1))}else o===fp?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Xu(i,n,o,!1,!1))}matchTNodeWithReadOption(n,i,o){if(null!==o){const l=this.metadata.read;if(null!==l)if(l===_u||l===Dm||l===fp&&4&i.type)this.addMatch(i.index,-2);else{const d=Xu(i,n,l,!1,!1);null!==d&&this.addMatch(i.index,d)}else this.addMatch(i.index,o)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function oI(t,n){const i=t.localNames;if(null!==i)for(let o=0;o<i.length;o+=2)if(i[o]===n)return i[o+1];return null}function bp(t,n,i,o){return-1===i?function sI(t,n){return 11&t.type?mo(t,n):4&t.type?pp(t,n):null}(n,t):-2===i?function j_(t,n,i){return i===_u?mo(n,t):i===fp?pp(n,t):i===Dm?EA(n,t):void 0}(t,n,o):Va(t,t[nn],i,n)}function aI(t,n,i,o){const l=n[ha].queries[o];if(null===l.matches){const d=t.data,m=i.matches,I=[];for(let T=0;null!==m&&T<m.length;T+=2){const V=m[T];I.push(V<0?null:bp(n,d[V],m[T+1],i.metadata.read))}l.matches=I}return l.matches}function H_(t,n,i,o){const l=t.queries.getByIndex(i),d=l.matches;if(null!==d){const m=aI(t,n,l,i);for(let I=0;I<d.length;I+=2){const T=d[I];if(T>0)o.push(m[I/2]);else{const V=d[I+1],K=n[-T];for(let oe=so;oe<K.length;oe++){const Me=K[oe];Me[Io]===Me[ui]&&H_(Me[nn],Me,V,o)}if(null!==K[Ii]){const oe=K[Ii];for(let Me=0;Me<oe.length;Me++){const nt=oe[Me];H_(nt[nn],nt,V,o)}}}}}return o}function wp(t,n,i){var o;const l=new Zc(!(4&~i));return function em(t,n,i,o){const l=N0(n);l.push(i),t.firstCreatePass&&g_(t).push(o,l.length-1)}(t,n,l,l.destroy),(null!==(o=n[ha])&&void 0!==o?o:n[ha]=new Kh).queries.push(new Tp(l))-1}function gc(t,n,i){null===t.queries&&(t.queries=new $_),t.queries.track(new Dp(n,i))}function ys(t,n){return t.queries.getByIndex(n)}function G_(t,n){const i=t[nn],o=ys(i,n);return o.crossesNgTemplate?H_(i,t,n,[]):aI(i,t,o,n)}function Kt(t){let n=function rn(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const o=[t];for(;n;){let l;if(js(t))l=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new pt(903,!1);l=n.\u0275dir}if(l){if(i){o.push(l);const m=t;m.inputs=bn(t.inputs),m.inputTransforms=bn(t.inputTransforms),m.declaredInputs=bn(t.declaredInputs),m.outputs=bn(t.outputs);const I=l.hostBindings;I&&_r(t,I);const T=l.viewQuery,V=l.contentQueries;if(T&&zn(t,T),V&&Br(t,V),Nn(t,l),mi(t.outputs,l.outputs),js(l)&&l.data.animation){const K=t.data;K.animation=(K.animation||[]).concat(l.data.animation)}}const d=l.features;if(d)for(let m=0;m<d.length;m++){const I=d[m];I&&I.ngInherit&&I(t),I===Kt&&(i=!1)}}n=Object.getPrototypeOf(n)}!function Hn(t){let n=0,i=null;for(let o=t.length-1;o>=0;o--){const l=t[o];l.hostVars=n+=l.hostVars,l.hostAttrs=ds(l.hostAttrs,i=ds(i,l.hostAttrs))}}(o)}function Nn(t,n){for(const o in n.inputs){if(!n.inputs.hasOwnProperty(o)||t.inputs.hasOwnProperty(o))continue;const l=n.inputs[o];if(void 0!==l&&(t.inputs[o]=l,t.declaredInputs[o]=n.declaredInputs[o],null!==n.inputTransforms)){var i;const d=Array.isArray(l)?l[0]:l;if(!n.inputTransforms.hasOwnProperty(d))continue;null!==(i=t.inputTransforms)&&void 0!==i||(t.inputTransforms={}),t.inputTransforms[d]=n.inputTransforms[d]}}}function bn(t){return t===fo?{}:t===Er?[]:t}function zn(t,n){const i=t.viewQuery;t.viewQuery=i?(o,l)=>{n(o,l),i(o,l)}:n}function Br(t,n){const i=t.contentQueries;t.contentQueries=i?(o,l,d)=>{n(o,l,d),i(o,l,d)}:n}function _r(t,n){const i=t.hostBindings;t.hostBindings=i?(o,l)=>{n(o,l),i(o,l)}:n}function pI(t){const n=t.inputConfig,i={};for(const o in n)if(n.hasOwnProperty(o)){const l=n[o];Array.isArray(l)&&l[3]&&(i[o]=l[3])}t.inputTransforms=i}class ol{}class Qh{}function q_(t,n){return new X_(t,null!=n?n:null,[])}class X_ extends ol{constructor(n,i,o){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dA(this);const l=Si(n);this._bootstrapComponents=Aa(l.bootstrap),this._r3Injector=vu(n,i,[{provide:ol,useValue:this},{provide:vm,useValue:this.componentFactoryResolver},...o],dr(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Vl extends Qh{constructor(n){super(),this.moduleType=n}create(n){return new X_(this.moduleType,n,[])}}class gI extends ol{constructor(n){super(),this.componentFactoryResolver=new dA(this),this.instance=null;const i=new Ga([...n.providers,{provide:ol,useValue:this},{provide:vm,useValue:this.componentFactoryResolver}],n.parent||ji(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function bd(t,n,i=null){return new gI({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let Ec=(()=>{var t;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Jn.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=n).\u0275fac=function(o){return new(o||t)},t.\u0275prov=nr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function Yh(t){return!!Nm(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Nm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function vo(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function Po(t,n,i,o,l,d,m,I){const T=Wt(),V=qr(),K=t+Un,oe=V.firstCreatePass?function Z_(t,n,i,o,l,d,m,I,T){const V=n.consts,K=md(n,t,4,m||null,ga(V,I));cp(n,i,K,ga(V,T)),Ku(n,K);const oe=K.tView=o_(2,K,o,l,d,n.directiveRegistry,n.pipeRegistry,null,n.schemas,V,null);return null!==n.queries&&(n.queries.template(n,K),oe.queries=n.queries.embeddedTView(K)),K}(K,V,T,n,i,o,l,d,m):V.data[K];zs(oe,!1);const Me=ks(V,T,oe,t);Ms()&&xh(V,T,Me,oe),An(Me,T);const nt=M0(Me,T,Me,oe);return T[K]=nt,om(T,nt),function U_(t,n,i){return rI(t,n,i)}(nt,oe,T),Zl(oe)&&up(V,T,oe),null!=m&&Fh(T,oe,I),Po}let ks=function Rp(t,n,i,o){return _a(!0),n[Ir].createComment("")};function Ul(t,n,i,o){const l=Wt();return vo(l,rs(),n)&&(qr(),rl(Wi(),l,t,n,i,o)),Ul}function Bp(t,n){return t<<17|n<<2}function Rc(t){return t>>17&32767}function jp(t){return 2|t}function zl(t){return(131068&t)>>2}function Km(t,n){return-131069&t|n<<2}function fy(t){return 1|t}function Qm(t,n,i,o){const l=t[i+1],d=null===n;let m=o?Rc(l):zl(l),I=!1;for(;0!==m&&(!1===I||d);){const V=t[m+1];py(t[m],n)&&(I=!0,t[m+1]=o?fy(V):jp(V)),m=o?Rc(V):zl(V)}I&&(t[i+1]=o?jp(l):fy(l))}function py(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ho(t,n)>=0}function k(t,n,i){const o=Wt();return vo(o,rs(),n)&&function Ns(t,n,i,o,l,d,m,I){const T=ho(n,i);let K,V=n.inputs;!I&&null!=V&&(K=V[o])?(sm(t,i,K,o,l),Oa(n)&&function l_(t,n){const i=So(n,t);16&i[Rn]||(i[Rn]|=64)}(i,n.index)):3&n.type&&(o=function tm(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(o),l=null!=m?m(l,n.value||"",o):l,d.setProperty(T,o,l))}(qr(),Wi(),o,t,n,o[Ir],i,!1),k}function W(t,n,i,o,l){const m=l?"class":"style";sm(t,i,n.inputs[m],m,o)}function kt(t,n){return function $r(t,n,i,o){const l=Wt(),d=qr(),m=function na(t){const n=Fn.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}(2);d.firstUpdatePass&&function Bd(t,n,i,o){const l=t.data;if(null===l[i+1]){const d=l[Wo()],m=function Is(t,n){return n>=t.expandoStartIndex}(t,i);(function yT(t,n){return!!(t.flags&(n?8:16))})(d,o)&&null===n&&!m&&(n=!1),n=function al(t,n,i,o){const l=function jc(t){const n=Fn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let d=o?n.residualClasses:n.residualStyles;if(null===l)0===(o?n.classBindings:n.styleBindings)&&(i=yy(i=KA(null,t,n,i,o),n.attrs,o),d=null);else{const m=n.directiveStylingLast;if(-1===m||t[m]!==l)if(i=KA(l,t,n,i,o),null===d){let T=function Zm(t,n,i){const o=i?n.classBindings:n.styleBindings;if(0!==zl(o))return t[Rc(o)]}(t,n,o);void 0!==T&&Array.isArray(T)&&(T=KA(null,t,n,T[1],o),T=yy(T,n.attrs,o),function _y(t,n,i,o){t[Rc(i?n.classBindings:n.styleBindings)]=o}(t,n,o,T))}else d=function hw(t,n,i){let o;const l=n.directiveEnd;for(let d=1+n.directiveStylingLast;d<l;d++)o=yy(o,t[d].hostAttrs,i);return yy(o,n.attrs,i)}(t,n,o)}return void 0!==d&&(o?n.residualClasses=d:n.residualStyles=d),i}(l,d,n,o),function OI(t,n,i,o,l,d){let m=d?n.classBindings:n.styleBindings,I=Rc(m),T=zl(m);t[o]=i;let K,V=!1;if(Array.isArray(i)?(K=i[1],(null===K||Ho(i,K)>0)&&(V=!0)):K=i,l)if(0!==T){const Me=Rc(t[I+1]);t[o+1]=Bp(Me,I),0!==Me&&(t[Me+1]=Km(t[Me+1],o)),t[I+1]=function NI(t,n){return 131071&t|n<<17}(t[I+1],o)}else t[o+1]=Bp(I,0),0!==I&&(t[I+1]=Km(t[I+1],o)),I=o;else t[o+1]=Bp(T,0),0===I?I=o:t[T+1]=Km(t[T+1],o),T=o;V&&(t[o+1]=jp(t[o+1])),Qm(t,K,o,!0),Qm(t,K,o,!1),function kI(t,n,i,o,l){const d=l?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof n&&Ho(d,n)>=0&&(i[o+1]=fy(i[o+1]))}(n,K,t,o,d),m=Bp(I,T),d?n.classBindings=m:n.styleBindings=m}(l,d,n,i,m,o)}}(d,t,m,o),n!==kr&&vo(l,m,n)&&function vT(t,n,i,o,l,d,m,I){if(!(3&n.type))return;const T=t.data,V=T[I+1],K=function qm(t){return!(1&~t)}(V)?_T(T,n,i,l,zl(V),m):void 0;BI(K)||(BI(d)||function $p(t){return!(2&~t)}(V)&&(d=_T(T,null,i,l,I,m)),function n_(t,n,i,o,l){if(n)l?t.addClass(i,o):t.removeClass(i,o);else{let d=-1===o.indexOf("-")?void 0:Ph.DashCase;null==l?t.removeStyle(i,o,d):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),d|=Ph.Important),t.setStyle(i,o,l,d))}}(o,m,ns(Wo(),i),l,d))}(d,d.data[Wo()],l,l[Ir],t,l[m+1]=function mw(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=dr(Eu(t)))),t}(n,i),o,m)}(t,n,null,!0),kt}function KA(t,n,i,o,l){let d=null;const m=i.directiveEnd;let I=i.directiveStylingLast;for(-1===I?I=i.directiveStart:I++;I<m&&(d=n[I],o=yy(o,d.hostAttrs,l),d!==t);)I++;return null!==t&&(i.directiveStylingLast=I),o}function yy(t,n,i){const o=i?1:2;let l=-1;if(null!==n)for(let d=0;d<n.length;d++){const m=n[d];"number"==typeof m?l=m:l===o&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Do(t,m,!!i||n[++d]))}return void 0===t?null:t}function _T(t,n,i,o,l,d){const m=null===n;let I;for(;l>0;){const T=t[l],V=Array.isArray(T),K=V?T[1]:T,oe=null===K;let Me=i[l+1];Me===kr&&(Me=oe?Er:void 0);let nt=oe?Ys(Me,o):K===o?Me:void 0;if(V&&!BI(nt)&&(nt=Ys(T,o)),BI(nt)&&(I=nt,m))return I;const Mt=t[l+1];l=m?Rc(Mt):zl(Mt)}if(null!==n){let T=d?n.residualClasses:n.residualStyles;null!=T&&(I=Ys(T,o))}return I}function BI(t){return void 0!==t}function $I(t,n,i,o){const l=Wt(),d=qr(),m=Un+t,I=l[Ir],T=d.firstCreatePass?function Uw(t,n,i,o,l,d){const m=n.consts,T=md(n,t,2,o,ga(m,l));return cp(n,i,T,ga(m,d)),null!==T.attrs&&F_(T,T.attrs,!1),null!==T.mergedAttrs&&F_(T,T.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,T),T}(m,d,l,n,i,o):d.data[m],V=CT(d,l,T,I,n,t);l[m]=V;const K=Zl(T);return zs(T,!0),Xg(I,V,T),!function wd(t){return!(32&~t.flags)}(T)&&Ms()&&xh(d,l,V,T),0===function Wd(){return Fn.lFrame.elementDepthCount}()&&An(V,l),function Uc(){Fn.lFrame.elementDepthCount++}(),K&&(up(d,l,T),i_(d,T,l)),null!==o&&Fh(l,T),$I}function jI(){let t=Ci();Xd()?zu():(t=t.parent,zs(t,!1));const n=t;(function Ai(t){return Fn.skipHydrationRootTNode===t})(n)&&function Yp(){Fn.skipHydrationRootTNode=null}(),function If(){Fn.lFrame.elementDepthCount--}();const i=qr();return i.firstCreatePass&&(Ku(i,t),jd(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function uu(t){return!!(8&t.flags)}(n)&&W(i,n,Wt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function wl(t){return!!(16&t.flags)}(n)&&W(i,n,Wt(),n.stylesWithoutHost,!1),jI}function ZA(t,n,i,o){return $I(t,n,i,o),jI(),ZA}let CT=(t,n,i,o,l,d)=>(_a(!0),$g(o,l,function Wu(){return Fn.lFrame.currentNamespace}()));function HI(t,n,i){const o=Wt(),l=qr(),d=t+Un,m=l.firstCreatePass?function jw(t,n,i,o,l){const d=n.consts,m=ga(d,o),I=md(n,t,8,"ng-container",m);return null!==m&&F_(I,m,!0),cp(n,i,I,ga(d,l)),null!==n.queries&&n.queries.elementStart(n,I),I}(d,l,o,n,i):l.data[d];zs(m,!0);const I=TT(l,o,m,t);return o[d]=I,Ms()&&xh(l,o,I,m),An(I,o),Zl(m)&&(up(l,o,m),i_(l,m,o)),null!=i&&Fh(o,m),HI}function zI(){let t=Ci();const n=qr();return Xd()?zu():(t=t.parent,zs(t,!1)),n.firstCreatePass&&(Ku(n,t),jd(t)&&n.queries.elementEnd(t)),zI}function JA(t,n,i){return HI(t,n,i),zI(),JA}let TT=(t,n,i,o)=>(_a(!0),Bg(n[Ir],""));function DT(){return Wt()}const zp=void 0;var Ww=["en",[["a","p"],["AM","PM"],zp],[["AM","PM"],zp,zp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zp,"{1} 'at' {0}",zp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Gw(t){const i=Math.floor(Math.abs(t)),o=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let Jm={};function eC(t){const n=function Kw(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=RT(n);if(i)return i;const o=n.split("-")[0];if(i=RT(o),i)return i;if("en"===o)return Ww;throw new pt(701,!1)}function ST(t){return eC(t)[ev.PluralCase]}function RT(t){return t in Jm||(Jm[t]=Ln.ng&&Ln.ng.common&&Ln.ng.common.locales&&Ln.ng.common.locales[t]),Jm[t]}var ev=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ev||{});const tv="en-US";let PT=tv;function rC(t,n,i,o){const l=Wt(),d=qr(),m=Ci();return function iC(t,n,i,o,l,d,m){const I=Zl(o),V=t.firstCreatePass&&g_(t),K=n[ci],oe=N0(n);let Me=!0;if(3&o.type||m){const zt=ho(o,n),an=m?m(zt):zt,gn=oe.length,Qt=m?zr=>m(Xr(zr[o.index])):o.index;let Sr=null;if(!m&&I&&(Sr=function HS(t,n,i,o){const l=t.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const m=l[d];if(m===i&&l[d+1]===o){const I=n[Pt],T=l[d+2];return I.length>T?I[T]:null}"string"==typeof m&&(d+=2)}return null}(t,n,l,o.index)),null!==Sr)(Sr.__ngLastListenerFn__||Sr).__ngNextListenerFn__=d,Sr.__ngLastListenerFn__=d,Me=!1;else{d=iD(o,n,K,d,!1);const zr=i.listen(an,l,d);oe.push(d,zr),V&&V.push(l,Qt,gn,gn+1)}}else d=iD(o,n,K,d,!1);const nt=o.outputs;let Mt;if(Me&&null!==nt&&(Mt=nt[l])){const zt=Mt.length;if(zt)for(let an=0;an<zt;an+=2){const gi=n[Mt[an]][Mt[an+1]].subscribe(d),qs=oe.length;oe.push(d,gi),V&&V.push(l,o.index,qs,-(qs+1))}}}(d,l,l[Ir],m,t,n,o),rC}function rD(t,n,i,o){const l=re(null);try{return Ps(6,n,i),!1!==i(o)}catch(d){return Bh(t,d),!1}finally{Ps(7,n,i),re(l)}}function iD(t,n,i,o,l){return function d(m){if(m===Function)return o;dp(t.componentOffset>-1?So(t.index,n):n);let T=rD(n,i,o,m),V=d.__ngNextListenerFn__;for(;V;)T=rD(n,i,V,m)&&T,V=V.__ngNextListenerFn__;return l&&!1===T&&m.preventDefault(),T}}function oD(t=1){return function ou(t){return(Fn.lFrame.contextLView=function Fc(t,n){for(;t>0;)n=n[Ka],t--;return n}(t,Fn.lFrame.contextLView))[ci]}(t)}function zS(t,n){let i=null;const o=function en(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let l=0;l<n.length;l++){const d=n[l];if("*"!==d){if(null===o?De(t,d,!0):Bi(o,d))return l}else i=l}return i}function sD(t){const n=Wt()[di][Mr];if(!n.projection){const o=n.projection=jo(t?t.length:1,null),l=o.slice();let d=n.child;for(;null!==d;){const m=t?zS(d,t):0;null!==m&&(l[m]?l[m].projectionNext=d:o[m]=d,l[m]=d),d=d.next}}}function aD(t,n=0,i){const o=Wt(),l=qr(),d=md(l,Un+t,16,null,i||null);null===d.projection&&(d.projection=n),zu(),(!o[Hi]||Or())&&32&~d.flags&&function Tu(t,n,i){qg(n[Ir],0,n,i,Yv(t,i,n),_0(i.parent||n[Mr],i,n))}(l,o,d)}function vD(t,n,i,o){!function z_(t,n,i,o){const l=qr();if(l.firstCreatePass){const d=Ci();gc(l,new iI(n,i,o),d.index),function $a(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(l,t),!(2&~i)&&(l.staticContentQueries=!0)}return wp(l,Wt(),i)}(t,n,i,o)}function _D(t,n,i){!function lI(t,n,i){const o=qr();return o.firstCreatePass&&(gc(o,new iI(t,n,i),-1),!(2&~n)&&(o.staticViewQueries=!0)),wp(o,Wt(),n)}(t,n,i)}function yD(t){const n=Wt(),i=qr(),o=Hc();ra(o+1);const l=ys(i,o);if(t.dirty&&function Oc(t){return!(4&~t[Rn])}(n)===!(2&~l.metadata.flags)){if(null===l.matches)t.reset([]);else{const d=G_(n,o);t.reset(d,Yc),t.notifyOnChanges()}return!0}return!1}function ID(){return function bm(t,n){return t[ha].queries[n].queryList}(Wt(),Hc())}function PD(t,n=""){const i=Wt(),o=qr(),l=t+Un,d=o.firstCreatePass?md(o,l,1,n,null):o.data[l],m=MD(o,i,d,n,t);i[l]=m,Ms()&&xh(o,i,m,d),zs(d,!1)}let MD=(t,n,i,o,l)=>(_a(!0),function Ug(t,n){return t.createText(n)}(n[Ir],o));function sC(t){return aC("",t,""),sC}function aC(t,n,i){const o=Wt(),l=function hf(t,n,i,o){return vo(t,rs(),i)?n+ir(i)+o:kr}(o,t,n,i);return l!==kr&&function Ol(t,n,i){const o=ns(n,t);!function Wv(t,n,i){t.setValue(n,i)}(t[Ir],o,i)}(o,Wo(),l),aC}function lC(t,n,i,o,l){if(t=ft(t),Array.isArray(t))for(let d=0;d<t.length;d++)lC(t[d],n,i,o,l);else{const d=qr(),m=Wt(),I=Ci();let T=Dn(t)?t:ft(t.provide);const V=Fu(t),K=1048575&I.providerIndexes,oe=I.directiveStart,Me=I.providerIndexes>>20;if(Dn(t)||!t.multi){const nt=new lu(V,l,lc),Mt=cC(T,n,l?K:K+Me,oe);-1===Mt?(Ia(La(I,m),d,T),uC(d,t,n.length),n.push(T),I.directiveStart++,I.directiveEnd++,l&&(I.providerIndexes+=1048576),i.push(nt),m.push(nt)):(i[Mt]=nt,m[Mt]=nt)}else{const nt=cC(T,n,K+Me,oe),Mt=cC(T,n,K,K+Me),an=Mt>=0&&i[Mt];if(l&&!an||!l&&!(nt>=0&&i[nt])){Ia(La(I,m),d,T);const gn=function dR(t,n,i,o,l){const d=new lu(t,i,lc);return d.multi=[],d.index=n,d.componentProviders=0,jD(d,l,o&&!i),d}(l?cR:uR,i.length,l,o,V);!l&&an&&(i[Mt].providerFactory=gn),uC(d,t,n.length,0),n.push(T),I.directiveStart++,I.directiveEnd++,l&&(I.providerIndexes+=1048576),i.push(gn),m.push(gn)}else uC(d,t,nt>-1?nt:Mt,jD(i[l?Mt:nt],V,!l&&o));!l&&o&&an&&i[Mt].componentProviders++}}}function uC(t,n,i,o){const l=Dn(n),d=function jn(t){return!!t.useClass}(n);if(l||d){const T=(d?ft(n.useClass):n).prototype.ngOnDestroy;if(T){const V=t.destroyHooks||(t.destroyHooks=[]);if(!l&&n.multi){const K=V.indexOf(i);-1===K?V.push(i,[o,T]):V[K+1].push(o,T)}else V.push(i,T)}}}function jD(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function cC(t,n,i,o){for(let l=i;l<o;l++)if(n[l]===t)return l;return-1}function uR(t,n,i,o){return dC(this.multi,[])}function cR(t,n,i,o){const l=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,I=Va(i,i[nn],this.providerFactory.index,o);d=I.slice(0,m),dC(l,d);for(let T=m;T<I.length;T++)d.push(I[T])}else d=[],dC(l,d);return d}function dC(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function HD(t,n=[]){return i=>{i.providersResolver=(o,l)=>function lR(t,n,i){const o=qr();if(o.firstCreatePass){const l=js(t);lC(i,o.data,o.blueprint,l,!0),lC(n,o.data,o.blueprint,l,!1)}}(o,l?l(t):t,n)}}let hR=(()=>{var t;class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const l=ki(0,o.type),d=l.length>0?bd([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,d)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return(t=n).\u0275prov=nr({token:t,providedIn:"environment",factory:()=>new t($(wo))}),n})();function zD(t){Fl("NgStandalone"),t.getStandaloneInjector=n=>n.get(hR).getOrCreateStandaloneInjector(t)}class hb{constructor(n){this.full=n;const i=n.split(".");this.major=i[0],this.minor=i[1],this.patch=i.slice(2).join(".")}}let fb=(()=>{var t;class n{log(o){console.log(o)}warn(o){console.warn(o)}}return(t=n).\u0275fac=function(o){return new(o||t)},t.\u0275prov=nr({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();const vb=new wt(""),_b=new wt("");let _C,DP=(()=>{var t;class n{constructor(o,l,d){this._ngZone=o,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,_C||(function bP(t){_C=t}(d),d.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,d){let m=-1;l&&l>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==m),o()},l)),this._callbacks.push({doneCb:o,timeoutId:m,updateCb:d})}whenStable(o,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,d){return[]}}return(t=n).\u0275fac=function(o){return new(o||t)($(qo),$(yb),$(_b))},t.\u0275prov=nr({token:t,factory:t.\u0275fac}),n})(),yb=(()=>{var t;class n{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){var d,m;return null!==(d=null===(m=_C)||void 0===m?void 0:m.findTestabilityInTree(this,o,l))&&void 0!==d?d:null}}return(t=n).\u0275fac=function(o){return new(o||t)},t.\u0275prov=nr({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();function yC(t){return!!t&&"function"==typeof t.then}function Ib(t){return!!t&&"function"==typeof t.subscribe}const Eb=new wt("");let IC=(()=>{var t;class n{constructor(){var o;this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d}),this.appInits=null!==(o=Ce(Eb,{optional:!0}))&&void 0!==o?o:[]}runInitializers(){if(this.initialized)return;const o=[];for(const d of this.appInits){const m=d();if(yC(m))o.push(m);else if(Ib(m)){const I=new Promise((T,V)=>{m.subscribe({complete:T,error:V})});o.push(I)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{l()}).catch(d=>{this.reject(d)}),0===o.length&&l(),this.initialized=!0}}return(t=n).\u0275fac=function(o){return new(o||t)},t.\u0275prov=nr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const EC=new wt("");function Tb(t,n){return Array.isArray(n)?n.reduce(Tb,t):{...t,...n}}let ff=(()=>{var t;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ce(Sl),this.afterRenderEffectManager=Ce(Cp),this.externalTestViews=new Set,this.beforeRender=new Wn.B,this.afterTick=new Wn.B,this.componentTypes=[],this.components=[],this.isStable=Ce(Ec).hasPendingTasks.pipe((0,Kn.T)(o=>!o)),this._injector=Ce(wo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,l){const d=o instanceof Ip;if(!this._injector.get(IC).done)throw!d&&bo(o),new pt(405,!1);let I;I=d?o:this._injector.get(vm).resolveComponentFactory(o),this.componentTypes.push(I.componentType);const T=function wP(t){return t.isBoundToModule}(I)?void 0:this._injector.get(ol),K=I.create(os.NULL,[],l||I.selector,T),oe=K.location.nativeElement,Me=K.injector.get(vb,null);return null==Me||Me.registerApplication(oe),K.onDestroy(()=>{this.detachView(K.hostView),ZI(this.components,K),null==Me||Me.unregisterApplication(oe)}),this._loadComponent(K),K}tick(){this._tick(!0)}_tick(o){if(this._runningTick)throw new pt(101,!1);const l=re(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(o)}catch(d){this.internalErrorHandler(d)}finally{this.afterTick.next(),this._runningTick=!1,re(l)}}detectChangesInAttachedViews(o){let l=0;const d=this.afterRenderEffectManager;for(;;){if(l===um)throw new pt(103,!1);if(o){const m=0===l;this.beforeRender.next(m);for(let{_lView:I,notifyErrorHandler:T}of this._views)RP(I,m,T)}if(l++,d.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:m})=>AC(m))&&(d.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:m})=>AC(m))))break}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;ZI(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const l=this._injector.get(EC,[]);[...this._bootstrapListeners,...l].forEach(d=>d(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>ZI(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new pt(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=n).\u0275fac=function(o){return new(o||t)},t.\u0275prov=nr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function ZI(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}function RP(t,n,i){!n&&!AC(t)||function PP(t,n,i){let o;i?(o=0,t[Rn]|=1024):o=64&t[Rn]?0:1,cm(t,n,o)}(t,i,n)}function AC(t){return _f(t)}class MP{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let xP=(()=>{var t;class n{compileModuleSync(o){return new Vl(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),m=Aa(Si(o).declarations).reduce((I,T)=>{const V=Dr(T);return V&&I.push(new Tm(V)),I},[]);return new MP(l,m)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return(t=n).\u0275fac=function(o){return new(o||t)},t.\u0275prov=nr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),kP=(()=>{var t;class n{constructor(){this.zone=Ce(qo),this.applicationRef=Ce(ff)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var o;null===(o=this._onMicrotaskEmptySubscription)||void 0===o||o.unsubscribe()}}return(t=n).\u0275fac=function(o){return new(o||t)},t.\u0275prov=nr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function FP(){const t=Ce(qo),n=Ce(Ua);return i=>t.runOutsideAngular(()=>n.handleError(i))}let VP=(()=>{var t;class n{constructor(){this.subscription=new lr.yU,this.initialized=!1,this.zone=Ce(qo),this.pendingTasks=Ce(Ec)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{qo.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var l;qo.assertInAngularZone(),null!==(l=o)&&void 0!==l||(o=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=n).\u0275fac=function(o){return new(o||t)},t.\u0275prov=nr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const JI=new wt("",{providedIn:"root",factory:()=>Ce(JI,ur.Optional|ur.SkipSelf)||function UP(){return typeof $localize<"u"&&$localize.locale||tv}()}),BP=new wt("",{providedIn:"root",factory:()=>"USD"}),CC=new wt("");let Sb=(()=>{var t;class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const d=function aA(t="zone.js",n){return"noop"===t?new Y0:"zone.js"===t?new qo(n):t}(null==l?void 0:l.ngZone,function wb(t){var n,i;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==t?void 0:t.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(i=null==t?void 0:t.runCoalescing)&&void 0!==i&&i}}({eventCoalescing:null==l?void 0:l.ngZoneEventCoalescing,runCoalescing:null==l?void 0:l.ngZoneRunCoalescing}));return d.run(()=>{const m=function Os(t,n,i){return new X_(t,n,i)}(o.moduleType,this.injector,function bb(t){return[{provide:qo,useFactory:t},{provide:cs,multi:!0,useFactory:()=>{const n=Ce(kP,{optional:!0});return()=>n.initialize()}},{provide:cs,multi:!0,useFactory:()=>{const n=Ce(VP);return()=>{n.initialize()}}},{provide:Sl,useFactory:FP}]}(()=>d)),I=m.injector.get(Ua,null);return d.runOutsideAngular(()=>{const T=d.onError.subscribe({next:V=>{I.handleError(V)}});m.onDestroy(()=>{ZI(this._modules,m),T.unsubscribe()})}),function Cb(t,n,i){try{const o=i();return yC(o)?o.catch(l=>{throw n.runOutsideAngular(()=>t.handleError(l)),l}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}(I,d,()=>{const T=m.injector.get(IC);return T.runInitializers(),T.donePromise.then(()=>(function MT(t){"string"==typeof t&&(PT=t.toLowerCase().replace(/_/g,"-"))}(m.injector.get(JI,tv)||tv),this._moduleDoBootstrap(m),m))})})}bootstrapModule(o,l=[]){const d=Tb({},l);return function OP(t,n,i){const o=new Vl(i);return Promise.resolve(o)}(0,0,o).then(m=>this.bootstrapModuleFactory(m,d))}_moduleDoBootstrap(o){const l=o.injector.get(ff);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!o.instance.ngDoBootstrap)throw new pt(-403,!1);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pt(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(CC,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=n).\u0275fac=function(o){return new(o||t)($(os))},t.\u0275prov=nr({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})(),pf=null;const Rb=new wt("");function Pb(t,n,i=[]){const o=`Platform: ${n}`,l=new wt(o);return(d=[])=>{let m=TC();if(!m||m.injector.get(Rb,!1)){const I=[...i,...d,{provide:l,useValue:!0}];t?t(I):function jP(t){if(pf&&!pf.get(Rb,!1))throw new pt(400,!1);(function Ab(){!function ae(t){ht=t}(()=>{throw new pt(600,!1)})})(),pf=t;const n=t.get(Sb);(function xb(t){const n=t.get(yv,null);null==n||n.forEach(i=>i())})(t)}(function Mb(t=[],n){return os.create({name:n,providers:[{provide:ku,useValue:"platform"},{provide:CC,useValue:new Set([()=>pf=null])},...t]})}(I,o))}return function HP(t){const n=TC();if(!n)throw new pt(401,!1);return n}()}}function TC(){var t,n;return null!==(t=null===(n=pf)||void 0===n?void 0:n.get(Sb))&&void 0!==t?t:null}function GP(){return!1}function WP(){}let Ob=(()=>{class n{}return n.__NG_ELEMENT_ID__=KP,n})();function KP(t){return function qP(t,n,i){if(Oa(t)&&!i){const o=So(t.index,n);return new hp(o,o)}return 47&t.type?new hp(n[di],n):null}(Ci(),Wt(),!(16&~t))}class Vb{constructor(){}supports(n){return Yh(n)}create(n){return new JP(n)}}const ZP=(t,n)=>n;class JP{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||ZP}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,o=this._removalsHead,l=0,d=null;for(;i||o;){const m=!o||i&&i.currentIndex<Bb(o,l,d)?i:o,I=Bb(m,l,d),T=m.currentIndex;if(m===o)l--,o=o._nextRemoved;else if(i=i._next,null==m.previousIndex)l++;else{d||(d=[]);const V=I-l,K=T-l;if(V!=K){for(let Me=0;Me<V;Me++){const nt=Me<d.length?d[Me]:d[Me]=0,Mt=nt+Me;K<=Mt&&Mt<V&&(d[Me]=nt+1)}d[m.previousIndex]=K-V}}I!==T&&n(m,I,T)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!Yh(n))throw new pt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let l,d,m,i=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let I=0;I<this.length;I++)d=n[I],m=this._trackByFn(I,d),null!==i&&Object.is(i.trackById,m)?(o&&(i=this._verifyReinsertion(i,d,m,I)),Object.is(i.item,d)||this._addIdentityChange(i,d)):(i=this._mismatch(i,d,m,I),o=!0),i=i._next}else l=0,function vI(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let o;for(;!(o=i.next()).done;)n(o.value)}}(n,I=>{m=this._trackByFn(l,I),null!==i&&Object.is(i.trackById,m)?(o&&(i=this._verifyReinsertion(i,I,m,l)),Object.is(i.item,I)||this._addIdentityChange(i,I)):(i=this._mismatch(i,I,m,l),o=!0),i=i._next,l++}),this.length=l;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,o,l){let d;return null===n?d=this._itTail:(d=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,d,l)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,l))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,d,l)):n=this._addAfter(new eM(i,o),d,l),n}_verifyReinsertion(n,i,o,l){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==d?n=this._reinsertAfter(d,n._prev,l):n.currentIndex!=l&&(n.currentIndex=l,this._addToMoves(n,l)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const l=n._prevRemoved,d=n._nextRemoved;return null===l?this._removalsHead=d:l._nextRemoved=d,null===d?this._removalsTail=l:d._prevRemoved=l,this._insertAfter(n,i,o),this._addToMoves(n,o),n}_moveAfter(n,i,o){return this._unlink(n),this._insertAfter(n,i,o),this._addToMoves(n,o),n}_addAfter(n,i,o){return this._insertAfter(n,i,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,o){const l=null===i?this._itHead:i._next;return n._next=l,n._prev=i,null===l?this._itTail=n:l._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new Ub),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,o=n._next;return null===i?this._itHead=o:i._next=o,null===o?this._itTail=i:o._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ub),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class eM{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tM{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===i||i<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const i=n._prevDup,o=n._nextDup;return null===i?this._head=o:i._nextDup=o,null===o?this._tail=i:o._prevDup=i,null===this._head}}class Ub{constructor(){this.map=new Map}put(n){const i=n.trackById;let o=this.map.get(i);o||(o=new tM,this.map.set(i,o)),o.add(n)}get(n,i){const l=this.map.get(n);return l?l.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Bb(t,n,i){const o=t.previousIndex;if(null===o)return o;let l=0;return i&&o<i.length&&(l=i[o]),o+n+l}class $b{constructor(){}supports(n){return n instanceof Map||Nm(n)}create(){return new nM}}class nM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||Nm(n)))throw new pt(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,l)=>{if(i&&i.key===l)this._maybeAddToChanges(i,o),this._appendAfter=i,i=i._next;else{const d=this._getOrCreateRecordForKey(l,o);i=this._insertBeforeOrAppend(i,d)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let o=i;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const o=n._prev;return i._next=n,i._prev=o,n._prev=i,o&&(o._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const l=this._records.get(n);this._maybeAddToChanges(l,i);const d=l._prev,m=l._next;return d&&(d._next=m),m&&(m._prev=d),l._next=null,l._prev=null,l}const o=new rM(n);return this._records.set(n,o),o.currentValue=i,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(o=>i(n[o],o))}}class rM{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function jb(){return new RC([new Vb])}let RC=(()=>{var t;class n{constructor(o){this.factories=o}static create(o,l){if(null!=l){const d=l.factories.slice();o=o.concat(d)}return new n(o)}static extend(o){return{provide:n,useFactory:l=>n.create(o,l||jb()),deps:[[n,new qn,new pn]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(null!=l)return l;throw new pt(901,!1)}}return(t=n).\u0275prov=nr({token:t,providedIn:"root",factory:jb}),n})();function Hb(){return new PC([new $b])}let PC=(()=>{var t;class n{constructor(o){this.factories=o}static create(o,l){if(l){const d=l.factories.slice();o=o.concat(d)}return new n(o)}static extend(o){return{provide:n,useFactory:l=>n.create(o,l||Hb()),deps:[[n,new qn,new pn]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(l)return l;throw new pt(901,!1)}}return(t=n).\u0275prov=nr({token:t,providedIn:"root",factory:Hb}),n})();const sM=Pb(null,"core",[]);let aM=(()=>{var t;class n{constructor(o){}}return(t=n).\u0275fac=function(o){return new(o||t)($(ff))},t.\u0275mod=za({type:t}),t.\u0275inj=Li({}),n})();function FM(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function VM(t){const n=re(null);try{return t()}finally{re(n)}}function zM(t,n){const i=Dr(t),o=n.elementInjector||ji();return new Tm(i).create(o,n.projectableNodes,n.hostElement,n.environmentInjector)}function GM(t){const n=Dr(t);if(!n)return null;const i=new Tm(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1977:(fn,dt,L)=>{"use strict";L.d(dt,{DS:()=>ht,$z:()=>Lt,UB:()=>vt,yy:()=>Ze,ZP:()=>$e,AU:()=>un,CP:()=>at,gF:()=>Xe});var p=L(9842),J=(L(4635),L(177)),ne=L(4438),he=L(1825),Se=L(9253),re=L(1413),Le=L(7673),He=L(1985),Te=L(8455),de=L(7786),Ne=L(941),Ve=L(5558),ke=L(6354),We=L(6129);class ut extends re.B{constructor(H=1/0,G=1/0,X=We.U){super(),this._bufferSize=H,this._windowTime=G,this._timestampProvider=X,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=G===1/0,this._bufferSize=Math.max(1,H),this._windowTime=Math.max(1,G)}next(H){const{isStopped:G,_buffer:X,_infiniteTimeWindow:Ie,_timestampProvider:je,_windowTime:Ue}=this;G||(X.push(H),!Ie&&X.push(je.now()+Ue)),this._trimBuffer(),super.next(H)}_subscribe(H){this._throwIfClosed(),this._trimBuffer();const G=this._innerSubscribe(H),{_infiniteTimeWindow:X,_buffer:Ie}=this,je=Ie.slice();for(let Ue=0;Ue<je.length&&!H.closed;Ue+=X?1:2)H.next(je[Ue]);return this._checkFinalizedStatuses(H),G}_trimBuffer(){const{_bufferSize:H,_timestampProvider:G,_buffer:X,_infiniteTimeWindow:Ie}=this,je=(Ie?1:2)*H;if(H<1/0&&je<X.length&&X.splice(0,X.length-je),!Ie){const Ue=G.now();let xe=0;for(let jt=1;jt<X.length&&X[jt]<=Ue;jt+=2)xe=jt;xe&&X.splice(0,xe+1)}}}var qe=L(7647);function Ye(ae,H,G){let X,Ie=!1;return ae&&"object"==typeof ae?({bufferSize:X=1/0,windowTime:H=1/0,refCount:Ie=!1,scheduler:G}=ae):X=null!=ae?ae:1/0,(0,qe.u)({connector:()=>new ut(X,H,G),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ie})}var At=L(1594),rt=L(8071);function It(ae,H){return(0,rt.T)(H)?(0,Ve.n)(()=>ae,H):(0,Ve.n)(()=>ae)}var Ee=L(6745),Oe=L(5964);L(7935);const at=new ne.nKC("angularfire2.auth.use-emulator"),Ze=new ne.nKC("angularfire2.auth.settings"),$e=new ne.nKC("angularfire2.auth.tenant-id"),Lt=new ne.nKC("angularfire2.auth.langugage-code"),un=new ne.nKC("angularfire2.auth.use-device-language"),vt=new ne.nKC("angularfire.auth.persistence"),Xe=(ae,H,G,X,Ie,je,Ue,xe)=>(0,Se.BM)(`${ae.name}.auth`,"AngularFireAuth",ae.name,()=>{const jt=H.runOutsideAngular(()=>ae.auth());if(G&&jt.useEmulator(...G),X&&(jt.tenantId=X),jt.languageCode=Ie,je&&jt.useDeviceLanguage(),Ue)for(const[Mn,cn]of Object.entries(Ue))jt.settings[Mn]=cn;return xe&&jt.setPersistence(xe),jt},[G,X,Ie,je,Ue,xe]);let ht=(()=>{var ae;class H{constructor(X,Ie,je,Ue,xe,jt,Mn,cn,Yt,Sn,Wn,lr){(0,p.A)(this,"authState",void 0),(0,p.A)(this,"idToken",void 0),(0,p.A)(this,"user",void 0),(0,p.A)(this,"idTokenResult",void 0),(0,p.A)(this,"credential",void 0);const Jn=new re.B,Kn=(0,Le.of)(void 0).pipe((0,Ne.Q)(xe.outsideAngular),(0,Ve.n)(()=>Ue.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,4635)))),(0,ke.T)(()=>(0,Se.iB)(X,Ue,Ie)),(0,ke.T)(On=>Xe(On,Ue,jt,cn,Yt,Sn,Mn,Wn)),Ye({bufferSize:1,refCount:!1}));if((0,J.Vy)(je))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Le.of)(null);else{Kn.pipe((0,At.$)()).subscribe();const On=Kn.pipe((0,Ve.n)(Et=>Et.getRedirectResult().then(bt=>bt,()=>null)),he.U0,Ye({bufferSize:1,refCount:!1})),Gn=Kn.pipe((0,Ve.n)(Et=>new He.c(bt=>({unsubscribe:Ue.runOutsideAngular(()=>Et.onAuthStateChanged(mn=>bt.next(mn),mn=>bt.error(mn),()=>bt.complete()))})))),pt=Kn.pipe((0,Ve.n)(Et=>new He.c(bt=>({unsubscribe:Ue.runOutsideAngular(()=>Et.onIdTokenChanged(mn=>bt.next(mn),mn=>bt.error(mn),()=>bt.complete()))}))));this.authState=On.pipe(It(Gn),(0,Ee._)(xe.outsideAngular),(0,Ne.Q)(xe.insideAngular)),this.user=On.pipe(It(pt),(0,Ee._)(xe.outsideAngular),(0,Ne.Q)(xe.insideAngular)),this.idToken=this.user.pipe((0,Ve.n)(Et=>Et?(0,Te.H)(Et.getIdToken()):(0,Le.of)(null))),this.idTokenResult=this.user.pipe((0,Ve.n)(Et=>Et?(0,Te.H)(Et.getIdTokenResult()):(0,Le.of)(null))),this.credential=(0,de.h)(On,Jn,this.authState.pipe((0,Oe.p)(Et=>!Et))).pipe((0,ke.T)(Et=>null!=Et&&Et.user?Et:null),(0,Ee._)(xe.outsideAngular),(0,Ne.Q)(xe.insideAngular))}return(0,Se.Gt)(this,Kn,Ue,{spy:{apply:(On,Gn,pt)=>{(On.startsWith("signIn")||On.startsWith("createUser"))&&pt.then(Et=>Jn.next(Et))}}})}}return ae=H,(0,p.A)(H,"\u0275fac",function(X){return new(X||ae)(ne.KVO(Se.rx),ne.KVO(Se.uP,8),ne.KVO(ne.Agw),ne.KVO(ne.SKi),ne.KVO(he.u0),ne.KVO(at,8),ne.KVO(Ze,8),ne.KVO($e,8),ne.KVO(Lt,8),ne.KVO(un,8),ne.KVO(vt,8),ne.KVO(he.Jv,8))}),(0,p.A)(H,"\u0275prov",ne.jDH({token:ae,factory:ae.\u0275fac,providedIn:"any"})),H})()},9253:(fn,dt,L)=>{"use strict";L.d(dt,{BM:()=>Ve,Gt:()=>ne,e7:()=>he,iB:()=>He,rx:()=>re,uP:()=>Le});var p=L(4438),c=L(7935);const J=["ngOnDestroy"],ne=(qe,Ye,At,rt={})=>new Proxy(qe,{get:(It,Ee)=>At.runOutsideAngular(()=>{var Oe;if(qe[Ee])return null!=rt&&null!==(Oe=rt.spy)&&void 0!==Oe&&Oe.get&&rt.spy.get(Ee,qe[Ee]),qe[Ee];if(J.indexOf(Ee)>-1)return()=>{};const le=Ye.toPromise().then(it=>{const at=null==it?void 0:it[Ee];return"function"==typeof at?at.bind(it):null!=at&&at.then?at.then(Ze=>At.run(()=>Ze)):At.run(()=>at)});return new Proxy(()=>{},{get:(it,at)=>le[at],apply:(it,at,Ze)=>le.then($e=>{var Lt;const un=null==$e?void 0:$e(...Ze);return null!=rt&&null!==(Lt=rt.spy)&&void 0!==Lt&&Lt.apply&&rt.spy.apply(Ee,Ze,un),un})})})}),he=(qe,Ye)=>{Ye.forEach(At=>{Object.getOwnPropertyNames(At.prototype||At).forEach(rt=>{Object.defineProperty(qe.prototype,rt,Object.getOwnPropertyDescriptor(At.prototype||At,rt))})})};class Se{constructor(Ye){return Ye}}const re=new p.nKC("angularfire2.app.options"),Le=new p.nKC("angularfire2.app.name");function He(qe,Ye,At){const It="object"==typeof At&&At||{};It.name=It.name||"string"==typeof At&&At||"[DEFAULT]";const Oe=c.A.apps.filter(le=>le&&le.name===It.name)[0]||Ye.runOutsideAngular(()=>c.A.initializeApp(qe,It));try{if(JSON.stringify(qe)!==JSON.stringify(Oe.options)){const le=!!module.hot;Te("error",`${Oe.name} Firebase App already initialized with different options${le?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Se(Oe)}const Te=(qe,...Ye)=>{(0,p.naY)()&&typeof console<"u"&&console[qe](...Ye)};function Ve(qe,Ye,At,rt,It){const[,Ee,Oe]=globalThis.\u0275AngularfireInstanceCache.find(le=>le[0]===qe)||[];if(Ee)return function ke(qe,Ye){try{return qe.toString()===Ye.toString()}catch{return qe===Ye}}(It,Oe)||(ut("error",`${Ye} was already initialized on the ${At} Firebase App with different settings.${We?" You may need to reload as Firebase is not HMR aware.":""}`),ut("warn",{is:It,was:Oe})),Ee;{const le=rt();return globalThis.\u0275AngularfireInstanceCache.push([qe,le,It]),le}}const We=typeof module<"u"&&!!module.hot,ut=(qe,...Ye)=>{(0,p.naY)()&&typeof console<"u"&&console[qe](...Ye)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1825:(fn,dt,L)=>{"use strict";L.d(dt,{xv:()=>ut,U0:()=>vt,Oe:()=>Lt,u0:()=>it,Jv:()=>rt});var p=L(9842),c=L(4438),J=L(7852);(0,J.registerVersion)("firebase","10.12.2","app");var Se=L(6780),Le=L(9687);const Te=new class He extends Le.q{}(class re extends Se.R{constructor(H,G){super(H,G),this.scheduler=H,this.work=G}schedule(H,G=0){return G>0?super.schedule(H,G):(this.delay=G,this.state=H,this.scheduler.flush(this),this)}execute(H,G){return G>0||this.closed?super.execute(H,G):this._execute(H,G)}requestAsyncId(H,G,X=0){return null!=X&&X>0||null==X&&this.delay>0?super.requestAsyncId(H,G,X):(H.flush(this),0)}});var Ne=L(3236),Ve=L(8141),ke=L(941),We=L(6745);const ut=new c.RxE("ANGULARFIRE2_VERSION");class rt{constructor(){return((ae,H)=>{const G=(0,J.getApps)(),X=[];return G.forEach(Ie=>{Ie.container.getProvider(ae).instances.forEach(Ue=>{X.includes(Ue)||X.push(Ue)})}),X})(It)}}const It="app-check";function Ee(){}class Oe{constructor(H,G=Te){(0,p.A)(this,"zone",void 0),(0,p.A)(this,"delegate",void 0),this.zone=H,this.delegate=G}now(){return this.delegate.now()}schedule(H,G,X){const Ie=this.zone;return this.delegate.schedule(function(Ue){Ie.runGuarded(()=>{H.apply(this,[Ue])})},G,X)}}class le{constructor(H){(0,p.A)(this,"zone",void 0),(0,p.A)(this,"task",null),this.zone=H}call(H,G){const X=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ee,{},Ee,Ee)),G.pipe((0,Ve.M)({next:X,complete:X,error:X})).subscribe(H).add(X)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let it=(()=>{var ae;class H{constructor(X){(0,p.A)(this,"ngZone",void 0),(0,p.A)(this,"outsideAngular",void 0),(0,p.A)(this,"insideAngular",void 0),this.ngZone=X,this.outsideAngular=X.runOutsideAngular(()=>new Oe(Zone.current)),this.insideAngular=X.run(()=>new Oe(Zone.current,Ne.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return ae=H,(0,p.A)(H,"\u0275fac",function(X){return new(X||ae)(c.KVO(c.SKi))}),(0,p.A)(H,"\u0275prov",c.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})),H})();function at(){const ae=globalThis.\u0275AngularFireScheduler;if(!ae)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return ae}function Lt(ae){return ae.pipe((0,ke.Q)(at().outsideAngular))}function vt(ae){return function Xe(ae){return function(G){return(G=G.lift(new le(ae.ngZone))).pipe((0,We._)(ae.outsideAngular),(0,ke.Q)(ae.insideAngular))}}(at())(ae)}},4341:(fn,dt,L)=>{"use strict";L.d(dt,{YN:()=>Ls,zX:()=>wi,VZ:()=>Xs,cz:()=>le,kq:()=>We,vO:()=>bt});var p=L(4438),J=(L(177),L(8455)),ne=L(1985),he=L(3073),Se=L(8750),re=L(3794),Le=L(4360),He=L(6450),Te=L(8496),Ne=L(6354);const We=new p.nKC("");function Ee(z){return null==z||("string"==typeof z||Array.isArray(z))&&0===z.length}const le=new p.nKC("");function H(z){return null}function G(z){return null!=z}function X(z){return(0,p.jNT)(z)?(0,J.H)(z):z}function Ie(z){let O={};return z.forEach(ge=>{O=null!=ge?{...O,...ge}:O}),0===Object.keys(O).length?null:O}function je(z,O){return O.map(ge=>ge(z))}function xe(z){return z.map(O=>function Ue(z){return!z.validate}(O)?O:ge=>O.validate(ge))}function Mn(z){return null!=z?function jt(z){if(!z)return null;const O=z.filter(G);return 0==O.length?null:function(ge){return Ie(je(ge,O))}}(xe(z)):null}function Yt(z){return null!=z?function cn(z){if(!z)return null;const O=z.filter(G);return 0==O.length?null:function(ge){return function de(...z){const O=(0,re.ms)(z),{args:ge,keys:j}=(0,he.D)(z),De=new ne.c(en=>{const{length:Qn}=ge;if(!Qn)return void en.complete();const cr=new Array(Qn);let Bi=Qn,Zo=Qn;for(let Go=0;Go<Qn;Go++){let Vs=!1;(0,Se.Tg)(ge[Go]).subscribe((0,Le._)(en,ul=>{Vs||(Vs=!0,Zo--),cr[Go]=ul},()=>Bi--,void 0,()=>{(!Bi||!Vs)&&(Zo||en.next(j?(0,Te.e)(j,cr):cr),en.complete())}))}});return O?De.pipe((0,He.I)(O)):De}(je(ge,O).map(X)).pipe((0,Ne.T)(Ie))}}(xe(z)):null}class pt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(O){this._rawValidators=O||[],this._composedValidatorFn=Mn(this._rawValidators)}_setAsyncValidators(O){this._rawAsyncValidators=O||[],this._composedAsyncValidatorFn=Yt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(O){this._onDestroyCallbacks.push(O)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(O=>O()),this._onDestroyCallbacks=[]}reset(O=void 0){this.control&&this.control.reset(O)}hasError(O,ge){return!!this.control&&this.control.hasError(O,ge)}getError(O,ge){return this.control?this.control.getError(O,ge):null}}class bt extends pt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}const Mi=new p.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Cr}),Cr="always";function Rr(z){return"number"==typeof z?z:parseFloat(z)}Promise.resolve(),Promise.resolve();let oi=(()=>{var z;class O{constructor(){this._validator=H}ngOnChanges(j){if(this.inputName in j){const De=this.normalizeInput(j[this.inputName].currentValue);this._enabled=this.enabled(De),this._validator=this._enabled?this.createValidator(De):H,this._onChange&&this._onChange()}}validate(j){return this._validator(j)}registerOnValidatorChange(j){this._onChange=j}enabled(j){return null!=j}}return(z=O).\u0275fac=function(j){return new(j||z)},z.\u0275dir=p.FsC({type:z,features:[p.OA$]}),O})();const Oi={provide:le,useExisting:(0,p.Rfq)(()=>wi),multi:!0};let wi=(()=>{var z;class O extends oi{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=j=>Rr(j),this.createValidator=j=>function Lt(z){return O=>{if(Ee(O.value)||Ee(z))return null;const ge=parseFloat(O.value);return!isNaN(ge)&&ge>z?{max:{max:z,actual:O.value}}:null}}(j)}}return(z=O).\u0275fac=(()=>{let ge;return function(De){return(ge||(ge=p.xGo(z)))(De||z)}})(),z.\u0275dir=p.FsC({type:z,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(j,De){2&j&&p.BMQ("max",De._enabled?De.max:null)},inputs:{max:"max"},features:[p.Jv_([Oi]),p.Vt3]}),O})();const jo={provide:le,useExisting:(0,p.Rfq)(()=>Xs),multi:!0};let Xs=(()=>{var z;class O extends oi{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=j=>Rr(j),this.createValidator=j=>function $e(z){return O=>{if(Ee(O.value)||Ee(z))return null;const ge=parseFloat(O.value);return!isNaN(ge)&&ge<z?{min:{min:z,actual:O.value}}:null}}(j)}}return(z=O).\u0275fac=(()=>{let ge;return function(De){return(ge||(ge=p.xGo(z)))(De||z)}})(),z.\u0275dir=p.FsC({type:z,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(j,De){2&j&&p.BMQ("min",De._enabled?De.min:null)},inputs:{min:"min"},features:[p.Jv_([jo]),p.Vt3]}),O})(),bs=(()=>{var z;class O{}return(z=O).\u0275fac=function(j){return new(j||z)},z.\u0275mod=p.$C({type:z}),z.\u0275inj=p.G2t({}),O})(),Ls=(()=>{var z;class O{static withConfig(j){var De;return{ngModule:O,providers:[{provide:Mi,useValue:null!==(De=j.callSetDisabledState)&&void 0!==De?De:Cr}]}}}return(z=O).\u0275fac=function(j){return new(j||z)},z.\u0275mod=p.$C({type:z}),z.\u0275inj=p.G2t({imports:[bs]}),O})()},345:(fn,dt,L)=>{"use strict";L.d(dt,{Bb:()=>Jn,hE:()=>Gn,sG:()=>Yt});var p=L(4438),c=L(177);class J extends c.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ne extends J{static makeCurrent(){(0,c.ZD)(new ne)}onAndCancel(et,Nt,Je){return et.addEventListener(Nt,Je),()=>{et.removeEventListener(Nt,Je)}}dispatchEvent(et,Nt){et.dispatchEvent(Nt)}remove(et){et.parentNode&&et.parentNode.removeChild(et)}createElement(et,Nt){return(Nt=Nt||this.getDefaultDocument()).createElement(et)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(et){return et.nodeType===Node.ELEMENT_NODE}isShadowRoot(et){return et instanceof DocumentFragment}getGlobalEventTarget(et,Nt){return"window"===Nt?window:"document"===Nt?et:"body"===Nt?et.body:null}getBaseHref(et){const Nt=function Se(){return he=he||document.querySelector("base"),he?he.getAttribute("href"):null}();return null==Nt?null:function re(ft){return new URL(ft,document.baseURI).pathname}(Nt)}resetBaseElement(){he=null}getUserAgent(){return window.navigator.userAgent}getCookie(et){return(0,c._b)(document.cookie,et)}}let he=null,He=(()=>{var ft;class et{build(){return new XMLHttpRequest}}return(ft=et).\u0275fac=function(Je){return new(Je||ft)},ft.\u0275prov=p.jDH({token:ft,factory:ft.\u0275fac}),et})();const Te=new p.nKC("");let de=(()=>{var ft;class et{constructor(Je,ce){this._zone=ce,this._eventNameToPlugin=new Map,Je.forEach(pe=>{pe.manager=this}),this._plugins=Je.slice().reverse()}addEventListener(Je,ce,pe){return this._findPluginFor(ce).addEventListener(Je,ce,pe)}getZone(){return this._zone}_findPluginFor(Je){let ce=this._eventNameToPlugin.get(Je);if(ce)return ce;if(ce=this._plugins.find(Fe=>Fe.supports(Je)),!ce)throw new p.wOt(5101,!1);return this._eventNameToPlugin.set(Je,ce),ce}}return(ft=et).\u0275fac=function(Je){return new(Je||ft)(p.KVO(Te),p.KVO(p.SKi))},ft.\u0275prov=p.jDH({token:ft,factory:ft.\u0275fac}),et})();class Ne{constructor(et){this._doc=et}}const Ve="ng-app-id";let ke=(()=>{var ft;class et{constructor(Je,ce,pe,Fe={}){this.doc=Je,this.appId=ce,this.nonce=pe,this.platformId=Fe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,c.Vy)(Fe),this.resetHostNodes()}addStyles(Je){for(const ce of Je)1===this.changeUsageCount(ce,1)&&this.onStyleAdded(ce)}removeStyles(Je){for(const ce of Je)this.changeUsageCount(ce,-1)<=0&&this.onStyleRemoved(ce)}ngOnDestroy(){const Je=this.styleNodesInDOM;Je&&(Je.forEach(ce=>ce.remove()),Je.clear());for(const ce of this.getAllStyles())this.onStyleRemoved(ce);this.resetHostNodes()}addHost(Je){this.hostNodes.add(Je);for(const ce of this.getAllStyles())this.addStyleToHost(Je,ce)}removeHost(Je){this.hostNodes.delete(Je)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Je){for(const ce of this.hostNodes)this.addStyleToHost(ce,Je)}onStyleRemoved(Je){var ce;const pe=this.styleRef;null===(ce=pe.get(Je))||void 0===ce||null===(ce=ce.elements)||void 0===ce||ce.forEach(Fe=>Fe.remove()),pe.delete(Je)}collectServerRenderedStyles(){var Je;const ce=null===(Je=this.doc.head)||void 0===Je?void 0:Je.querySelectorAll(`style[${Ve}="${this.appId}"]`);if(null!=ce&&ce.length){const pe=new Map;return ce.forEach(Fe=>{null!=Fe.textContent&&pe.set(Fe.textContent,Fe)}),pe}return null}changeUsageCount(Je,ce){const pe=this.styleRef;if(pe.has(Je)){const Fe=pe.get(Je);return Fe.usage+=ce,Fe.usage}return pe.set(Je,{usage:ce,elements:[]}),ce}getStyleElement(Je,ce){const pe=this.styleNodesInDOM,Fe=null==pe?void 0:pe.get(ce);if((null==Fe?void 0:Fe.parentNode)===Je)return pe.delete(ce),Fe.removeAttribute(Ve),Fe;{const xt=this.doc.createElement("style");return this.nonce&&xt.setAttribute("nonce",this.nonce),xt.textContent=ce,this.platformIsServer&&xt.setAttribute(Ve,this.appId),Je.appendChild(xt),xt}}addStyleToHost(Je,ce){var pe;const Fe=this.getStyleElement(Je,ce),xt=this.styleRef,_t=null===(pe=xt.get(ce))||void 0===pe?void 0:pe.elements;_t?_t.push(Fe):xt.set(ce,{elements:[Fe],usage:1})}resetHostNodes(){const Je=this.hostNodes;Je.clear(),Je.add(this.doc.head)}}return(ft=et).\u0275fac=function(Je){return new(Je||ft)(p.KVO(c.qQ),p.KVO(p.sZ2),p.KVO(p.BIS,8),p.KVO(p.Agw))},ft.\u0275prov=p.jDH({token:ft,factory:ft.\u0275fac}),et})();const We={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ut=/%COMP%/g,It=new p.nKC("",{providedIn:"root",factory:()=>!0});function le(ft,et){return et.map(Nt=>Nt.replace(ut,ft))}let it=(()=>{var ft;class et{constructor(Je,ce,pe,Fe,xt,_t,dn,Cn=null){this.eventManager=Je,this.sharedStylesHost=ce,this.appId=pe,this.removeStylesOnCompDestroy=Fe,this.doc=xt,this.platformId=_t,this.ngZone=dn,this.nonce=Cn,this.rendererByCompId=new Map,this.platformIsServer=(0,c.Vy)(_t),this.defaultRenderer=new at(Je,xt,dn,this.platformIsServer)}createRenderer(Je,ce){if(!Je||!ce)return this.defaultRenderer;this.platformIsServer&&ce.encapsulation===p.gXe.ShadowDom&&(ce={...ce,encapsulation:p.gXe.Emulated});const pe=this.getOrCreateRenderer(Je,ce);return pe instanceof Xe?pe.applyToHost(Je):pe instanceof vt&&pe.applyStyles(),pe}getOrCreateRenderer(Je,ce){const pe=this.rendererByCompId;let Fe=pe.get(ce.id);if(!Fe){const xt=this.doc,_t=this.ngZone,dn=this.eventManager,Cn=this.sharedStylesHost,tr=this.removeStylesOnCompDestroy,ar=this.platformIsServer;switch(ce.encapsulation){case p.gXe.Emulated:Fe=new Xe(dn,Cn,ce,this.appId,tr,xt,_t,ar);break;case p.gXe.ShadowDom:return new un(dn,Cn,Je,ce,xt,_t,this.nonce,ar);default:Fe=new vt(dn,Cn,ce,tr,xt,_t,ar)}pe.set(ce.id,Fe)}return Fe}ngOnDestroy(){this.rendererByCompId.clear()}}return(ft=et).\u0275fac=function(Je){return new(Je||ft)(p.KVO(de),p.KVO(ke),p.KVO(p.sZ2),p.KVO(It),p.KVO(c.qQ),p.KVO(p.Agw),p.KVO(p.SKi),p.KVO(p.BIS))},ft.\u0275prov=p.jDH({token:ft,factory:ft.\u0275fac}),et})();class at{constructor(et,Nt,Je,ce){this.eventManager=et,this.doc=Nt,this.ngZone=Je,this.platformIsServer=ce,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(et,Nt){return Nt?this.doc.createElementNS(We[Nt]||Nt,et):this.doc.createElement(et)}createComment(et){return this.doc.createComment(et)}createText(et){return this.doc.createTextNode(et)}appendChild(et,Nt){(Lt(et)?et.content:et).appendChild(Nt)}insertBefore(et,Nt,Je){et&&(Lt(et)?et.content:et).insertBefore(Nt,Je)}removeChild(et,Nt){et&&et.removeChild(Nt)}selectRootElement(et,Nt){let Je="string"==typeof et?this.doc.querySelector(et):et;if(!Je)throw new p.wOt(-5104,!1);return Nt||(Je.textContent=""),Je}parentNode(et){return et.parentNode}nextSibling(et){return et.nextSibling}setAttribute(et,Nt,Je,ce){if(ce){Nt=ce+":"+Nt;const pe=We[ce];pe?et.setAttributeNS(pe,Nt,Je):et.setAttribute(Nt,Je)}else et.setAttribute(Nt,Je)}removeAttribute(et,Nt,Je){if(Je){const ce=We[Je];ce?et.removeAttributeNS(ce,Nt):et.removeAttribute(`${Je}:${Nt}`)}else et.removeAttribute(Nt)}addClass(et,Nt){et.classList.add(Nt)}removeClass(et,Nt){et.classList.remove(Nt)}setStyle(et,Nt,Je,ce){ce&(p.czy.DashCase|p.czy.Important)?et.style.setProperty(Nt,Je,ce&p.czy.Important?"important":""):et.style[Nt]=Je}removeStyle(et,Nt,Je){Je&p.czy.DashCase?et.style.removeProperty(Nt):et.style[Nt]=""}setProperty(et,Nt,Je){null!=et&&(et[Nt]=Je)}setValue(et,Nt){et.nodeValue=Nt}listen(et,Nt,Je){if("string"==typeof et&&!(et=(0,c.QT)().getGlobalEventTarget(this.doc,et)))throw new Error(`Unsupported event target ${et} for event ${Nt}`);return this.eventManager.addEventListener(et,Nt,this.decoratePreventDefault(Je))}decoratePreventDefault(et){return Nt=>{if("__ngUnwrap__"===Nt)return et;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>et(Nt)):et(Nt))&&Nt.preventDefault()}}}function Lt(ft){return"TEMPLATE"===ft.tagName&&void 0!==ft.content}class un extends at{constructor(et,Nt,Je,ce,pe,Fe,xt,_t){super(et,pe,Fe,_t),this.sharedStylesHost=Nt,this.hostEl=Je,this.shadowRoot=Je.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const dn=le(ce.id,ce.styles);for(const Cn of dn){const tr=document.createElement("style");xt&&tr.setAttribute("nonce",xt),tr.textContent=Cn,this.shadowRoot.appendChild(tr)}}nodeOrShadowRoot(et){return et===this.hostEl?this.shadowRoot:et}appendChild(et,Nt){return super.appendChild(this.nodeOrShadowRoot(et),Nt)}insertBefore(et,Nt,Je){return super.insertBefore(this.nodeOrShadowRoot(et),Nt,Je)}removeChild(et,Nt){return super.removeChild(this.nodeOrShadowRoot(et),Nt)}parentNode(et){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(et)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class vt extends at{constructor(et,Nt,Je,ce,pe,Fe,xt,_t){super(et,pe,Fe,xt),this.sharedStylesHost=Nt,this.removeStylesOnCompDestroy=ce,this.styles=_t?le(_t,Je.styles):Je.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Xe extends vt{constructor(et,Nt,Je,ce,pe,Fe,xt,_t){const dn=ce+"-"+Je.id;super(et,Nt,Je,pe,Fe,xt,_t,dn),this.contentAttr=function Ee(ft){return"_ngcontent-%COMP%".replace(ut,ft)}(dn),this.hostAttr=function Oe(ft){return"_nghost-%COMP%".replace(ut,ft)}(dn)}applyToHost(et){this.applyStyles(),this.setAttribute(et,this.hostAttr,"")}createElement(et,Nt){const Je=super.createElement(et,Nt);return super.setAttribute(Je,this.contentAttr,""),Je}}let ht=(()=>{var ft;class et extends Ne{constructor(Je){super(Je)}supports(Je){return!0}addEventListener(Je,ce,pe){return Je.addEventListener(ce,pe,!1),()=>this.removeEventListener(Je,ce,pe)}removeEventListener(Je,ce,pe){return Je.removeEventListener(ce,pe)}}return(ft=et).\u0275fac=function(Je){return new(Je||ft)(p.KVO(c.qQ))},ft.\u0275prov=p.jDH({token:ft,factory:ft.\u0275fac}),et})();const Be=["alt","control","meta","shift"],ae={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},H={alt:ft=>ft.altKey,control:ft=>ft.ctrlKey,meta:ft=>ft.metaKey,shift:ft=>ft.shiftKey};let G=(()=>{var ft;class et extends Ne{constructor(Je){super(Je)}supports(Je){return null!=et.parseEventName(Je)}addEventListener(Je,ce,pe){const Fe=et.parseEventName(ce),xt=et.eventCallback(Fe.fullKey,pe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.QT)().onAndCancel(Je,Fe.domEventName,xt))}static parseEventName(Je){const ce=Je.toLowerCase().split("."),pe=ce.shift();if(0===ce.length||"keydown"!==pe&&"keyup"!==pe)return null;const Fe=et._normalizeKey(ce.pop());let xt="",_t=ce.indexOf("code");if(_t>-1&&(ce.splice(_t,1),xt="code."),Be.forEach(Cn=>{const tr=ce.indexOf(Cn);tr>-1&&(ce.splice(tr,1),xt+=Cn+".")}),xt+=Fe,0!=ce.length||0===Fe.length)return null;const dn={};return dn.domEventName=pe,dn.fullKey=xt,dn}static matchEventFullKeyCode(Je,ce){let pe=ae[Je.key]||Je.key,Fe="";return ce.indexOf("code.")>-1&&(pe=Je.code,Fe="code."),!(null==pe||!pe)&&(pe=pe.toLowerCase()," "===pe?pe="space":"."===pe&&(pe="dot"),Be.forEach(xt=>{xt!==pe&&(0,H[xt])(Je)&&(Fe+=xt+".")}),Fe+=pe,Fe===ce)}static eventCallback(Je,ce,pe){return Fe=>{et.matchEventFullKeyCode(Fe,Je)&&pe.runGuarded(()=>ce(Fe))}}static _normalizeKey(Je){return"esc"===Je?"escape":Je}}return(ft=et).\u0275fac=function(Je){return new(Je||ft)(p.KVO(c.qQ))},ft.\u0275prov=p.jDH({token:ft,factory:ft.\u0275fac}),et})();const Yt=(0,p.oH4)(p.fpN,"browser",[{provide:p.Agw,useValue:c.AJ},{provide:p.PLl,useValue:function xe(){ne.makeCurrent()},multi:!0},{provide:c.qQ,useFactory:function Mn(){return(0,p.TL$)(document),document},deps:[]}]),Sn=new p.nKC(""),Wn=[{provide:p.e01,useClass:class Le{addToWindow(et){p.JZv.getAngularTestability=(Je,ce=!0)=>{const pe=et.findTestabilityInTree(Je,ce);if(null==pe)throw new p.wOt(5103,!1);return pe},p.JZv.getAllAngularTestabilities=()=>et.getAllTestabilities(),p.JZv.getAllAngularRootElements=()=>et.getAllRootElements(),p.JZv.frameworkStabilizers||(p.JZv.frameworkStabilizers=[]),p.JZv.frameworkStabilizers.push(Je=>{const ce=p.JZv.getAllAngularTestabilities();let pe=ce.length;const Fe=function(){pe--,0==pe&&Je()};ce.forEach(xt=>{xt.whenStable(Fe)})})}findTestabilityInTree(et,Nt,Je){if(null==Nt)return null;const ce=et.getTestability(Nt);return null!=ce?ce:Je?(0,c.QT)().isShadowRoot(Nt)?this.findTestabilityInTree(et,Nt.host,!0):this.findTestabilityInTree(et,Nt.parentElement,!0):null}},deps:[]},{provide:p.WHO,useClass:p.NYb,deps:[p.SKi,p.giA,p.e01]},{provide:p.NYb,useClass:p.NYb,deps:[p.SKi,p.giA,p.e01]}],lr=[{provide:p.H8p,useValue:"root"},{provide:p.zcH,useFactory:function jt(){return new p.zcH},deps:[]},{provide:Te,useClass:ht,multi:!0,deps:[c.qQ,p.SKi,p.Agw]},{provide:Te,useClass:G,multi:!0,deps:[c.qQ]},it,ke,de,{provide:p._9s,useExisting:it},{provide:c.N0,useClass:He,deps:[]},[]];let Jn=(()=>{var ft;class et{constructor(Je){}static withServerTransition(Je){return{ngModule:et,providers:[{provide:p.sZ2,useValue:Je.appId}]}}}return(ft=et).\u0275fac=function(Je){return new(Je||ft)(p.KVO(Sn,12))},ft.\u0275mod=p.$C({type:ft}),ft.\u0275inj=p.G2t({providers:[...lr,...Wn],imports:[c.MD,p.Hbi]}),et})(),Gn=(()=>{var ft;class et{constructor(Je){this._doc=Je}getTitle(){return this._doc.title}setTitle(Je){this._doc.title=Je||""}}return(ft=et).\u0275fac=function(Je){return new(Je||ft)(p.KVO(c.qQ))},ft.\u0275prov=p.jDH({token:ft,factory:ft.\u0275fac,providedIn:"root"}),et})()},4964:(fn,dt,L)=>{"use strict";L.d(dt,{nX:()=>ve,Zp:()=>Ts,Z:()=>To,Xk:()=>Yt,Kp:()=>hi,b:()=>on,Ix:()=>Rn,Wk:()=>Mr,iI:()=>js,Sd:()=>Bn});var p=L(467),c=L(4438),J=L(1985),ne=L(8071),Se=L(8455),re=L(7673),Le=L(4412),He=L(4572),Te=L(9350),de=L(8793),Ne=L(8750);function Ve(E){return new J.c(b=>{(0,Ne.Tg)(E()).subscribe(b)})}var ke=L(1203);function We(E,b){const P=(0,ne.T)(E)?E:()=>E,w=N=>N.error(P());return new J.c(b?N=>b.schedule(w,0,N):w)}var ut=L(983),qe=L(8359),Ye=L(9974),At=L(4360);function rt(){return(0,Ye.N)((E,b)=>{let P=null;E._refCount++;const w=(0,At._)(b,void 0,void 0,void 0,()=>{if(!E||E._refCount<=0||0<--E._refCount)return void(P=null);const N=E._connection,ie=P;P=null,N&&(!ie||N===ie)&&N.unsubscribe(),b.unsubscribe()});E.subscribe(w),w.closed||(P=E.connect())})}class It extends J.c{constructor(b,P){super(),this.source=b,this.subjectFactory=P,this._subject=null,this._refCount=0,this._connection=null,(0,Ye.S)(b)&&(this.lift=b.lift)}_subscribe(b){return this.getSubject().subscribe(b)}getSubject(){const b=this._subject;return(!b||b.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:b}=this;this._subject=this._connection=null,null==b||b.unsubscribe()}connect(){let b=this._connection;if(!b){b=this._connection=new qe.yU;const P=this.getSubject();b.add(this.source.subscribe((0,At._)(P,void 0,()=>{this._teardown(),P.complete()},w=>{this._teardown(),P.error(w)},()=>this._teardown()))),b.closed&&(this._connection=null,b=qe.yU.EMPTY)}return b}refCount(){return rt()(this)}}var Ee=L(1413),Oe=L(177),le=L(6354),it=L(5558),at=L(6697),Ze=L(9172),$e=L(5964),Lt=L(1397),un=L(1594);function vt(E,b){return(0,ne.T)(b)?(0,Lt.Z)(E,b,1):(0,Lt.Z)(E,1)}var Xe=L(8141);function ht(E){return(0,Ye.N)((b,P)=>{let ie,w=null,N=!1;w=b.subscribe((0,At._)(P,void 0,void 0,_e=>{ie=(0,Ne.Tg)(E(_e,ht(E)(b))),w?(w.unsubscribe(),w=null,ie.subscribe(P)):N=!0})),N&&(w.unsubscribe(),w=null,ie.subscribe(P))})}var Be=L(2816),ae=L(9901);function H(E){return E<=0?()=>ut.w:(0,Ye.N)((b,P)=>{let w=[];b.subscribe((0,At._)(P,N=>{w.push(N),E<w.length&&w.shift()},()=>{for(const N of w)P.next(N);P.complete()},void 0,()=>{w=null}))})}var G=L(3774),X=L(3669);function Ue(E){return(0,Ye.N)((b,P)=>{try{b.subscribe(P)}finally{P.add(E)}})}var xe=L(5343),Mn=L(6365),cn=L(345);const Yt="primary",Sn=Symbol("RouteTitle");class Wn{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const P=this.params[b];return Array.isArray(P)?P[0]:P}return null}getAll(b){if(this.has(b)){const P=this.params[b];return Array.isArray(P)?P:[P]}return[]}get keys(){return Object.keys(this.params)}}function lr(E){return new Wn(E)}function Jn(E,b,P){const w=P.path.split("/");if(w.length>E.length||"full"===P.pathMatch&&(b.hasChildren()||w.length<E.length))return null;const N={};for(let ie=0;ie<w.length;ie++){const _e=w[ie],ct=E[ie];if(_e.startsWith(":"))N[_e.substring(1)]=ct;else if(_e!==ct.path)return null}return{consumed:E.slice(0,w.length),posParams:N}}function On(E,b){const P=E?Gn(E):void 0,w=b?Gn(b):void 0;if(!P||!w||P.length!=w.length)return!1;let N;for(let ie=0;ie<P.length;ie++)if(N=P[ie],!pt(E[N],b[N]))return!1;return!0}function Gn(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}function pt(E,b){if(Array.isArray(E)&&Array.isArray(b)){if(E.length!==b.length)return!1;const P=[...E].sort(),w=[...b].sort();return P.every((N,ie)=>w[ie]===N)}return E===b}function Et(E){return E.length>0?E[E.length-1]:null}function bt(E){return function he(E){return!!E&&(E instanceof J.c||(0,ne.T)(E.lift)&&(0,ne.T)(E.subscribe))}(E)?E:(0,c.jNT)(E)?(0,Se.H)(Promise.resolve(E)):(0,re.of)(E)}const mn={exact:function En(E,b,P){if(!Zr(E.segments,b.segments)||!hr(E.segments,b.segments,P)||E.numberOfChildren!==b.numberOfChildren)return!1;for(const w in b.children)if(!E.children[w]||!En(E.children[w],b.children[w],P))return!1;return!0},subset:er},Yn={exact:function Zn(E,b){return On(E,b)},subset:function vn(E,b){return Object.keys(b).length<=Object.keys(E).length&&Object.keys(b).every(P=>pt(E[P],b[P]))},ignored:()=>!0};function Fr(E,b,P){return mn[P.paths](E.root,b.root,P.matrixParams)&&Yn[P.queryParams](E.queryParams,b.queryParams)&&!("exact"===P.fragment&&E.fragment!==b.fragment)}function er(E,b,P){return gr(E,b,b.segments,P)}function gr(E,b,P,w){if(E.segments.length>P.length){const N=E.segments.slice(0,P.length);return!(!Zr(N,P)||b.hasChildren()||!hr(N,P,w))}if(E.segments.length===P.length){if(!Zr(E.segments,P)||!hr(E.segments,P,w))return!1;for(const N in b.children)if(!E.children[N]||!er(E.children[N],b.children[N],w))return!1;return!0}{const N=P.slice(0,E.segments.length),ie=P.slice(E.segments.length);return!!(Zr(E.segments,N)&&hr(E.segments,N,w)&&E.children[Yt])&&gr(E.children[Yt],b,ie,w)}}function hr(E,b,P){return b.every((w,N)=>Yn[P](E[N].parameters,w.parameters))}class Gr{constructor(b=new Pn([],{}),P={},w=null){this.root=b,this.queryParams=P,this.fragment=w}get queryParamMap(){var b;return null!==(b=this._queryParamMap)&&void 0!==b||(this._queryParamMap=lr(this.queryParams)),this._queryParamMap}toString(){return dr.serialize(this)}}class Pn{constructor(b,P){this.segments=b,this.children=P,this.parent=null,Object.values(P).forEach(w=>w.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jr(this)}}class Pr{constructor(b,P){this.path=b,this.parameters=P}get parameterMap(){var b;return null!==(b=this._parameterMap)&&void 0!==b||(this._parameterMap=lr(this.parameters)),this._parameterMap}toString(){return ce(this)}}function Zr(E,b){return E.length===b.length&&E.every((P,w)=>P.path===b[w].path)}let Bn=(()=>{var E;class b{}return(E=b).\u0275fac=function(w){return new(w||E)},E.\u0275prov=c.jDH({token:E,factory:()=>new mi,providedIn:"root"}),b})();class mi{parse(b){const P=new Vn(b);return new Gr(P.parseRootSegment(),P.parseQueryParams(),P.parseFragment())}serialize(b){const P=`/${vi(b.root,!0)}`,w=function Fe(E){const b=Object.entries(E).map(([P,w])=>Array.isArray(w)?w.map(N=>`${Qr(P)}=${Qr(N)}`).join("&"):`${Qr(P)}=${Qr(w)}`).filter(P=>P);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${P}${w}${"string"==typeof b.fragment?`#${function ft(E){return encodeURI(E)}(b.fragment)}`:""}`}}const dr=new mi;function Jr(E){return E.segments.map(b=>ce(b)).join("/")}function vi(E,b){if(!E.hasChildren())return Jr(E);if(b){const P=E.children[Yt]?vi(E.children[Yt],!1):"",w=[];return Object.entries(E.children).forEach(([N,ie])=>{N!==Yt&&w.push(`${N}:${vi(ie,!1)}`)}),w.length>0?`${P}(${w.join("//")})`:P}{const P=function fr(E,b){let P=[];return Object.entries(E.children).forEach(([w,N])=>{w===Yt&&(P=P.concat(b(N,w)))}),Object.entries(E.children).forEach(([w,N])=>{w!==Yt&&(P=P.concat(b(N,w)))}),P}(E,(w,N)=>N===Yt?[vi(E.children[Yt],!1)]:[`${N}:${vi(w,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[Yt]?`${Jr(E)}/${P[0]}`:`${Jr(E)}/(${P.join("//")})`}}function Pi(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qr(E){return Pi(E).replace(/%3B/gi,";")}function et(E){return Pi(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nt(E){return decodeURIComponent(E)}function Je(E){return Nt(E.replace(/\+/g,"%20"))}function ce(E){return`${et(E.path)}${function pe(E){return Object.entries(E).map(([b,P])=>`;${et(b)}=${et(P)}`).join("")}(E.parameters)}`}const xt=/^[^\/()?;#]+/;function _t(E){const b=E.match(xt);return b?b[0]:""}const dn=/^[^\/()?;=#]+/,tr=/^[^=?&#]+/,Wr=/^[^&#]+/;class Vn{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pn([],{}):new Pn([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let P={};this.peekStartsWith("/(")&&(this.capture("/"),P=this.parseParens(!0));let w={};return this.peekStartsWith("(")&&(w=this.parseParens(!1)),(b.length>0||Object.keys(P).length>0)&&(w[Yt]=new Pn(b,P)),w}parseSegment(){const b=_t(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new c.wOt(4009,!1);return this.capture(b),new Pr(Nt(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const P=function Cn(E){const b=E.match(dn);return b?b[0]:""}(this.remaining);if(!P)return;this.capture(P);let w="";if(this.consumeOptional("=")){const N=_t(this.remaining);N&&(w=N,this.capture(w))}b[Nt(P)]=Nt(w)}parseQueryParam(b){const P=function ar(E){const b=E.match(tr);return b?b[0]:""}(this.remaining);if(!P)return;this.capture(P);let w="";if(this.consumeOptional("=")){const _e=function ri(E){const b=E.match(Wr);return b?b[0]:""}(this.remaining);_e&&(w=_e,this.capture(w))}const N=Je(P),ie=Je(w);if(b.hasOwnProperty(N)){let _e=b[N];Array.isArray(_e)||(_e=[_e],b[N]=_e),_e.push(ie)}else b[N]=ie}parseParens(b){const P={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const w=_t(this.remaining),N=this.remaining[w.length];if("/"!==N&&")"!==N&&";"!==N)throw new c.wOt(4010,!1);let ie;w.indexOf(":")>-1?(ie=w.slice(0,w.indexOf(":")),this.capture(ie),this.capture(":")):b&&(ie=Yt);const _e=this.parseChildren();P[ie]=1===Object.keys(_e).length?_e[Yt]:new Pn([],_e),this.consumeOptional("//")}return P}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new c.wOt(4011,!1)}}function In(E){return E.segments.length>0?new Pn([],{[Yt]:E}):E}function ei(E){const b={};for(const[w,N]of Object.entries(E.children)){const ie=ei(N);if(w===Yt&&0===ie.segments.length&&ie.hasChildren())for(const[_e,ct]of Object.entries(ie.children))b[_e]=ct;else(ie.segments.length>0||ie.hasChildren())&&(b[w]=ie)}return function Mi(E){if(1===E.numberOfChildren&&E.children[Yt]){const b=E.children[Yt];return new Pn(E.segments.concat(b.segments),b.children)}return E}(new Pn(E.segments,b))}function Cr(E){return E instanceof Gr}function _i(E){var b;let P;const ie=In(function w(_e){const ct={};for(const St of _e.children){const ln=w(St);ct[St.outlet]=ln}const tn=new Pn(_e.url,ct);return _e===E&&(P=tn),tn}(E.root));return null!==(b=P)&&void 0!==b?b:ie}function nr(E,b,P,w){let N=E;for(;N.parent;)N=N.parent;if(0===b.length)return li(N,N,N,P,w);const ie=function Q(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new Y(!0,0,E);let b=0,P=!1;const w=E.reduce((N,ie,_e)=>{if("object"==typeof ie&&null!=ie){if(ie.outlets){const ct={};return Object.entries(ie.outlets).forEach(([tn,St])=>{ct[tn]="string"==typeof St?St.split("/"):St}),[...N,{outlets:ct}]}if(ie.segmentPath)return[...N,ie.segmentPath]}return"string"!=typeof ie?[...N,ie]:0===_e?(ie.split("/").forEach((ct,tn)=>{0==tn&&"."===ct||(0==tn&&""===ct?P=!0:".."===ct?b++:""!=ct&&N.push(ct))}),N):[...N,ie]},[]);return new Y(P,b,w)}(b);if(ie.toRoot())return li(N,N,new Pn([],{}),P,w);const _e=function te(E,b,P){if(E.isAbsolute)return new Pe(b,!0,0);if(!P)return new Pe(b,!1,NaN);if(null===P.parent)return new Pe(P,!0,0);const w=Fi(E.commands[0])?0:1;return function Z(E,b,P){let w=E,N=b,ie=P;for(;ie>N;){if(ie-=N,w=w.parent,!w)throw new c.wOt(4005,!1);N=w.segments.length}return new Pe(w,!1,N-ie)}(P,P.segments.length-1+w,E.numberOfDoubleDots)}(ie,N,E),ct=_e.processChildren?wt(_e.segmentGroup,_e.index,ie.commands):Tt(_e.segmentGroup,_e.index,ie.commands);return li(N,_e.segmentGroup,ct,P,w)}function Fi(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function Li(E){return"object"==typeof E&&null!=E&&E.outlets}function li(E,b,P,w,N){let _e,ie={};w&&Object.entries(w).forEach(([tn,St])=>{ie[tn]=Array.isArray(St)?St.map(ln=>`${ln}`):`${St}`}),_e=E===b?P:Ft(E,b,P);const ct=In(ei(_e));return new Gr(ct,ie,N)}function Ft(E,b,P){const w={};return Object.entries(E.children).forEach(([N,ie])=>{w[N]=ie===b?P:Ft(ie,b,P)}),new Pn(E.segments,w)}class Y{constructor(b,P,w){if(this.isAbsolute=b,this.numberOfDoubleDots=P,this.commands=w,b&&w.length>0&&Fi(w[0]))throw new c.wOt(4003,!1);const N=w.find(Li);if(N&&N!==Et(w))throw new c.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pe{constructor(b,P,w){this.segmentGroup=b,this.processChildren=P,this.index=w}}function Tt(E,b,P){var w;if(null!==(w=E)&&void 0!==w||(E=new Pn([],{})),0===E.segments.length&&E.hasChildren())return wt(E,b,P);const N=function hn(E,b,P){let w=0,N=b;const ie={match:!1,pathIndex:0,commandIndex:0};for(;N<E.segments.length;){if(w>=P.length)return ie;const _e=E.segments[N],ct=P[w];if(Li(ct))break;const tn=`${ct}`,St=w<P.length-1?P[w+1]:null;if(N>0&&void 0===tn)break;if(tn&&St&&"object"==typeof St&&void 0===St.outlets){if(!Ki(tn,St,_e))return ie;w+=2}else{if(!Ki(tn,{},_e))return ie;w++}N++}return{match:!0,pathIndex:N,commandIndex:w}}(E,b,P),ie=P.slice(N.commandIndex);if(N.match&&N.pathIndex<E.segments.length){const _e=new Pn(E.segments.slice(0,N.pathIndex),{});return _e.children[Yt]=new Pn(E.segments.slice(N.pathIndex),E.children),wt(_e,0,ie)}return N.match&&0===ie.length?new Pn(E.segments,{}):N.match&&!E.hasChildren()?$n(E,b,P):N.match?wt(E,0,ie):$n(E,b,P)}function wt(E,b,P){if(0===P.length)return new Pn(E.segments,{});{const w=function Re(E){return Li(E[0])?E[0].outlets:{[Yt]:E}}(P),N={};if(Object.keys(w).some(ie=>ie!==Yt)&&E.children[Yt]&&1===E.numberOfChildren&&0===E.children[Yt].segments.length){const ie=wt(E.children[Yt],b,P);return new Pn(E.segments,ie.children)}return Object.entries(w).forEach(([ie,_e])=>{"string"==typeof _e&&(_e=[_e]),null!==_e&&(N[ie]=Tt(E.children[ie],b,_e))}),Object.entries(E.children).forEach(([ie,_e])=>{void 0===w[ie]&&(N[ie]=_e)}),new Pn(E.segments,N)}}function $n(E,b,P){const w=E.segments.slice(0,b);let N=0;for(;N<P.length;){const ie=P[N];if(Li(ie)){const tn=mr(ie.outlets);return new Pn(w,tn)}if(0===N&&Fi(P[0])){w.push(new Pr(E.segments[b].path,rr(P[0]))),N++;continue}const _e=Li(ie)?ie.outlets[Yt]:`${ie}`,ct=N<P.length-1?P[N+1]:null;_e&&ct&&Fi(ct)?(w.push(new Pr(_e,rr(ct))),N+=2):(w.push(new Pr(_e,{})),N++)}return new Pn(w,{})}function mr(E){const b={};return Object.entries(E).forEach(([P,w])=>{"string"==typeof w&&(w=[w]),null!==w&&(b[P]=$n(new Pn([],{}),0,w))}),b}function rr(E){const b={};return Object.entries(E).forEach(([P,w])=>b[P]=`${w}`),b}function Ki(E,b,P){return E==P.path&&On(b,P.parameters)}const ai="imperative";var Xn=function(E){return E[E.NavigationStart=0]="NavigationStart",E[E.NavigationEnd=1]="NavigationEnd",E[E.NavigationCancel=2]="NavigationCancel",E[E.NavigationError=3]="NavigationError",E[E.RoutesRecognized=4]="RoutesRecognized",E[E.ResolveStart=5]="ResolveStart",E[E.ResolveEnd=6]="ResolveEnd",E[E.GuardsCheckStart=7]="GuardsCheckStart",E[E.GuardsCheckEnd=8]="GuardsCheckEnd",E[E.RouteConfigLoadStart=9]="RouteConfigLoadStart",E[E.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",E[E.ChildActivationStart=11]="ChildActivationStart",E[E.ChildActivationEnd=12]="ChildActivationEnd",E[E.ActivationStart=13]="ActivationStart",E[E.ActivationEnd=14]="ActivationEnd",E[E.Scroll=15]="Scroll",E[E.NavigationSkipped=16]="NavigationSkipped",E}(Xn||{});class ii{constructor(b,P){this.id=b,this.url=P}}class To extends ii{constructor(b,P,w="imperative",N=null){super(b,P),this.type=Xn.NavigationStart,this.navigationTrigger=w,this.restoredState=N}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vi extends ii{constructor(b,P,w){super(b,P),this.urlAfterRedirects=w,this.type=Xn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Kr=function(E){return E[E.Redirect=0]="Redirect",E[E.SupersededByNewNavigation=1]="SupersededByNewNavigation",E[E.NoDataFromResolver=2]="NoDataFromResolver",E[E.GuardRejected=3]="GuardRejected",E}(Kr||{}),Di=function(E){return E[E.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",E[E.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",E}(Di||{});class io extends ii{constructor(b,P,w,N){super(b,P),this.reason=w,this.code=N,this.type=Xn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class co extends ii{constructor(b,P,w,N){super(b,P),this.reason=w,this.code=N,this.type=Xn.NavigationSkipped}}class xo extends ii{constructor(b,P,w,N){super(b,P),this.error=w,this.target=N,this.type=Xn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class No extends ii{constructor(b,P,w,N){super(b,P),this.urlAfterRedirects=w,this.state=N,this.type=Xn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yo extends ii{constructor(b,P,w,N){super(b,P),this.urlAfterRedirects=w,this.state=N,this.type=Xn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bi extends ii{constructor(b,P,w,N,ie){super(b,P),this.urlAfterRedirects=w,this.state=N,this.shouldActivate=ie,this.type=Xn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ir extends ii{constructor(b,P,w,N){super(b,P),this.urlAfterRedirects=w,this.state=N,this.type=Xn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xr extends ii{constructor(b,P,w,N){super(b,P),this.urlAfterRedirects=w,this.state=N,this.type=Xn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qi{constructor(b){this.route=b,this.type=Xn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yi{constructor(b){this.route=b,this.type=Xn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class la{constructor(b){this.snapshot=b,this.type=Xn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xo{constructor(b){this.snapshot=b,this.type=Xn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ls{constructor(b){this.snapshot=b,this.type=Xn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class As{constructor(b){this.snapshot=b,this.type=Xn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ur{constructor(b,P,w){this.routerEvent=b,this.position=P,this.anchor=w,this.type=Xn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Nr{}class Oo{constructor(b){this.url=b}}class Cs{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ts,this.attachRef=null}}let Ts=(()=>{var E;class b{constructor(){this.contexts=new Map}onChildOutletCreated(w,N){const ie=this.getOrCreateContext(w);ie.outlet=N,this.contexts.set(w,ie)}onChildOutletDestroyed(w){const N=this.getContext(w);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let N=this.getContext(w);return N||(N=new Cs,this.contexts.set(w,N)),N}getContext(w){return this.contexts.get(w)||null}}return(E=b).\u0275fac=function(w){return new(w||E)},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),b})();class Ds{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const P=this.pathFromRoot(b);return P.length>1?P[P.length-2]:null}children(b){const P=oo(b,this._root);return P?P.children.map(w=>w.value):[]}firstChild(b){const P=oo(b,this._root);return P&&P.children.length>0?P.children[0].value:null}siblings(b){const P=Qo(b,this._root);return P.length<2?[]:P[P.length-2].children.map(N=>N.value).filter(N=>N!==b)}pathFromRoot(b){return Qo(b,this._root).map(P=>P.value)}}function oo(E,b){if(E===b.value)return b;for(const P of b.children){const w=oo(E,P);if(w)return w}return null}function Qo(E,b){if(E===b.value)return[b];for(const P of b.children){const w=Qo(E,P);if(w.length)return w.unshift(b),w}return[]}class xi{constructor(b,P){this.value=b,this.children=P}toString(){return`TreeNode(${this.value})`}}function S(E){const b={};return E&&E.children.forEach(P=>b[P.value.outlet]=P),b}class q extends Ds{constructor(b,P){super(b),this.snapshot=P,$(this,b)}toString(){return this.snapshot.toString()}}function me(E){const b=function x(E){const ie=new yr([],{},{},"",{},Yt,E,null,{});return new Ni("",new xi(ie,[]))}(E),P=new Le.t([new Pr("",{})]),w=new Le.t({}),N=new Le.t({}),ie=new Le.t({}),_e=new Le.t(""),ct=new ve(P,w,ie,_e,N,Yt,E,b.root);return ct.snapshot=b.root,new q(new xi(ct,[]),b)}class ve{constructor(b,P,w,N,ie,_e,ct,tn){var St,ln;this.urlSubject=b,this.paramsSubject=P,this.queryParamsSubject=w,this.fragmentSubject=N,this.dataSubject=ie,this.outlet=_e,this.component=ct,this._futureSnapshot=tn,this.title=null!==(St=null===(ln=this.dataSubject)||void 0===ln?void 0:ln.pipe((0,le.T)(vr=>vr[Sn])))&&void 0!==St?St:(0,re.of)(void 0),this.url=b,this.params=P,this.queryParams=w,this.fragment=N,this.data=ie}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var b;return null!==(b=this._paramMap)&&void 0!==b||(this._paramMap=this.params.pipe((0,le.T)(P=>lr(P)))),this._paramMap}get queryParamMap(){var b;return null!==(b=this._queryParamMap)&&void 0!==b||(this._queryParamMap=this.queryParams.pipe((0,le.T)(P=>lr(P)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ot(E,b,P="emptyOnly"){var w;let N;const{routeConfig:ie}=E;var _e;return N=null===b||"always"!==P&&""!==(null==ie?void 0:ie.path)&&(b.component||null!==(w=b.routeConfig)&&void 0!==w&&w.loadComponent)?{params:{...E.params},data:{...E.data},resolve:{...E.data,...null!==(_e=E._resolvedData)&&void 0!==_e?_e:{}}}:{params:{...b.params,...E.params},data:{...b.data,...E.data},resolve:{...E.data,...b.data,...null==ie?void 0:ie.data,...E._resolvedData}},ie&&mt(ie)&&(N.resolve[Sn]=ie.title),N}class yr{get title(){var b;return null===(b=this.data)||void 0===b?void 0:b[Sn]}constructor(b,P,w,N,ie,_e,ct,tn,St){this.url=b,this.params=P,this.queryParams=w,this.fragment=N,this.data=ie,this.outlet=_e,this.component=ct,this.routeConfig=tn,this._resolve=St}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var b;return null!==(b=this._paramMap)&&void 0!==b||(this._paramMap=lr(this.params)),this._paramMap}get queryParamMap(){var b;return null!==(b=this._queryParamMap)&&void 0!==b||(this._queryParamMap=lr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(w=>w.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ni extends Ds{constructor(b,P){super(P),this.url=b,$(this,P)}toString(){return ue(this._root)}}function $(E,b){b.value._routerState=E,b.children.forEach(P=>$(E,P))}function ue(E){const b=E.children.length>0?` { ${E.children.map(ue).join(", ")} } `:"";return`${E.value}${b}`}function Ce(E){if(E.snapshot){const b=E.snapshot,P=E._futureSnapshot;E.snapshot=P,On(b.queryParams,P.queryParams)||E.queryParamsSubject.next(P.queryParams),b.fragment!==P.fragment&&E.fragmentSubject.next(P.fragment),On(b.params,P.params)||E.paramsSubject.next(P.params),function Kn(E,b){if(E.length!==b.length)return!1;for(let P=0;P<E.length;++P)if(!On(E[P],b[P]))return!1;return!0}(b.url,P.url)||E.urlSubject.next(P.url),On(b.data,P.data)||E.dataSubject.next(P.data)}else E.snapshot=E._futureSnapshot,E.dataSubject.next(E._futureSnapshot.data)}function ze(E,b){const P=On(E.params,b.params)&&function Ln(E,b){return Zr(E,b)&&E.every((P,w)=>On(P.parameters,b[w].parameters))}(E.url,b.url);return P&&!(!E.parent!=!b.parent)&&(!E.parent||ze(E.parent,b.parent))}function mt(E){return"string"==typeof E.title||null===E.title}let gt=(()=>{var E;class b{constructor(){this.activated=null,this._activatedRoute=null,this.name=Yt,this.activateEvents=new c.bkB,this.deactivateEvents=new c.bkB,this.attachEvents=new c.bkB,this.detachEvents=new c.bkB,this.parentContexts=(0,c.WQX)(Ts),this.location=(0,c.WQX)(c.c1b),this.changeDetector=(0,c.WQX)(c.gRc),this.environmentInjector=(0,c.WQX)(c.uvJ),this.inputBinder=(0,c.WQX)(Xt,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:N,previousValue:ie}=w.name;if(N)return;this.isTrackedInParentContexts(ie)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ie)),this.initializeOutletWithName()}}ngOnDestroy(){var w;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(w=this.inputBinder)||void 0===w||w.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){var N;return(null===(N=this.parentContexts.getContext(w))||void 0===N?void 0:N.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);null!=w&&w.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.wOt(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,N){var ie;this.activated=w,this._activatedRoute=N,this.location.insert(w.hostView),null===(ie=this.inputBinder)||void 0===ie||ie.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,N){var ie;if(this.isActivated)throw new c.wOt(4013,!1);this._activatedRoute=w;const _e=this.location,tn=w.snapshot.component,St=this.parentContexts.getOrCreateContext(this.name).children,ln=new Bt(w,St,_e.injector);this.activated=_e.createComponent(tn,{index:_e.length,injector:ln,environmentInjector:null!=N?N:this.environmentInjector}),this.changeDetector.markForCheck(),null===(ie=this.inputBinder)||void 0===ie||ie.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(E=b).\u0275fac=function(w){return new(w||E)},E.\u0275dir=c.FsC({type:E,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.OA$]}),b})();class Bt{__ngOutletInjector(b){return new Bt(this.route,this.childContexts,b)}constructor(b,P,w){this.route=b,this.childContexts=P,this.parent=w}get(b,P){return b===ve?this.route:b===Ts?this.childContexts:this.parent.get(b,P)}}const Xt=new c.nKC("");let qt=(()=>{var E;class b{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){var N;null===(N=this.outletDataSubscriptions.get(w))||void 0===N||N.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:N}=w,ie=(0,He.z)([N.queryParams,N.params,N.data]).pipe((0,it.n)(([_e,ct,tn],St)=>(tn={..._e,...ct,...tn},0===St?(0,re.of)(tn):Promise.resolve(tn)))).subscribe(_e=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(w);const ct=(0,c.HJs)(N.component);if(ct)for(const{templateName:tn}of ct.inputs)w.activatedComponentRef.setInput(tn,_e[tn]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,ie)}}return(E=b).\u0275fac=function(w){return new(w||E)},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac}),b})();function pn(E,b,P){if(P&&E.shouldReuseRoute(b.value,P.value.snapshot)){const w=P.value;w._futureSnapshot=b.value;const N=function Tn(E,b,P){return b.children.map(w=>{for(const N of P.children)if(E.shouldReuseRoute(w.value,N.value.snapshot))return pn(E,w,N);return pn(E,w)})}(E,b,P);return new xi(w,N)}{if(E.shouldAttach(b.value)){const ie=E.retrieve(b.value);if(null!==ie){const _e=ie.route;return _e.value._futureSnapshot=b.value,_e.children=b.children.map(ct=>pn(E,ct)),_e}}const w=function qn(E){return new ve(new Le.t(E.url),new Le.t(E.params),new Le.t(E.queryParams),new Le.t(E.fragment),new Le.t(E.data),E.outlet,E.component,E)}(b.value),N=b.children.map(ie=>pn(E,ie));return new xi(w,N)}}const kn="ngNavigationCancelingError";function Lr(E,b){const{redirectTo:P,navigationBehaviorOptions:w}=Cr(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,N=Ui(!1,Kr.Redirect);return N.url=P,N.navigationBehaviorOptions=w,N}function Ui(E,b){const P=new Error(`NavigationCancelingError: ${E||""}`);return P[kn]=!0,P.cancellationCode=b,P}function oi(E){return!!E&&E[kn]}let Oi=(()=>{var E;class b{}return(E=b).\u0275fac=function(w){return new(w||E)},E.\u0275cmp=c.VBU({type:E,selectors:[["ng-component"]],standalone:!0,features:[c.aNF],decls:1,vars:0,template:function(w,N){1&w&&c.nrm(0,"router-outlet")},dependencies:[gt],encapsulation:2}),b})();function wa(E){const b=E.children&&E.children.map(wa),P=b?{...E,children:b}:{...E};return!P.component&&!P.loadComponent&&(b||P.loadChildren)&&P.outlet&&P.outlet!==Yt&&(P.component=Oi),P}function eo(E){return E.outlet||Yt}function Er(E){var b;if(!E)return null;if(null!==(b=E.routeConfig)&&void 0!==b&&b._injector)return E.routeConfig._injector;for(let P=E.parent;P;P=P.parent){const w=P.routeConfig;if(null!=w&&w._loadedInjector)return w._loadedInjector;if(null!=w&&w._injector)return w._injector}return null}class Ra{constructor(b,P,w,N,ie){this.routeReuseStrategy=b,this.futureState=P,this.currState=w,this.forwardEvent=N,this.inputBindingEnabled=ie}activate(b){const P=this.futureState._root,w=this.currState?this.currState._root:null;this.deactivateChildRoutes(P,w,b),Ce(this.futureState.root),this.activateChildRoutes(P,w,b)}deactivateChildRoutes(b,P,w){const N=S(P);b.children.forEach(ie=>{const _e=ie.value.outlet;this.deactivateRoutes(ie,N[_e],w),delete N[_e]}),Object.values(N).forEach(ie=>{this.deactivateRouteAndItsChildren(ie,w)})}deactivateRoutes(b,P,w){const N=b.value,ie=P?P.value:null;if(N===ie)if(N.component){const _e=w.getContext(N.outlet);_e&&this.deactivateChildRoutes(b,P,_e.children)}else this.deactivateChildRoutes(b,P,w);else ie&&this.deactivateRouteAndItsChildren(P,w)}deactivateRouteAndItsChildren(b,P){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,P):this.deactivateRouteAndOutlet(b,P)}detachAndStoreRouteSubtree(b,P){const w=P.getContext(b.value.outlet),N=w&&b.value.component?w.children:P,ie=S(b);for(const _e of Object.values(ie))this.deactivateRouteAndItsChildren(_e,N);if(w&&w.outlet){const _e=w.outlet.detach(),ct=w.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:_e,route:b,contexts:ct})}}deactivateRouteAndOutlet(b,P){const w=P.getContext(b.value.outlet),N=w&&b.value.component?w.children:P,ie=S(b);for(const _e of Object.values(ie))this.deactivateRouteAndItsChildren(_e,N);w&&(w.outlet&&(w.outlet.deactivate(),w.children.onOutletDeactivated()),w.attachRef=null,w.route=null)}activateChildRoutes(b,P,w){const N=S(P);b.children.forEach(ie=>{this.activateRoutes(ie,N[ie.value.outlet],w),this.forwardEvent(new As(ie.value.snapshot))}),b.children.length&&this.forwardEvent(new Xo(b.value.snapshot))}activateRoutes(b,P,w){const N=b.value,ie=P?P.value:null;if(Ce(N),N===ie)if(N.component){const _e=w.getOrCreateContext(N.outlet);this.activateChildRoutes(b,P,_e.children)}else this.activateChildRoutes(b,P,w);else if(N.component){const _e=w.getOrCreateContext(N.outlet);if(this.routeReuseStrategy.shouldAttach(N.snapshot)){const ct=this.routeReuseStrategy.retrieve(N.snapshot);this.routeReuseStrategy.store(N.snapshot,null),_e.children.onOutletReAttached(ct.contexts),_e.attachRef=ct.componentRef,_e.route=ct.route.value,_e.outlet&&_e.outlet.attach(ct.componentRef,ct.route.value),Ce(ct.route.value),this.activateChildRoutes(b,null,_e.children)}else{const ct=Er(N.snapshot);_e.attachRef=null,_e.route=N,_e.injector=ct,_e.outlet&&_e.outlet.activateWith(N,_e.injector),this.activateChildRoutes(b,null,_e.children)}}else this.activateChildRoutes(b,null,w)}}class ko{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class Fo{constructor(b,P){this.component=b,this.route=P}}function bs(E,b,P){const w=E._root;return Fs(w,b?b._root:null,P,[w.value])}function Zs(E,b){const P=Symbol(),w=b.get(E,P);return w===P?"function"!=typeof E||(0,c.LfX)(E)?b.get(E):E:w}function Fs(E,b,P,w,N={canDeactivateChecks:[],canActivateChecks:[]}){const ie=S(b);return E.children.forEach(_e=>{(function Ha(E,b,P,w,N={canDeactivateChecks:[],canActivateChecks:[]}){const ie=E.value,_e=b?b.value:null,ct=P?P.getContext(E.value.outlet):null;if(_e&&ie.routeConfig===_e.routeConfig){const tn=function zo(E,b,P){if("function"==typeof P)return P(E,b);switch(P){case"pathParamsChange":return!Zr(E.url,b.url);case"pathParamsOrQueryParamsChange":return!Zr(E.url,b.url)||!On(E.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ze(E,b)||!On(E.queryParams,b.queryParams);default:return!ze(E,b)}}(_e,ie,ie.routeConfig.runGuardsAndResolvers);tn?N.canActivateChecks.push(new ko(w)):(ie.data=_e.data,ie._resolvedData=_e._resolvedData),Fs(E,b,ie.component?ct?ct.children:null:P,w,N),tn&&ct&&ct.outlet&&ct.outlet.isActivated&&N.canDeactivateChecks.push(new Fo(ct.outlet.component,_e))}else _e&&ds(b,ct,N),N.canActivateChecks.push(new ko(w)),Fs(E,null,ie.component?ct?ct.children:null:P,w,N)})(_e,ie[_e.value.outlet],P,w.concat([_e.value]),N),delete ie[_e.value.outlet]}),Object.entries(ie).forEach(([_e,ct])=>ds(ct,P.getContext(_e),N)),N}function ds(E,b,P){const w=S(E),N=E.value;Object.entries(w).forEach(([ie,_e])=>{ds(_e,N.component?b?b.children.getContext(ie):null:b,P)}),P.canDeactivateChecks.push(new Fo(N.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,N))}function ua(E){return"function"==typeof E}function j(E){return E instanceof Te.G||"EmptyError"===(null==E?void 0:E.name)}const De=Symbol("INITIAL_VALUE");function en(){return(0,it.n)(E=>(0,He.z)(E.map(b=>b.pipe((0,at.s)(1),(0,Ze.Z)(De)))).pipe((0,le.T)(b=>{for(const P of b)if(!0!==P){if(P===De)return De;if(!1===P||P instanceof Gr)return P}return!0}),(0,$e.p)(b=>b!==De),(0,at.s)(1)))}function Jo(E){return(0,ke.F)((0,Xe.M)(b=>{if(Cr(b))throw Lr(0,b)}),(0,le.T)(b=>!0===b))}class cl{constructor(b){this.segmentGroup=b||null}}class hs extends Error{constructor(b){super(),this.urlTree=b}}function Us(E){return We(new cl(E))}class bo{constructor(b,P){this.urlSerializer=b,this.urlTree=P}lineralizeSegments(b,P){let w=[],N=P.root;for(;;){if(w=w.concat(N.segments),0===N.numberOfChildren)return(0,re.of)(w);if(N.numberOfChildren>1||!N.children[Yt])return We(new c.wOt(4e3,!1));N=N.children[Yt]}}applyRedirectCommands(b,P,w){const N=this.applyRedirectCreateUrlTree(P,this.urlSerializer.parse(P),b,w);if(P.startsWith("/"))throw new hs(N);return N}applyRedirectCreateUrlTree(b,P,w,N){const ie=this.createSegmentGroup(b,P.root,w,N);return new Gr(ie,this.createQueryParams(P.queryParams,this.urlTree.queryParams),P.fragment)}createQueryParams(b,P){const w={};return Object.entries(b).forEach(([N,ie])=>{if("string"==typeof ie&&ie.startsWith(":")){const ct=ie.substring(1);w[N]=P[ct]}else w[N]=ie}),w}createSegmentGroup(b,P,w,N){const ie=this.createSegments(b,P.segments,w,N);let _e={};return Object.entries(P.children).forEach(([ct,tn])=>{_e[ct]=this.createSegmentGroup(b,tn,w,N)}),new Pn(ie,_e)}createSegments(b,P,w,N){return P.map(ie=>ie.path.startsWith(":")?this.findPosParam(b,ie,N):this.findOrReturn(ie,w))}findPosParam(b,P,w){const N=w[P.path.substring(1)];if(!N)throw new c.wOt(4001,!1);return N}findOrReturn(b,P){let w=0;for(const N of P){if(N.path===b.path)return P.splice(w),N;w++}return b}}const Si={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dl(E,b,P,w,N){const ie=ws(E,b,P);return ie.matched?(w=function wi(E,b){var P;return E.providers&&!E._injector&&(E._injector=(0,c.Ol2)(E.providers,b,`Route: ${E.path}`)),null!==(P=E._injector)&&void 0!==P?P:b}(b,w),function za(E,b,P,w){const N=b.canMatch;if(!N||0===N.length)return(0,re.of)(!0);const ie=N.map(_e=>{const ct=Zs(_e,E);return bt(function ge(E){return E&&ua(E.canMatch)}(ct)?ct.canMatch(b,P):(0,c.N4e)(E,()=>ct(b,P)))});return(0,re.of)(ie).pipe(en(),Jo())}(w,b,P).pipe((0,le.T)(_e=>!0===_e?ie:{...Si}))):(0,re.of)(ie)}function ws(E,b,P){var w,N;if("**"===b.path)return function ca(E){return{matched:!0,parameters:E.length>0?Et(E).parameters:{},consumedSegments:E,remainingSegments:[],positionalParamSegments:{}}}(P);if(""===b.path)return"full"===b.pathMatch&&(E.hasChildren()||P.length>0)?{...Si}:{matched:!0,consumedSegments:[],remainingSegments:P,parameters:{},positionalParamSegments:{}};const _e=(b.matcher||Jn)(P,E,b);if(!_e)return{...Si};const ct={};Object.entries(null!==(w=_e.posParams)&&void 0!==w?w:{}).forEach(([St,ln])=>{ct[St]=ln.path});const tn=_e.consumed.length>0?{...ct,..._e.consumed[_e.consumed.length-1].parameters}:ct;return{matched:!0,consumedSegments:_e.consumed,remainingSegments:P.slice(_e.consumed.length),parameters:tn,positionalParamSegments:null!==(N=_e.posParams)&&void 0!==N?N:{}}}function hl(E,b,P,w){return P.length>0&&function Kl(E,b,P){return P.some(w=>fs(E,b,w)&&eo(w)!==Yt)}(E,P,w)?{segmentGroup:new Pn(b,Ma(w,new Pn(P,E.children))),slicedSegments:[]}:0===P.length&&function ki(E,b,P){return P.some(w=>fs(E,b,w))}(E,P,w)?{segmentGroup:new Pn(E.segments,xc(E,P,w,E.children)),slicedSegments:P}:{segmentGroup:new Pn(E.segments,E.children),slicedSegments:P}}function xc(E,b,P,w){const N={};for(const ie of P)if(fs(E,b,ie)&&!w[eo(ie)]){const _e=new Pn([],{});N[eo(ie)]=_e}return{...w,...N}}function Ma(E,b){const P={};P[Yt]=b;for(const w of E)if(""===w.path&&eo(w)!==Yt){const N=new Pn([],{});P[eo(w)]=N}return P}function fs(E,b,P){return(!(E.hasChildren()||b.length>0)||"full"!==P.pathMatch)&&""===P.path}class pl{}class Lo{constructor(b,P,w,N,ie,_e,ct){this.injector=b,this.configLoader=P,this.rootComponentType=w,this.config=N,this.urlTree=ie,this.paramsInheritanceStrategy=_e,this.urlSerializer=ct,this.applyRedirects=new bo(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(b){return new c.wOt(4002,`'${b.segmentGroup}'`)}recognize(){const b=hl(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(b).pipe((0,le.T)(P=>{const w=new yr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Yt,this.rootComponentType,null,{}),N=new xi(w,P),ie=new Ni("",N),_e=function Ji(E,b,P=null,w=null){return nr(_i(E),b,P,w)}(w,[],this.urlTree.queryParams,this.urlTree.fragment);return _e.queryParams=this.urlTree.queryParams,ie.url=this.urlSerializer.serialize(_e),this.inheritParamsAndData(ie._root,null),{state:ie,tree:_e}}))}match(b){return this.processSegmentGroup(this.injector,this.config,b,Yt).pipe(ht(w=>{if(w instanceof hs)return this.urlTree=w.urlTree,this.match(w.urlTree.root);throw w instanceof cl?this.noMatchError(w):w}))}inheritParamsAndData(b,P){const w=b.value,N=ot(w,P,this.paramsInheritanceStrategy);w.params=Object.freeze(N.params),w.data=Object.freeze(N.data),b.children.forEach(ie=>this.inheritParamsAndData(ie,w))}processSegmentGroup(b,P,w,N){return 0===w.segments.length&&w.hasChildren()?this.processChildren(b,P,w):this.processSegment(b,P,w,w.segments,N,!0).pipe((0,le.T)(ie=>ie instanceof xi?[ie]:[]))}processChildren(b,P,w){const N=[];for(const ie of Object.keys(w.children))"primary"===ie?N.unshift(ie):N.push(ie);return(0,Se.H)(N).pipe(vt(ie=>{const _e=w.children[ie],ct=function fo(E,b){const P=E.filter(w=>eo(w)===b);return P.push(...E.filter(w=>eo(w)!==b)),P}(P,ie);return this.processSegmentGroup(b,ct,_e,ie)}),(0,Be.S)((ie,_e)=>(ie.push(..._e),ie)),(0,ae.U)(null),function Ie(E,b){const P=arguments.length>=2;return w=>w.pipe(E?(0,$e.p)((N,ie)=>E(N,ie,w)):X.D,H(1),P?(0,ae.U)(b):(0,G.v)(()=>new Te.G))}(),(0,Lt.Z)(ie=>{if(null===ie)return Us(w);const _e=jn(ie);return function ql(E){E.sort((b,P)=>b.value.outlet===Yt?-1:P.value.outlet===Yt?1:b.value.outlet.localeCompare(P.value.outlet))}(_e),(0,re.of)(_e)}))}processSegment(b,P,w,N,ie,_e){return(0,Se.H)(P).pipe(vt(ct=>{var tn;return this.processSegmentAgainstRoute(null!==(tn=ct._injector)&&void 0!==tn?tn:b,P,ct,w,N,ie,_e).pipe(ht(St=>{if(St instanceof cl)return(0,re.of)(null);throw St}))}),(0,un.$)(ct=>!!ct),ht(ct=>{if(j(ct))return function fl(E,b,P){return 0===b.length&&!E.children[P]}(w,N,ie)?(0,re.of)(new pl):Us(w);throw ct}))}processSegmentAgainstRoute(b,P,w,N,ie,_e,ct){return function es(E,b,P,w){return!!(eo(E)===w||w!==Yt&&fs(b,P,E))&&ws(b,E,P).matched}(w,N,ie,_e)?void 0===w.redirectTo?this.matchSegmentAgainstRoute(b,N,w,ie,_e):this.allowRedirects&&ct?this.expandSegmentAgainstRouteUsingRedirect(b,N,P,w,ie,_e):Us(N):Us(N)}expandSegmentAgainstRouteUsingRedirect(b,P,w,N,ie,_e){const{matched:ct,consumedSegments:tn,positionalParamSegments:St,remainingSegments:ln}=ws(P,N,ie);if(!ct)return Us(P);N.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const vr=this.applyRedirects.applyRedirectCommands(tn,N.redirectTo,St);return this.applyRedirects.lineralizeSegments(N,vr).pipe((0,Lt.Z)(fi=>this.processSegment(b,w,P,fi.concat(ln),_e,!1)))}matchSegmentAgainstRoute(b,P,w,N,ie){const _e=dl(P,w,N,b);return"**"===w.path&&(P.children={}),_e.pipe((0,it.n)(ct=>{var tn;return ct.matched?(b=null!==(tn=w._injector)&&void 0!==tn?tn:b,this.getChildConfig(b,w,N).pipe((0,it.n)(({routes:St})=>{var ln,vr,fi;const Tr=null!==(ln=w._loadedInjector)&&void 0!==ln?ln:b,{consumedSegments:po,remainingSegments:ka,parameters:Gi}=ct,eu=new yr(po,Gi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function _n(E){return E.data||{}}(w),eo(w),null!==(vr=null!==(fi=w.component)&&void 0!==fi?fi:w._loadedComponent)&&void 0!==vr?vr:null,w,function Ut(E){return E.resolve||{}}(w)),{segmentGroup:ts,slicedSegments:Ei}=hl(P,po,ka,St);if(0===Ei.length&&ts.hasChildren())return this.processChildren(Tr,St,ts).pipe((0,le.T)(ta=>null===ta?null:new xi(eu,ta)));if(0===St.length&&0===Ei.length)return(0,re.of)(new xi(eu,[]));const Hs=eo(w)===ie;return this.processSegment(Tr,St,ts,Ei,Hs?Yt:ie,!0).pipe((0,le.T)(ta=>new xi(eu,ta instanceof xi?[ta]:[])))}))):Us(P)}))}getChildConfig(b,P,w){return P.children?(0,re.of)({routes:P.children,injector:b}):P.loadChildren?void 0!==P._loadedRoutes?(0,re.of)({routes:P._loadedRoutes,injector:P._loadedInjector}):function Mc(E,b,P,w){const N=b.canLoad;if(void 0===N||0===N.length)return(0,re.of)(!0);const ie=N.map(_e=>{const ct=Zs(_e,E);return bt(function Ls(E){return E&&ua(E.canLoad)}(ct)?ct.canLoad(b,P):(0,c.N4e)(E,()=>ct(b,P)))});return(0,re.of)(ie).pipe(en(),Jo())}(b,P,w).pipe((0,Lt.Z)(N=>N?this.configLoader.loadChildren(b,P).pipe((0,Xe.M)(ie=>{P._loadedRoutes=ie.routes,P._loadedInjector=ie.injector})):function $i(E){return We(Ui(!1,Kr.GuardRejected))}())):(0,re.of)({routes:[],injector:b})}}function Dn(E){const b=E.value.routeConfig;return b&&""===b.path}function jn(E){const b=[],P=new Set;for(const w of E){if(!Dn(w)){b.push(w);continue}const N=b.find(ie=>w.value.routeConfig===ie.value.routeConfig);void 0!==N?(N.children.push(...w.children),P.add(N)):b.push(w)}for(const w of P){const N=jn(w.children);b.push(new xi(w.value,N))}return b.filter(w=>!P.has(w))}function wo(E){const b=E.children.map(P=>wo(P)).flat();return[E,...b]}function ml(E){return(0,it.n)(b=>{const P=E(b);return P?(0,Se.H)(P).pipe((0,le.T)(()=>b)):(0,re.of)(b)})}let Fu=(()=>{var E;class b{buildTitle(w){let N,ie=w.root;for(;void 0!==ie;){var _e;N=null!==(_e=this.getResolvedTitleForRoute(ie))&&void 0!==_e?_e:N,ie=ie.children.find(ct=>ct.outlet===Yt)}return N}getResolvedTitleForRoute(w){return w.data[Sn]}}return(E=b).\u0275fac=function(w){return new(w||E)},E.\u0275prov=c.jDH({token:E,factory:()=>(0,c.WQX)(Js),providedIn:"root"}),b})(),Js=(()=>{var E;class b extends Fu{constructor(w){super(),this.title=w}updateTitle(w){const N=this.buildTitle(w);void 0!==N&&this.title.setTitle(N)}}return(E=b).\u0275fac=function(w){return new(w||E)(c.KVO(cn.hE))},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),b})();const Wa=new c.nKC("",{providedIn:"root",factory:()=>({})}),xa=new c.nKC("");let Lu=(()=>{var E;class b{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.WQX)(c.Ql9)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,re.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const N=bt(w.loadComponent()).pipe((0,le.T)(Bs),(0,Xe.M)(_e=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=_e}),Ue(()=>{this.componentLoaders.delete(w)})),ie=new It(N,()=>new Ee.B).pipe(rt());return this.componentLoaders.set(w,ie),ie}loadChildren(w,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,re.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const _e=function Xl(E,b,P,w){return bt(E.loadChildren()).pipe((0,le.T)(Bs),(0,Lt.Z)(N=>N instanceof c.Co$||Array.isArray(N)?(0,re.of)(N):(0,Se.H)(b.compileModuleAsync(N))),(0,le.T)(N=>{w&&w(E);let ie,_e,ct=!1;return Array.isArray(N)?(_e=N,!0):(ie=N.create(P).injector,_e=ie.get(xa,[],{optional:!0,self:!0}).flat()),{routes:_e.map(wa),injector:ie}}))}(N,this.compiler,w,this.onLoadEndListener).pipe(Ue(()=>{this.childrenLoaders.delete(N)})),ct=new It(_e,()=>new Ee.B).pipe(rt());return this.childrenLoaders.set(N,ct),ct}}return(E=b).\u0275fac=function(w){return new(w||E)},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),b})();function Bs(E){return function sr(E){return E&&"object"==typeof E&&"default"in E}(E)?E.default:E}let Na=(()=>{var E;class b{}return(E=b).\u0275fac=function(w){return new(w||E)},E.\u0275prov=c.jDH({token:E,factory:()=>(0,c.WQX)(D),providedIn:"root"}),b})(),D=(()=>{var E;class b{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,N){return w}}return(E=b).\u0275fac=function(w){return new(w||E)},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),b})();const F=new c.nKC(""),be=new c.nKC("");function M(E,b,P){const w=E.get(be),N=E.get(Oe.qQ);return E.get(c.SKi).runOutsideAngular(()=>{if(!N.startViewTransition||w.skipNextTransition)return w.skipNextTransition=!1,new Promise(St=>setTimeout(St));let ie;const _e=new Promise(St=>{ie=St}),ct=N.startViewTransition(()=>(ie(),function fe(E){return new Promise(b=>{(0,c.mal)(b,{injector:E})})}(E))),{onViewTransitionCreated:tn}=w;return tn&&(0,c.N4e)(E,()=>tn({transition:ct,from:b,to:P})),_e})}let we=(()=>{var E;class b{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ee.B,this.transitionAbortSubject=new Ee.B,this.configLoader=(0,c.WQX)(Lu),this.environmentInjector=(0,c.WQX)(c.uvJ),this.urlSerializer=(0,c.WQX)(Bn),this.rootContexts=(0,c.WQX)(Ts),this.location=(0,c.WQX)(Oe.aZ),this.inputBindingEnabled=null!==(0,c.WQX)(Xt,{optional:!0}),this.titleStrategy=(0,c.WQX)(Fu),this.options=(0,c.WQX)(Wa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,c.WQX)(Na),this.createViewTransition=(0,c.WQX)(F,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,re.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ie=>this.events.next(new yi(ie)),this.configLoader.onLoadStartListener=ie=>this.events.next(new qi(ie))}complete(){var w;null===(w=this.transitions)||void 0===w||w.complete()}handleNavigationRequest(w){var N;const ie=++this.navigationId;null===(N=this.transitions)||void 0===N||N.next({...this.transitions.value,...w,id:ie})}setupNavigations(w,N,ie){return this.transitions=new Le.t({id:0,currentUrlTree:N,currentRawUrl:N,extractedUrl:this.urlHandlingStrategy.extract(N),urlAfterRedirects:this.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ai,restoredState:null,currentSnapshot:ie.snapshot,targetSnapshot:null,currentRouterState:ie,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,$e.p)(_e=>0!==_e.id),(0,le.T)(_e=>({..._e,extractedUrl:this.urlHandlingStrategy.extract(_e.rawUrl)})),(0,it.n)(_e=>{let ct=!1,tn=!1;return(0,re.of)(_e).pipe((0,it.n)(St=>{var ln;if(this.navigationId>_e.id)return this.cancelNavigationTransition(_e,"",Kr.SupersededByNewNavigation),ut.w;this.currentTransition=_e,this.currentNavigation={id:St.id,initialUrl:St.rawUrl,extractedUrl:St.extractedUrl,trigger:St.source,extras:St.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const vr=!w.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),fi=null!==(ln=St.extras.onSameUrlNavigation)&&void 0!==ln?ln:w.onSameUrlNavigation;if(!vr&&"reload"!==fi){const Tr="";return this.events.next(new co(St.id,this.urlSerializer.serialize(St.rawUrl),Tr,Di.IgnoredSameUrlNavigation)),St.resolve(null),ut.w}if(this.urlHandlingStrategy.shouldProcessUrl(St.rawUrl))return(0,re.of)(St).pipe((0,it.n)(Tr=>{var po,ka;const Gi=null===(po=this.transitions)||void 0===po?void 0:po.getValue();return this.events.next(new To(Tr.id,this.urlSerializer.serialize(Tr.extractedUrl),Tr.source,Tr.restoredState)),Gi!==(null===(ka=this.transitions)||void 0===ka?void 0:ka.getValue())?ut.w:Promise.resolve(Tr)}),function Jt(E,b,P,w,N,ie){return(0,Lt.Z)(_e=>function sn(E,b,P,w,N,ie,_e="emptyOnly"){return new Lo(E,b,P,w,N,_e,ie).recognize()}(E,b,P,w,_e.extractedUrl,N,ie).pipe((0,le.T)(({state:ct,tree:tn})=>({..._e,targetSnapshot:ct,urlAfterRedirects:tn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Xe.M)(Tr=>{_e.targetSnapshot=Tr.targetSnapshot,_e.urlAfterRedirects=Tr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Tr.urlAfterRedirects};const po=new No(Tr.id,this.urlSerializer.serialize(Tr.extractedUrl),this.urlSerializer.serialize(Tr.urlAfterRedirects),Tr.targetSnapshot);this.events.next(po)}));if(vr&&this.urlHandlingStrategy.shouldProcessUrl(St.currentRawUrl)){const{id:Tr,extractedUrl:po,source:ka,restoredState:Gi,extras:eu}=St,ts=new To(Tr,this.urlSerializer.serialize(po),ka,Gi);this.events.next(ts);const Ei=me(this.rootComponentType).snapshot;return this.currentTransition=_e={...St,targetSnapshot:Ei,urlAfterRedirects:po,extras:{...eu,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=po,(0,re.of)(_e)}{const Tr="";return this.events.next(new co(St.id,this.urlSerializer.serialize(St.extractedUrl),Tr,Di.IgnoredByUrlHandlingStrategy)),St.resolve(null),ut.w}}),(0,Xe.M)(St=>{const ln=new yo(St.id,this.urlSerializer.serialize(St.extractedUrl),this.urlSerializer.serialize(St.urlAfterRedirects),St.targetSnapshot);this.events.next(ln)}),(0,le.T)(St=>(this.currentTransition=_e={...St,guards:bs(St.targetSnapshot,St.currentSnapshot,this.rootContexts)},_e)),function Qn(E,b){return(0,Lt.Z)(P=>{const{targetSnapshot:w,currentSnapshot:N,guards:{canActivateChecks:ie,canDeactivateChecks:_e}}=P;return 0===_e.length&&0===ie.length?(0,re.of)({...P,guardsResult:!0}):function cr(E,b,P,w){return(0,Se.H)(E).pipe((0,Lt.Z)(N=>function Wl(E,b,P,w,N){const ie=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!ie||0===ie.length)return(0,re.of)(!0);const _e=ie.map(ct=>{var tn;const St=null!==(tn=Er(b))&&void 0!==tn?tn:N,ln=Zs(ct,St);return bt(function O(E){return E&&ua(E.canDeactivate)}(ln)?ln.canDeactivate(E,b,P,w):(0,c.N4e)(St,()=>ln(E,b,P,w))).pipe((0,un.$)())});return(0,re.of)(_e).pipe(en())}(N.component,N.route,P,b,w)),(0,un.$)(N=>!0!==N,!0))}(_e,w,N,E).pipe((0,Lt.Z)(ct=>ct&&function Pa(E){return"boolean"==typeof E}(ct)?function Bi(E,b,P,w){return(0,Se.H)(b).pipe(vt(N=>(0,de.x)(function Go(E,b){return null!==E&&b&&b(new la(E)),(0,re.of)(!0)}(N.route.parent,w),function Zo(E,b){return null!==E&&b&&b(new ls(E)),(0,re.of)(!0)}(N.route,w),function ul(E,b,P){const w=b[b.length-1],ie=b.slice(0,b.length-1).reverse().map(_e=>function Yo(E){const b=E.routeConfig?E.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:E,guards:b}:null}(_e)).filter(_e=>null!==_e).map(_e=>Ve(()=>{const ct=_e.guards.map(tn=>{var St;const ln=null!==(St=Er(_e.node))&&void 0!==St?St:P,vr=Zs(tn,ln);return bt(function z(E){return E&&ua(E.canActivateChild)}(vr)?vr.canActivateChild(w,E):(0,c.N4e)(ln,()=>vr(w,E))).pipe((0,un.$)())});return(0,re.of)(ct).pipe(en())}));return(0,re.of)(ie).pipe(en())}(E,N.path,P),function Vs(E,b,P){const w=b.routeConfig?b.routeConfig.canActivate:null;if(!w||0===w.length)return(0,re.of)(!0);const N=w.map(ie=>Ve(()=>{var _e;const ct=null!==(_e=Er(b))&&void 0!==_e?_e:P,tn=Zs(ie,ct);return bt(function ll(E){return E&&ua(E.canActivate)}(tn)?tn.canActivate(b,E):(0,c.N4e)(ct,()=>tn(b,E))).pipe((0,un.$)())}));return(0,re.of)(N).pipe(en())}(E,N.route,P))),(0,un.$)(N=>!0!==N,!0))}(w,ie,E,b):(0,re.of)(ct)),(0,le.T)(ct=>({...P,guardsResult:ct})))})}(this.environmentInjector,St=>this.events.next(St)),(0,Xe.M)(St=>{if(_e.guardsResult=St.guardsResult,Cr(St.guardsResult))throw Lr(0,St.guardsResult);const ln=new bi(St.id,this.urlSerializer.serialize(St.extractedUrl),this.urlSerializer.serialize(St.urlAfterRedirects),St.targetSnapshot,!!St.guardsResult);this.events.next(ln)}),(0,$e.p)(St=>!!St.guardsResult||(this.cancelNavigationTransition(St,"",Kr.GuardRejected),!1)),ml(St=>{if(St.guards.canActivateChecks.length)return(0,re.of)(St).pipe((0,Xe.M)(ln=>{const vr=new ir(ln.id,this.urlSerializer.serialize(ln.extractedUrl),this.urlSerializer.serialize(ln.urlAfterRedirects),ln.targetSnapshot);this.events.next(vr)}),(0,it.n)(ln=>{let vr=!1;return(0,re.of)(ln).pipe(function ji(E,b){return(0,Lt.Z)(P=>{const{targetSnapshot:w,guards:{canActivateChecks:N}}=P;if(!N.length)return(0,re.of)(P);const ie=new Set(N.map(tn=>tn.route)),_e=new Set;for(const tn of ie)if(!_e.has(tn))for(const St of wo(tn))_e.add(St);let ct=0;return(0,Se.H)(_e).pipe(vt(tn=>ie.has(tn)?function Ga(E,b,P,w){const N=E.routeConfig,ie=E._resolve;return void 0!==(null==N?void 0:N.title)&&!mt(N)&&(ie[Sn]=N.title),function gl(E,b,P,w){const N=Gn(E);if(0===N.length)return(0,re.of)({});const ie={};return(0,Se.H)(N).pipe((0,Lt.Z)(_e=>function $d(E,b,P,w){var N;const ie=null!==(N=Er(b))&&void 0!==N?N:w,_e=Zs(E,ie);return bt(_e.resolve?_e.resolve(b,P):(0,c.N4e)(ie,()=>_e(b,P)))}(E[_e],b,P,w).pipe((0,un.$)(),(0,Xe.M)(ct=>{ie[_e]=ct}))),H(1),function je(E){return(0,le.T)(()=>E)}(ie),ht(_e=>j(_e)?ut.w:We(_e)))}(ie,E,b,w).pipe((0,le.T)(_e=>(E._resolvedData=_e,E.data=ot(E,E.parent,P).resolve,null)))}(tn,w,E,b):(tn.data=ot(tn,tn.parent,E).resolve,(0,re.of)(void 0))),(0,Xe.M)(()=>ct++),H(1),(0,Lt.Z)(tn=>ct===_e.size?(0,re.of)(P):ut.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Xe.M)({next:()=>vr=!0,complete:()=>{vr||this.cancelNavigationTransition(ln,"",Kr.NoDataFromResolver)}}))}),(0,Xe.M)(ln=>{const vr=new xr(ln.id,this.urlSerializer.serialize(ln.extractedUrl),this.urlSerializer.serialize(ln.urlAfterRedirects),ln.targetSnapshot);this.events.next(vr)}))}),ml(St=>{const ln=vr=>{var fi;const Tr=[];null!==(fi=vr.routeConfig)&&void 0!==fi&&fi.loadComponent&&!vr.routeConfig._loadedComponent&&Tr.push(this.configLoader.loadComponent(vr.routeConfig).pipe((0,Xe.M)(po=>{vr.component=po}),(0,le.T)(()=>{})));for(const po of vr.children)Tr.push(...ln(po));return Tr};return(0,He.z)(ln(St.targetSnapshot.root)).pipe((0,ae.U)(null),(0,at.s)(1))}),ml(()=>this.afterPreactivation()),(0,it.n)(()=>{var St;const{currentSnapshot:ln,targetSnapshot:vr}=_e,fi=null===(St=this.createViewTransition)||void 0===St?void 0:St.call(this,this.environmentInjector,ln.root,vr.root);return fi?(0,Se.H)(fi).pipe((0,le.T)(()=>_e)):(0,re.of)(_e)}),(0,le.T)(St=>{const ln=function Zt(E,b,P){const w=pn(E,b._root,P?P._root:void 0);return new q(w,b)}(w.routeReuseStrategy,St.targetSnapshot,St.currentRouterState);return this.currentTransition=_e={...St,targetRouterState:ln},this.currentNavigation.targetRouterState=ln,_e}),(0,Xe.M)(()=>{this.events.next(new Nr)}),((E,b,P,w)=>(0,le.T)(N=>(new Ra(b,N.targetRouterState,N.currentRouterState,P,w).activate(E),N)))(this.rootContexts,w.routeReuseStrategy,St=>this.events.next(St),this.inputBindingEnabled),(0,at.s)(1),(0,Xe.M)({next:St=>{var ln;ct=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Vi(St.id,this.urlSerializer.serialize(St.extractedUrl),this.urlSerializer.serialize(St.urlAfterRedirects))),null===(ln=this.titleStrategy)||void 0===ln||ln.updateTitle(St.targetRouterState.snapshot),St.resolve(!0)},complete:()=>{ct=!0}}),function jt(E){return(0,Ye.N)((b,P)=>{(0,Ne.Tg)(E).subscribe((0,At._)(P,()=>P.complete(),xe.l)),!P.closed&&b.subscribe(P)})}(this.transitionAbortSubject.pipe((0,Xe.M)(St=>{throw St}))),Ue(()=>{var St;!ct&&!tn&&this.cancelNavigationTransition(_e,"",Kr.SupersededByNewNavigation),(null===(St=this.currentTransition)||void 0===St?void 0:St.id)===_e.id&&(this.currentNavigation=null,this.currentTransition=null)}),ht(St=>{if(tn=!0,oi(St))this.events.next(new io(_e.id,this.urlSerializer.serialize(_e.extractedUrl),St.message,St.cancellationCode)),function Rr(E){return oi(E)&&Cr(E.url)}(St)?this.events.next(new Oo(St.url)):_e.resolve(!1);else{var ln;this.events.next(new xo(_e.id,this.urlSerializer.serialize(_e.extractedUrl),St,null!==(ln=_e.targetSnapshot)&&void 0!==ln?ln:void 0));try{_e.resolve(w.errorHandler(St))}catch(vr){this.options.resolveNavigationPromiseOnError?_e.resolve(!1):_e.reject(vr)}}return ut.w}))}))}cancelNavigationTransition(w,N,ie){const _e=new io(w.id,this.urlSerializer.serialize(w.extractedUrl),N,ie);this.events.next(_e),w.resolve(!1)}isUpdatingInternalState(){var w,N;return(null===(w=this.currentTransition)||void 0===w?void 0:w.extractedUrl.toString())!==(null===(N=this.currentTransition)||void 0===N?void 0:N.currentUrlTree.toString())}isUpdatedBrowserUrl(){var w,N;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(w=this.currentTransition)||void 0===w?void 0:w.extractedUrl.toString())&&!(null!==(N=this.currentTransition)&&void 0!==N&&N.extras.skipLocationChange)}}return(E=b).\u0275fac=function(w){return new(w||E)},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),b})();function tt(E){return E!==ai}let on=(()=>{var E;class b{}return(E=b).\u0275fac=function(w){return new(w||E)},E.\u0275prov=c.jDH({token:E,factory:()=>(0,c.WQX)(br),providedIn:"root"}),b})();class Ar{shouldDetach(b){return!1}store(b,P){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,P){return b.routeConfig===P.routeConfig}}let br=(()=>{var E;class b extends Ar{}return(E=b).\u0275fac=(()=>{let P;return function(N){return(P||(P=c.xGo(E)))(N||E)}})(),E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),b})(),jr=(()=>{var E;class b{}return(E=b).\u0275fac=function(w){return new(w||E)},E.\u0275prov=c.jDH({token:E,factory:()=>(0,c.WQX)(pr),providedIn:"root"}),b})(),pr=(()=>{var E;class b extends jr{constructor(){super(...arguments),this.location=(0,c.WQX)(Oe.aZ),this.urlSerializer=(0,c.WQX)(Bn),this.options=(0,c.WQX)(Wa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,c.WQX)(Na),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Gr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=me(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var w,N;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(w=null===(N=this.restoredState())||void 0===N?void 0:N.\u0275routerPageId)&&void 0!==w?w:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(w){return this.location.subscribe(N=>{"popstate"===N.type&&w(N.url,N.state)})}handleRouterEvent(w,N){if(w instanceof To)this.stateMemento=this.createStateMemento();else if(w instanceof co)this.rawUrlTree=N.initialUrl;else if(w instanceof No){if("eager"===this.urlUpdateStrategy&&!N.extras.skipLocationChange){const ie=this.urlHandlingStrategy.merge(N.finalUrl,N.initialUrl);this.setBrowserUrl(ie,N)}}else w instanceof Nr?(this.currentUrlTree=N.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(N.finalUrl,N.initialUrl),this.routerState=N.targetRouterState,"deferred"===this.urlUpdateStrategy&&(N.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,N))):w instanceof io&&(w.code===Kr.GuardRejected||w.code===Kr.NoDataFromResolver)?this.restoreHistory(N):w instanceof xo?this.restoreHistory(N,!0):w instanceof Vi&&(this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId)}setBrowserUrl(w,N){const ie=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(ie)||N.extras.replaceUrl){const ct={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(ie,"",ct)}else{const _e={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(ie,"",_e)}}restoreHistory(w,N=!1){if("computed"===this.canceledNavigationResolution){const _e=this.currentPageId-this.browserPageId;0!==_e?this.location.historyGo(_e):this.currentUrlTree===w.finalUrl&&0===_e&&(this.resetState(w),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){var N;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(N=w.finalUrl)&&void 0!==N?N:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,N){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:N}:{navigationId:w}}}return(E=b).\u0275fac=(()=>{let P;return function(N){return(P||(P=c.xGo(E)))(N||E)}})(),E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),b})();var Yr=function(E){return E[E.COMPLETE=0]="COMPLETE",E[E.FAILED=1]="FAILED",E[E.REDIRECTING=2]="REDIRECTING",E}(Yr||{});function Vr(E,b){E.events.pipe((0,$e.p)(P=>P instanceof Vi||P instanceof io||P instanceof xo||P instanceof co),(0,le.T)(P=>P instanceof Vi||P instanceof co?Yr.COMPLETE:P instanceof io&&(P.code===Kr.Redirect||P.code===Kr.SupersededByNewNavigation)?Yr.REDIRECTING:Yr.FAILED),(0,$e.p)(P=>P!==Yr.REDIRECTING),(0,at.s)(1)).subscribe(()=>{b()})}function Xi(E){throw E}const ni={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Rn=(()=>{var E;class b{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var w,N;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,c.WQX)(c.H3F),this.stateManager=(0,c.WQX)(jr),this.options=(0,c.WQX)(Wa,{optional:!0})||{},this.pendingTasks=(0,c.WQX)(c.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,c.WQX)(we),this.urlSerializer=(0,c.WQX)(Bn),this.location=(0,c.WQX)(Oe.aZ),this.urlHandlingStrategy=(0,c.WQX)(Na),this._events=new Ee.B,this.errorHandler=this.options.errorHandler||Xi,this.navigated=!1,this.routeReuseStrategy=(0,c.WQX)(on),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(w=null===(N=(0,c.WQX)(xa,{optional:!0}))||void 0===N?void 0:N.flat())&&void 0!==w?w:[],this.componentInputBindingEnabled=!!(0,c.WQX)(Xt,{optional:!0}),this.eventsSubscription=new qe.yU,this.isNgZoneEnabled=(0,c.WQX)(c.SKi)instanceof c.SKi&&c.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:ie=>{this.console.warn(ie)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(N=>{try{const ie=this.navigationTransitions.currentTransition,_e=this.navigationTransitions.currentNavigation;if(null!==ie&&null!==_e)if(this.stateManager.handleRouterEvent(N,_e),N instanceof io&&N.code!==Kr.Redirect&&N.code!==Kr.SupersededByNewNavigation)this.navigated=!0;else if(N instanceof Vi)this.navigated=!0;else if(N instanceof Oo){const ct=this.urlHandlingStrategy.merge(N.url,ie.currentRawUrl),tn={info:ie.extras.info,skipLocationChange:ie.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||tt(ie.source)};this.scheduleNavigation(ct,ai,null,tn,{resolve:ie.resolve,reject:ie.reject,promise:ie.promise})}(function to(E){return!(E instanceof Nr||E instanceof Oo)})(N)&&this._events.next(N)}catch(ie){this.navigationTransitions.transitionAbortSubject.next(ie)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ai,this.stateManager.restoredState())}setUpLocationChangeListener(){var w;null!==(w=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==w||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((N,ie)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(N,"popstate",ie)},0)}))}navigateToSyncWithBrowser(w,N,ie){const _e={replaceUrl:!0},ct=null!=ie&&ie.navigationId?ie:null;if(ie){const St={...ie};delete St.navigationId,delete St.\u0275routerPageId,0!==Object.keys(St).length&&(_e.state=St)}const tn=this.parseUrl(w);this.scheduleNavigation(tn,N,ct,_e)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(wa),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,N={}){const{relativeTo:ie,queryParams:_e,fragment:ct,queryParamsHandling:tn,preserveFragment:St}=N,ln=St?this.currentUrlTree.fragment:ct;let fi,vr=null;switch(tn){case"merge":vr={...this.currentUrlTree.queryParams,..._e};break;case"preserve":vr=this.currentUrlTree.queryParams;break;default:vr=_e||null}null!==vr&&(vr=this.removeEmptyProps(vr));try{fi=_i(ie?ie.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),fi=this.currentUrlTree.root}return nr(fi,w,vr,null!=ln?ln:null)}navigateByUrl(w,N={skipLocationChange:!1}){const ie=Cr(w)?w:this.parseUrl(w),_e=this.urlHandlingStrategy.merge(ie,this.rawUrlTree);return this.scheduleNavigation(_e,ai,null,N)}navigate(w,N={skipLocationChange:!1}){return function ui(E){for(let b=0;b<E.length;b++)if(null==E[b])throw new c.wOt(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,N),N)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){try{return this.urlSerializer.parse(w)}catch{return this.urlSerializer.parse("/")}}isActive(w,N){let ie;if(ie=!0===N?{...ni}:!1===N?{...nn}:N,Cr(w))return Fr(this.currentUrlTree,w,ie);const _e=this.parseUrl(w);return Fr(this.currentUrlTree,_e,ie)}removeEmptyProps(w){return Object.entries(w).reduce((N,[ie,_e])=>(null!=_e&&(N[ie]=_e),N),{})}scheduleNavigation(w,N,ie,_e,ct){if(this.disposed)return Promise.resolve(!1);let tn,St,ln;ct?(tn=ct.resolve,St=ct.reject,ln=ct.promise):ln=new Promise((fi,Tr)=>{tn=fi,St=Tr});const vr=this.pendingTasks.add();return Vr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(vr))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:ie,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:w,extras:_e,resolve:tn,reject:St,promise:ln,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ln.catch(fi=>Promise.reject(fi))}}return(E=b).\u0275fac=function(w){return new(w||E)},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),b})(),Mr=(()=>{var E;class b{constructor(w,N,ie,_e,ct,tn){var St;this.router=w,this.route=N,this.tabIndexAttribute=ie,this.renderer=_e,this.el=ct,this.locationStrategy=tn,this.href=null,this.commands=null,this.onChanges=new Ee.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ln=null===(St=ct.nativeElement.tagName)||void 0===St?void 0:St.toLowerCase();this.isAnchorElement="a"===ln||"area"===ln,this.isAnchorElement?this.subscription=w.events.subscribe(vr=>{vr instanceof Vi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,N,ie,_e,ct){const tn=this.urlTree;return!!(null===tn||this.isAnchorElement&&(0!==w||N||ie||_e||ct||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(tn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var w;null===(w=this.subscription)||void 0===w||w.unsubscribe()}updateHref(){var w;const N=this.urlTree;this.href=null!==N&&this.locationStrategy?null===(w=this.locationStrategy)||void 0===w?void 0:w.prepareExternalUrl(this.router.serializeUrl(N)):null;const ie=null===this.href?null:(0,c.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",ie)}applyAttributeValue(w,N){const ie=this.renderer,_e=this.el.nativeElement;null!==N?ie.setAttribute(_e,w,N):ie.removeAttribute(_e,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(E=b).\u0275fac=function(w){return new(w||E)(c.rXU(Rn),c.rXU(ve),c.kS0("tabindex"),c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(Oe.hb))},E.\u0275dir=c.FsC({type:E,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(w,N){1&w&&c.bIt("click",function(_e){return N.onClick(_e.button,_e.ctrlKey,_e.shiftKey,_e.altKey,_e.metaKey)}),2&w&&c.BMQ("target",N.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[c.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",c.L39],skipLocationChange:[c.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",c.L39],replaceUrl:[c.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",c.L39],routerLink:"routerLink"},standalone:!0,features:[c.GFd,c.OA$]}),b})();class ci{}let hi=(()=>{var E;class b{preload(w,N){return N().pipe(ht(()=>(0,re.of)(null)))}}return(E=b).\u0275fac=function(w){return new(w||E)},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),b})(),Ir=(()=>{var E;class b{constructor(w,N,ie,_e,ct){this.router=w,this.injector=ie,this.preloadingStrategy=_e,this.loader=ct}setUpPreloading(){this.subscription=this.router.events.pipe((0,$e.p)(w=>w instanceof Vi),vt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,N){const ie=[];for(const St of N){var _e,ct;St.providers&&!St._injector&&(St._injector=(0,c.Ol2)(St.providers,w,`Route: ${St.path}`));const ln=null!==(_e=St._injector)&&void 0!==_e?_e:w,vr=null!==(ct=St._loadedInjector)&&void 0!==ct?ct:ln;var tn;(St.loadChildren&&!St._loadedRoutes&&void 0===St.canLoad||St.loadComponent&&!St._loadedComponent)&&ie.push(this.preloadConfig(ln,St)),(St.children||St._loadedRoutes)&&ie.push(this.processRoutes(vr,null!==(tn=St.children)&&void 0!==tn?tn:St._loadedRoutes))}return(0,Se.H)(ie).pipe((0,Mn.U)())}preloadConfig(w,N){return this.preloadingStrategy.preload(N,()=>{let ie;ie=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(w,N):(0,re.of)(null);const _e=ie.pipe((0,Lt.Z)(ct=>{var tn;return null===ct?(0,re.of)(void 0):(N._loadedRoutes=ct.routes,N._loadedInjector=ct.injector,this.processRoutes(null!==(tn=ct.injector)&&void 0!==tn?tn:w,ct.routes))}));if(N.loadComponent&&!N._loadedComponent){const ct=this.loader.loadComponent(N);return(0,Se.H)([_e,ct]).pipe((0,Mn.U)())}return _e})}}return(E=b).\u0275fac=function(w){return new(w||E)(c.KVO(Rn),c.KVO(c.Ql9),c.KVO(c.uvJ),c.KVO(ci),c.KVO(Lu))},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),b})();const $s=new c.nKC("");let Ss=(()=>{var E;class b{constructor(w,N,ie,_e,ct={}){this.urlSerializer=w,this.transitions=N,this.viewportScroller=ie,this.zone=_e,this.options=ct,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,c.WQX)(c.uvJ),ct.scrollPositionRestoration||(ct.scrollPositionRestoration="disabled"),ct.anchorScrolling||(ct.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof To?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Vi?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof co&&w.code===Di.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof ur&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,N){var ie=this;this.zone.runOutsideAngular((0,p.A)(function*(){yield new Promise(_e=>{setTimeout(()=>{_e()}),(0,c.mal)(()=>{_e()},{injector:ie.environmentInjector})}),ie.zone.run(()=>{ie.transitions.events.next(new ur(w,"popstate"===ie.lastSource?ie.store[ie.restoredId]:null,N))})}))}ngOnDestroy(){var w,N;null===(w=this.routerEventsSubscription)||void 0===w||w.unsubscribe(),null===(N=this.scrollEventsSubscription)||void 0===N||N.unsubscribe()}}return(E=b).\u0275fac=function(w){c.QTQ()},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac}),b})();function Io(E,b){return{\u0275kind:E,\u0275providers:b}}function Rs(){const E=(0,c.WQX)(c.zZn);return b=>{var P,w;const N=E.get(c.o8S);if(b!==N.components[0])return;const ie=E.get(Rn),_e=E.get(gs);1===E.get(fa)&&ie.initialNavigation(),null===(P=E.get(zi,null,c.$GK.Optional))||void 0===P||P.setUpPreloading(),null===(w=E.get($s,null,c.$GK.Optional))||void 0===w||w.init(),ie.resetRootComponentType(N.componentTypes[0]),_e.closed||(_e.next(),_e.complete(),_e.unsubscribe())}}const gs=new c.nKC("",{factory:()=>new Ee.B}),fa=new c.nKC("",{providedIn:"root",factory:()=>1}),zi=new c.nKC("");function Yl(E){return Io(0,[{provide:zi,useExisting:Ir},{provide:ci,useExisting:E}])}function Eo(E){return Io(9,[{provide:F,useValue:M},{provide:be,useValue:{skipNextTransition:!(null==E||!E.skipInitialTransition),...E}}])}const Oa=new c.nKC("ROUTER_FORROOT_GUARD"),Zl=[Oe.aZ,{provide:Bn,useClass:mi},Rn,Ts,{provide:ve,useFactory:function di(E){return E.routerState.root},deps:[Rn]},Lu,[]];let js=(()=>{var E;class b{constructor(w){}static forRoot(w,N){return{ngModule:b,providers:[Zl,[],{provide:xa,multi:!0,useValue:w},{provide:Oa,useFactory:_l,deps:[[Rn,new c.Xx1,new c.kdw]]},{provide:Wa,useValue:N||{}},null!=N&&N.useHash?{provide:Oe.hb,useClass:Oe.fw}:{provide:Oe.hb,useClass:Oe.Sm},{provide:$s,useFactory:()=>{const E=(0,c.WQX)(Oe.Xr),b=(0,c.WQX)(c.SKi),P=(0,c.WQX)(Wa),w=(0,c.WQX)(we),N=(0,c.WQX)(Bn);return P.scrollOffset&&E.setOffset(P.scrollOffset),new Ss(N,w,E,b,P)}},null!=N&&N.preloadingStrategy?Yl(N.preloadingStrategy).\u0275providers:[],null!=N&&N.initialNavigation?zd(N):[],null!=N&&N.bindToComponentInputs?Io(8,[qt,{provide:Xt,useExisting:qt}]).\u0275providers:[],null!=N&&N.enableViewTransitions?Eo().\u0275providers:[],[{provide:Bu,useFactory:Rs},{provide:c.iLQ,multi:!0,useExisting:Bu}]]}}static forChild(w){return{ngModule:b,providers:[{provide:xa,multi:!0,useValue:w}]}}}return(E=b).\u0275fac=function(w){return new(w||E)(c.KVO(Oa,8))},E.\u0275mod=c.$C({type:E}),E.\u0275inj=c.G2t({}),b})();function _l(E){return"guarded"}function zd(E){return["disabled"===E.initialNavigation?Io(3,[{provide:c.hnV,multi:!0,useFactory:()=>{const b=(0,c.WQX)(Rn);return()=>{b.setUpLocationChangeListener()}}},{provide:fa,useValue:2}]).\u0275providers:[],"enabledBlocking"===E.initialNavigation?Io(2,[{provide:fa,useValue:0},{provide:c.hnV,multi:!0,deps:[c.zZn],useFactory:b=>{const P=b.get(Oe.hj,Promise.resolve());return()=>P.then(()=>new Promise(w=>{const N=b.get(Rn),ie=b.get(gs);Vr(N,()=>{w(!0)}),b.get(we).afterPreactivation=()=>(w(!0),ie.closed?(0,re.of)(void 0):ie),N.initialNavigation()}))}}]).\u0275providers:[]]}const Bu=new c.nKC("")},3345:(fn,dt,L)=>{"use strict";L.d(dt,{A:()=>We});var p=L(1076),c=L(1362),J=L(7852),ne=L(8041);class he{constructor(qe,Ye){this._delegate=qe,this.firebase=Ye,(0,J._addComponent)(qe,new c.uA("app-compat",()=>this,"PUBLIC")),this.container=qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this._delegate.automaticDataCollectionEnabled=qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(qe=>{this._delegate.checkDestroyed(),qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,J.deleteApp)(this._delegate)))}_getService(qe,Ye=J._DEFAULT_ENTRY_NAME){var At;this._delegate.checkDestroyed();const rt=this._delegate.container.getProvider(qe);return!rt.isInitialized()&&"EXPLICIT"===(null===(At=rt.getComponent())||void 0===At?void 0:At.instantiationMode)&&rt.initialize(),rt.getImmediate({identifier:Ye})}_removeServiceInstance(qe,Ye=J._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(qe).clearInstance(Ye)}_addComponent(qe){(0,J._addComponent)(this._delegate,qe)}_addOrOverwriteComponent(qe){(0,J._addOrOverwriteComponent)(this._delegate,qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new p.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Te=function He(){const ut=function Le(ut){const qe={},Ye={__esModule:!0,initializeApp:function It(it,at={}){const Ze=J.initializeApp(it,at);if((0,p.gR)(qe,Ze.name))return qe[Ze.name];const $e=new ut(Ze,Ye);return qe[Ze.name]=$e,$e},app:rt,registerVersion:J.registerVersion,setLogLevel:J.setLogLevel,onLog:J.onLog,apps:null,SDK_VERSION:J.SDK_VERSION,INTERNAL:{registerComponent:function Oe(it){const at=it.name,Ze=at.replace("-compat","");if(J._registerComponent(it)&&"PUBLIC"===it.type){const $e=(Lt=rt())=>{if("function"!=typeof Lt[Ze])throw re.create("invalid-app-argument",{appName:at});return Lt[Ze]()};void 0!==it.serviceProps&&(0,p.zw)($e,it.serviceProps),Ye[Ze]=$e,ut.prototype[Ze]=function(...Lt){return this._getService.bind(this,at).apply(this,it.multipleInstances?Lt:[])}}return"PUBLIC"===it.type?Ye[Ze]:null},removeApp:function At(it){delete qe[it]},useAsService:function le(it,at){return"serverAuth"===at?null:at},modularAPIs:J}};function rt(it){if(!(0,p.gR)(qe,it=it||J._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:it});return qe[it]}return Ye.default=Ye,Object.defineProperty(Ye,"apps",{get:function Ee(){return Object.keys(qe).map(it=>qe[it])}}),rt.App=ut,Ye}(he);return ut.INTERNAL=Object.assign(Object.assign({},ut.INTERNAL),{createFirebaseNamespace:He,extendNamespace:function qe(Ye){(0,p.zw)(ut,Ye)},createSubscribe:p.tD,ErrorFactory:p.FA,deepExtend:p.zw}),ut}(),de=new ne.Vy("@firebase/app-compat");if((0,p.Bd)()&&void 0!==self.firebase){de.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ut=self.firebase.SDK_VERSION;ut&&ut.indexOf("LITE")>=0&&de.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const We=Te;!function ke(ut){(0,J.registerVersion)("@firebase/app-compat","0.2.35",ut)}()},7852:(fn,dt,L)=>{"use strict";L.r(dt),L.d(dt,{FirebaseError:()=>ne.g,SDK_VERSION:()=>Pi,_DEFAULT_ENTRY_NAME:()=>Zn,_addComponent:()=>hr,_addOrOverwriteComponent:()=>Gr,_apps:()=>vn,_clearComponents:()=>Bn,_components:()=>gr,_getProvider:()=>Pr,_isFirebaseApp:()=>Zr,_isFirebaseServerApp:()=>fr,_registerComponent:()=>Pn,_removeServiceInstance:()=>Ln,_serverApps:()=>er,deleteApp:()=>Je,getApp:()=>et,getApps:()=>Nt,initializeApp:()=>Qr,initializeServerApp:()=>ft,onLog:()=>Fe,registerVersion:()=>pe,setLogLevel:()=>xt});var p=L(467),c=L(1362),J=L(8041),ne=L(1076);const he=(Ft,Y)=>Y.some(Q=>Ft instanceof Q);let Se,re;const Te=new WeakMap,de=new WeakMap,Ne=new WeakMap,Ve=new WeakMap,ke=new WeakMap;let qe={get(Ft,Y,Q){if(Ft instanceof IDBTransaction){if("done"===Y)return de.get(Ft);if("objectStoreNames"===Y)return Ft.objectStoreNames||Ne.get(Ft);if("store"===Y)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return It(Ft[Y])},set:(Ft,Y,Q)=>(Ft[Y]=Q,!0),has:(Ft,Y)=>Ft instanceof IDBTransaction&&("done"===Y||"store"===Y)||Y in Ft};function rt(Ft){return"function"==typeof Ft?function At(Ft){return Ft!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function He(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ft)?function(...Y){return Ft.apply(Ee(this),Y),It(Te.get(this))}:function(...Y){return It(Ft.apply(Ee(this),Y))}:function(Y,...Q){const Pe=Ft.call(Ee(this),Y,...Q);return Ne.set(Pe,Y.sort?Y.sort():[Y]),It(Pe)}}(Ft):(Ft instanceof IDBTransaction&&function ut(Ft){if(de.has(Ft))return;const Y=new Promise((Q,Pe)=>{const te=()=>{Ft.removeEventListener("complete",Z),Ft.removeEventListener("error",Re),Ft.removeEventListener("abort",Re)},Z=()=>{Q(),te()},Re=()=>{Pe(Ft.error||new DOMException("AbortError","AbortError")),te()};Ft.addEventListener("complete",Z),Ft.addEventListener("error",Re),Ft.addEventListener("abort",Re)});de.set(Ft,Y)}(Ft),he(Ft,function Le(){return Se||(Se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ft,qe):Ft)}function It(Ft){if(Ft instanceof IDBRequest)return function We(Ft){const Y=new Promise((Q,Pe)=>{const te=()=>{Ft.removeEventListener("success",Z),Ft.removeEventListener("error",Re)},Z=()=>{Q(It(Ft.result)),te()},Re=()=>{Pe(Ft.error),te()};Ft.addEventListener("success",Z),Ft.addEventListener("error",Re)});return Y.then(Q=>{Q instanceof IDBCursor&&Te.set(Q,Ft)}).catch(()=>{}),ke.set(Y,Ft),Y}(Ft);if(Ve.has(Ft))return Ve.get(Ft);const Y=rt(Ft);return Y!==Ft&&(Ve.set(Ft,Y),ke.set(Y,Ft)),Y}const Ee=Ft=>ke.get(Ft),it=["get","getKey","getAll","getAllKeys","count"],at=["put","add","delete","clear"],Ze=new Map;function $e(Ft,Y){if(!(Ft instanceof IDBDatabase)||Y in Ft||"string"!=typeof Y)return;if(Ze.get(Y))return Ze.get(Y);const Q=Y.replace(/FromIndex$/,""),Pe=Y!==Q,te=at.includes(Q);if(!(Q in(Pe?IDBIndex:IDBObjectStore).prototype)||!te&&!it.includes(Q))return;const Z=function(){var Re=(0,p.A)(function*(Tt,...wt){const hn=this.transaction(Tt,te?"readwrite":"readonly");let $n=hn.store;return Pe&&($n=$n.index(wt.shift())),(yield Promise.all([$n[Q](...wt),te&&hn.done]))[0]});return function(wt){return Re.apply(this,arguments)}}();return Ze.set(Y,Z),Z}!function Ye(Ft){qe=Ft(qe)}(Ft=>({...Ft,get:(Y,Q,Pe)=>$e(Y,Q)||Ft.get(Y,Q,Pe),has:(Y,Q)=>!!$e(Y,Q)||Ft.has(Y,Q)}));class Lt{constructor(Y){this.container=Y}getPlatformInfoString(){return this.container.getProviders().map(Q=>{if(function un(Ft){const Y=Ft.getComponent();return"VERSION"===(null==Y?void 0:Y.type)}(Q)){const Pe=Q.getImmediate();return`${Pe.library}/${Pe.version}`}return null}).filter(Q=>Q).join(" ")}}const vt="@firebase/app",Xe="0.10.5",ht=new J.Vy("@firebase/app"),Zn="[DEFAULT]",En={[vt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},vn=new Map,er=new Map,gr=new Map;function hr(Ft,Y){try{Ft.container.addComponent(Y)}catch(Q){ht.debug(`Component ${Y.name} failed to register with FirebaseApp ${Ft.name}`,Q)}}function Gr(Ft,Y){Ft.container.addOrOverwriteComponent(Y)}function Pn(Ft){const Y=Ft.name;if(gr.has(Y))return ht.debug(`There were multiple attempts to register component ${Y}.`),!1;gr.set(Y,Ft);for(const Q of vn.values())hr(Q,Ft);for(const Q of er.values())hr(Q,Ft);return!0}function Pr(Ft,Y){const Q=Ft.container.getProvider("heartbeat").getImmediate({optional:!0});return Q&&Q.triggerHeartbeat(),Ft.container.getProvider(Y)}function Ln(Ft,Y,Q=Zn){Pr(Ft,Y).clearInstance(Q)}function Zr(Ft){return void 0!==Ft.options}function fr(Ft){return void 0!==Ft.settings}function Bn(){gr.clear()}const dr=new ne.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Jr{constructor(Y,Q,Pe){this._isDeleted=!1,this._options=Object.assign({},Y),this._config=Object.assign({},Q),this._name=Q.name,this._automaticDataCollectionEnabled=Q.automaticDataCollectionEnabled,this._container=Pe,this.container.addComponent(new c.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Y){this.checkDestroyed(),this._automaticDataCollectionEnabled=Y}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Y){this._isDeleted=Y}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}class vi extends Jr{constructor(Y,Q,Pe,te){const Z=void 0!==Q.automaticDataCollectionEnabled&&Q.automaticDataCollectionEnabled,Re={name:Pe,automaticDataCollectionEnabled:Z};super(void 0!==Y.apiKey?Y:Y.options,Re,te),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Z},Q),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Q.releaseOnDeref=void 0,pe(vt,Xe,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(Y){this.isDeleted||(this._refCount++,void 0!==Y&&this._finalizationRegistry.register(Y,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Je(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw dr.create("server-app-deleted")}}const Pi="10.12.2";function Qr(Ft,Y={}){let Q=Ft;"object"!=typeof Y&&(Y={name:Y});const Pe=Object.assign({name:Zn,automaticDataCollectionEnabled:!1},Y),te=Pe.name;if("string"!=typeof te||!te)throw dr.create("bad-app-name",{appName:String(te)});if(Q||(Q=(0,ne.T9)()),!Q)throw dr.create("no-options");const Z=vn.get(te);if(Z){if((0,ne.bD)(Q,Z.options)&&(0,ne.bD)(Pe,Z.config))return Z;throw dr.create("duplicate-app",{appName:te})}const Re=new c.h1(te);for(const wt of gr.values())Re.addComponent(wt);const Tt=new Jr(Q,Pe,Re);return vn.set(te,Tt),Tt}function ft(Ft,Y){if((0,ne.Bd)())throw dr.create("invalid-server-app-environment");let Q;void 0===Y.automaticDataCollectionEnabled&&(Y.automaticDataCollectionEnabled=!1),Q=Zr(Ft)?Ft.options:Ft;const Pe=Object.assign(Object.assign({},Y),Q);if(void 0!==Pe.releaseOnDeref&&delete Pe.releaseOnDeref,void 0!==Y.releaseOnDeref&&typeof FinalizationRegistry>"u")throw dr.create("finalization-registry-not-supported",{});const Z=""+(hn=JSON.stringify(Pe),[...hn].reduce(($n,mr)=>Math.imul(31,$n)+mr.charCodeAt(0)|0,0)),Re=er.get(Z);var hn;if(Re)return Re.incRefCount(Y.releaseOnDeref),Re;const Tt=new c.h1(Z);for(const hn of gr.values())Tt.addComponent(hn);const wt=new vi(Q,Y,Z,Tt);return er.set(Z,wt),wt}function et(Ft=Zn){const Y=vn.get(Ft);if(!Y&&Ft===Zn&&(0,ne.T9)())return Qr();if(!Y)throw dr.create("no-app",{appName:Ft});return Y}function Nt(){return Array.from(vn.values())}function Je(Ft){return ce.apply(this,arguments)}function ce(){return(ce=(0,p.A)(function*(Ft){let Y=!1;const Q=Ft.name;vn.has(Q)?(Y=!0,vn.delete(Q)):er.has(Q)&&Ft.decRefCount()<=0&&(er.delete(Q),Y=!0),Y&&(yield Promise.all(Ft.container.getProviders().map(Pe=>Pe.delete())),Ft.isDeleted=!0)})).apply(this,arguments)}function pe(Ft,Y,Q){var Pe;let te=null!==(Pe=En[Ft])&&void 0!==Pe?Pe:Ft;Q&&(te+=`-${Q}`);const Z=te.match(/\s|\//),Re=Y.match(/\s|\//);if(Z||Re){const Tt=[`Unable to register library "${te}" with version "${Y}":`];return Z&&Tt.push(`library name "${te}" contains illegal characters (whitespace or "/")`),Z&&Re&&Tt.push("and"),Re&&Tt.push(`version name "${Y}" contains illegal characters (whitespace or "/")`),void ht.warn(Tt.join(" "))}Pn(new c.uA(`${te}-version`,()=>({library:te,version:Y}),"VERSION"))}function Fe(Ft,Y){if(null!==Ft&&"function"!=typeof Ft)throw dr.create("invalid-log-argument");(0,J.Ey)(Ft,Y)}function xt(Ft){(0,J.He)(Ft)}const _t="firebase-heartbeat-database",dn=1,Cn="firebase-heartbeat-store";let tr=null;function ar(){return tr||(tr=function Oe(Ft,Y,{blocked:Q,upgrade:Pe,blocking:te,terminated:Z}={}){const Re=indexedDB.open(Ft,Y),Tt=It(Re);return Pe&&Re.addEventListener("upgradeneeded",wt=>{Pe(It(Re.result),wt.oldVersion,wt.newVersion,It(Re.transaction),wt)}),Q&&Re.addEventListener("blocked",wt=>Q(wt.oldVersion,wt.newVersion,wt)),Tt.then(wt=>{Z&&wt.addEventListener("close",()=>Z()),te&&wt.addEventListener("versionchange",hn=>te(hn.oldVersion,hn.newVersion,hn))}).catch(()=>{}),Tt}(_t,dn,{upgrade:(Ft,Y)=>{if(0===Y)try{Ft.createObjectStore(Cn)}catch(Q){console.warn(Q)}}}).catch(Ft=>{throw dr.create("idb-open",{originalErrorMessage:Ft.message})})),tr}function ri(){return(ri=(0,p.A)(function*(Ft){try{const Q=(yield ar()).transaction(Cn),Pe=yield Q.objectStore(Cn).get(ei(Ft));return yield Q.done,Pe}catch(Y){if(Y instanceof ne.g)ht.warn(Y.message);else{const Q=dr.create("idb-get",{originalErrorMessage:null==Y?void 0:Y.message});ht.warn(Q.message)}}})).apply(this,arguments)}function Vn(Ft,Y){return In.apply(this,arguments)}function In(){return(In=(0,p.A)(function*(Ft,Y){try{const Pe=(yield ar()).transaction(Cn,"readwrite");yield Pe.objectStore(Cn).put(Y,ei(Ft)),yield Pe.done}catch(Q){if(Q instanceof ne.g)ht.warn(Q.message);else{const Pe=dr.create("idb-set",{originalErrorMessage:null==Q?void 0:Q.message});ht.warn(Pe.message)}}})).apply(this,arguments)}function ei(Ft){return`${Ft.name}!${Ft.options.appId}`}class Ji{constructor(Y){this.container=Y,this._heartbeatsCache=null;const Q=this.container.getProvider("app").getImmediate();this._storage=new Fi(Q),this._heartbeatsCachePromise=this._storage.read().then(Pe=>(this._heartbeatsCache=Pe,Pe))}triggerHeartbeat(){var Y=this;return(0,p.A)(function*(){var Q,Pe;const Z=Y.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Re=_i();if((null!=(null===(Q=Y._heartbeatsCache)||void 0===Q?void 0:Q.heartbeats)||(Y._heartbeatsCache=yield Y._heartbeatsCachePromise,null!=(null===(Pe=Y._heartbeatsCache)||void 0===Pe?void 0:Pe.heartbeats)))&&Y._heartbeatsCache.lastSentHeartbeatDate!==Re&&!Y._heartbeatsCache.heartbeats.some(Tt=>Tt.date===Re))return Y._heartbeatsCache.heartbeats.push({date:Re,agent:Z}),Y._heartbeatsCache.heartbeats=Y._heartbeatsCache.heartbeats.filter(Tt=>{const wt=new Date(Tt.date).valueOf();return Date.now()-wt<=2592e6}),Y._storage.overwrite(Y._heartbeatsCache)})()}getHeartbeatsHeader(){var Y=this;return(0,p.A)(function*(){var Q;if(null===Y._heartbeatsCache&&(yield Y._heartbeatsCachePromise),null==(null===(Q=Y._heartbeatsCache)||void 0===Q?void 0:Q.heartbeats)||0===Y._heartbeatsCache.heartbeats.length)return"";const Pe=_i(),{heartbeatsToSend:te,unsentEntries:Z}=function nr(Ft,Y=1024){const Q=[];let Pe=Ft.slice();for(const te of Ft){const Z=Q.find(Re=>Re.agent===te.agent);if(Z){if(Z.dates.push(te.date),Li(Q)>Y){Z.dates.pop();break}}else if(Q.push({agent:te.agent,dates:[te.date]}),Li(Q)>Y){Q.pop();break}Pe=Pe.slice(1)}return{heartbeatsToSend:Q,unsentEntries:Pe}}(Y._heartbeatsCache.heartbeats),Re=(0,ne.Uj)(JSON.stringify({version:2,heartbeats:te}));return Y._heartbeatsCache.lastSentHeartbeatDate=Pe,Z.length>0?(Y._heartbeatsCache.heartbeats=Z,yield Y._storage.overwrite(Y._heartbeatsCache)):(Y._heartbeatsCache.heartbeats=[],Y._storage.overwrite(Y._heartbeatsCache)),Re})()}}function _i(){return(new Date).toISOString().substring(0,10)}class Fi{constructor(Y){this.app=Y,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.A)(function*(){return!!(0,ne.zW)()&&(0,ne.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Y=this;return(0,p.A)(function*(){if(yield Y._canUseIndexedDBPromise){const Pe=yield function Wr(Ft){return ri.apply(this,arguments)}(Y.app);return null!=Pe&&Pe.heartbeats?Pe:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Y){var Q=this;return(0,p.A)(function*(){var Pe;if(yield Q._canUseIndexedDBPromise){const Z=yield Q.read();return Vn(Q.app,{lastSentHeartbeatDate:null!==(Pe=Y.lastSentHeartbeatDate)&&void 0!==Pe?Pe:Z.lastSentHeartbeatDate,heartbeats:Y.heartbeats})}})()}add(Y){var Q=this;return(0,p.A)(function*(){var Pe;if(yield Q._canUseIndexedDBPromise){const Z=yield Q.read();return Vn(Q.app,{lastSentHeartbeatDate:null!==(Pe=Y.lastSentHeartbeatDate)&&void 0!==Pe?Pe:Z.lastSentHeartbeatDate,heartbeats:[...Z.heartbeats,...Y.heartbeats]})}})()}}function Li(Ft){return(0,ne.Uj)(JSON.stringify({version:2,heartbeats:Ft})).length}!function li(Ft){Pn(new c.uA("platform-logger",Y=>new Lt(Y),"PRIVATE")),Pn(new c.uA("heartbeat",Y=>new Ji(Y),"PRIVATE")),pe(vt,Xe,Ft),pe(vt,Xe,"esm2017"),pe("fire-js","")}("")},1362:(fn,dt,L)=>{"use strict";L.d(dt,{Kq:()=>he,h1:()=>Le,uA:()=>J});var p=L(467),c=L(1076);class J{constructor(Te,de,Ne){this.name=Te,this.instanceFactory=de,this.type=Ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Te){return this.instantiationMode=Te,this}setMultipleInstances(Te){return this.multipleInstances=Te,this}setServiceProps(Te){return this.serviceProps=Te,this}setInstanceCreatedCallback(Te){return this.onInstanceCreated=Te,this}}const ne="[DEFAULT]";class he{constructor(Te,de){this.name=Te,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Te){const de=this.normalizeInstanceIdentifier(Te);if(!this.instancesDeferred.has(de)){const Ne=new c.cY;if(this.instancesDeferred.set(de,Ne),this.isInitialized(de)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:de});Ve&&Ne.resolve(Ve)}catch{}}return this.instancesDeferred.get(de).promise}getImmediate(Te){var de;const Ne=this.normalizeInstanceIdentifier(null==Te?void 0:Te.identifier),Ve=null!==(de=null==Te?void 0:Te.optional)&&void 0!==de&&de;if(!this.isInitialized(Ne)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ne})}catch(ke){if(Ve)return null;throw ke}}getComponent(){return this.component}setComponent(Te){if(Te.name!==this.name)throw Error(`Mismatching Component ${Te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Te,this.shouldAutoInitialize()){if(function re(He){return"EAGER"===He.instantiationMode}(Te))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[de,Ne]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(de);try{const ke=this.getOrInitializeService({instanceIdentifier:Ve});Ne.resolve(ke)}catch{}}}}clearInstance(Te=ne){this.instancesDeferred.delete(Te),this.instancesOptions.delete(Te),this.instances.delete(Te)}delete(){var Te=this;return(0,p.A)(function*(){const de=Array.from(Te.instances.values());yield Promise.all([...de.filter(Ne=>"INTERNAL"in Ne).map(Ne=>Ne.INTERNAL.delete()),...de.filter(Ne=>"_delete"in Ne).map(Ne=>Ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Te=ne){return this.instances.has(Te)}getOptions(Te=ne){return this.instancesOptions.get(Te)||{}}initialize(Te={}){const{options:de={}}=Te,Ne=this.normalizeInstanceIdentifier(Te.instanceIdentifier);if(this.isInitialized(Ne))throw Error(`${this.name}(${Ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:Ne,options:de});for(const[ke,We]of this.instancesDeferred.entries())Ne===this.normalizeInstanceIdentifier(ke)&&We.resolve(Ve);return Ve}onInit(Te,de){var Ne;const Ve=this.normalizeInstanceIdentifier(de),ke=null!==(Ne=this.onInitCallbacks.get(Ve))&&void 0!==Ne?Ne:new Set;ke.add(Te),this.onInitCallbacks.set(Ve,ke);const We=this.instances.get(Ve);return We&&Te(We,Ve),()=>{ke.delete(Te)}}invokeOnInitCallbacks(Te,de){const Ne=this.onInitCallbacks.get(de);if(Ne)for(const Ve of Ne)try{Ve(Te,de)}catch{}}getOrInitializeService({instanceIdentifier:Te,options:de={}}){let Ne=this.instances.get(Te);if(!Ne&&this.component&&(Ne=this.component.instanceFactory(this.container,{instanceIdentifier:(He=Te,He===ne?void 0:He),options:de}),this.instances.set(Te,Ne),this.instancesOptions.set(Te,de),this.invokeOnInitCallbacks(Ne,Te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Te,Ne)}catch{}var He;return Ne||null}normalizeInstanceIdentifier(Te=ne){return this.component?this.component.multipleInstances?Te:ne:Te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Le{constructor(Te){this.name=Te,this.providers=new Map}addComponent(Te){const de=this.getProvider(Te.name);if(de.isComponentSet())throw new Error(`Component ${Te.name} has already been registered with ${this.name}`);de.setComponent(Te)}addOrOverwriteComponent(Te){this.getProvider(Te.name).isComponentSet()&&this.providers.delete(Te.name),this.addComponent(Te)}getProvider(Te){if(this.providers.has(Te))return this.providers.get(Te);const de=new he(Te,this);return this.providers.set(Te,de),de}getProviders(){return Array.from(this.providers.values())}}},8041:(fn,dt,L)=>{"use strict";L.d(dt,{$b:()=>c,Ey:()=>He,He:()=>Le,Vy:()=>re});const p=[];var c=function(Te){return Te[Te.DEBUG=0]="DEBUG",Te[Te.VERBOSE=1]="VERBOSE",Te[Te.INFO=2]="INFO",Te[Te.WARN=3]="WARN",Te[Te.ERROR=4]="ERROR",Te[Te.SILENT=5]="SILENT",Te}(c||{});const J={debug:c.DEBUG,verbose:c.VERBOSE,info:c.INFO,warn:c.WARN,error:c.ERROR,silent:c.SILENT},ne=c.INFO,he={[c.DEBUG]:"log",[c.VERBOSE]:"log",[c.INFO]:"info",[c.WARN]:"warn",[c.ERROR]:"error"},Se=(Te,de,...Ne)=>{if(de<Te.logLevel)return;const Ve=(new Date).toISOString(),ke=he[de];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[ke](`[${Ve}]  ${Te.name}:`,...Ne)};class re{constructor(de){this.name=de,this._logLevel=ne,this._logHandler=Se,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in c))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?J[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,c.DEBUG,...de),this._logHandler(this,c.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,c.VERBOSE,...de),this._logHandler(this,c.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,c.INFO,...de),this._logHandler(this,c.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,c.WARN,...de),this._logHandler(this,c.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,c.ERROR,...de),this._logHandler(this,c.ERROR,...de)}}function Le(Te){p.forEach(de=>{de.setLogLevel(Te)})}function He(Te,de){for(const Ne of p){let Ve=null;de&&de.level&&(Ve=J[de.level]),Ne.userLogHandler=null===Te?null:(ke,We,...ut)=>{const qe=ut.map(Ye=>{if(null==Ye)return null;if("string"==typeof Ye)return Ye;if("number"==typeof Ye||"boolean"==typeof Ye)return Ye.toString();if(Ye instanceof Error)return Ye.message;try{return JSON.stringify(Ye)}catch{return null}}).filter(Ye=>Ye).join(" ");We>=(null!=Ve?Ve:ke.logLevel)&&Te({level:c[We].toLowerCase(),message:qe,args:ut,type:ke.name})}}}},2872:(fn,dt,L)=>{"use strict";L.d(dt,{Yq:()=>pt,TS:()=>Jn,sR:()=>Kn,el:()=>ar,Sb:()=>fr,QE:()=>ei,CF:()=>Pr,Rg:()=>pe,p4:()=>Mi,jM:()=>li,q9:()=>Yt,Kb:()=>Ft,CE:()=>Wr,pF:()=>ri,fL:()=>Ji,YV:()=>dn,er:()=>Cr,z3:()=>_i});var p=L(467),c=L(9842),J=L(4438),ne=L(4964),he=L(177),Se=L(5531),re=L(4442);var Lt=L(1413),un=L(3726),vt=L(4412),Xe=L(4572),ht=L(7673),Be=L(1635),ae=L(5964),H=L(5558),G=L(3294),X=L(4341);const Ie=["tabsInner"];let jt=(()=>{var Y;class Q{constructor(te,Z){(0,c.A)(this,"doc",void 0),(0,c.A)(this,"_readyPromise",void 0),(0,c.A)(this,"win",void 0),(0,c.A)(this,"backButton",new Lt.B),(0,c.A)(this,"keyboardDidShow",new Lt.B),(0,c.A)(this,"keyboardDidHide",new Lt.B),(0,c.A)(this,"pause",new Lt.B),(0,c.A)(this,"resume",new Lt.B),(0,c.A)(this,"resize",new Lt.B),this.doc=te,Z.run(()=>{var Re;let Tt;this.win=te.defaultView,this.backButton.subscribeWithPriority=function(wt,hn){return this.subscribe($n=>$n.register(wt,mr=>Z.run(()=>hn(mr))))},cn(this.pause,te,"pause",Z),cn(this.resume,te,"resume",Z),cn(this.backButton,te,"ionBackButton",Z),cn(this.resize,this.win,"resize",Z),cn(this.keyboardDidShow,this.win,"ionKeyboardDidShow",Z),cn(this.keyboardDidHide,this.win,"ionKeyboardDidHide",Z),this._readyPromise=new Promise(wt=>{Tt=wt}),null!==(Re=this.win)&&void 0!==Re&&Re.cordova?te.addEventListener("deviceready",()=>{Tt("cordova")},{once:!0}):Tt("dom")})}is(te){return(0,Se.a)(this.win,te)}platforms(){return(0,Se.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(te){return Mn(this.win.location.href,te)}isLandscape(){return!this.isPortrait()}isPortrait(){var te,Z;return null===(te=(Z=this.win).matchMedia)||void 0===te?void 0:te.call(Z,"(orientation: portrait)").matches}testUserAgent(te){const Z=this.win.navigator;return!!(null!=Z&&Z.userAgent&&Z.userAgent.indexOf(te)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return Y=Q,(0,c.A)(Q,"\u0275fac",function(te){return new(te||Y)(J.KVO(he.qQ),J.KVO(J.SKi))}),(0,c.A)(Q,"\u0275prov",J.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})),Q})();const Mn=(Y,Q)=>{Q=Q.replace(/[[\]\\]/g,"\\$&");const te=new RegExp("[\\?&]"+Q+"=([^&#]*)").exec(Y);return te?decodeURIComponent(te[1].replace(/\+/g," ")):null},cn=(Y,Q,Pe,te)=>{Q&&Q.addEventListener(Pe,Z=>{te.run(()=>{Y.next(null!=Z?Z.detail:void 0)})})};let Yt=(()=>{var Y;class Q{constructor(te,Z,Re,Tt){(0,c.A)(this,"location",void 0),(0,c.A)(this,"serializer",void 0),(0,c.A)(this,"router",void 0),(0,c.A)(this,"topOutlet",void 0),(0,c.A)(this,"direction",Wn),(0,c.A)(this,"animated",lr),(0,c.A)(this,"animationBuilder",void 0),(0,c.A)(this,"guessDirection","forward"),(0,c.A)(this,"guessAnimation",void 0),(0,c.A)(this,"lastNavId",-1),this.location=Z,this.serializer=Re,this.router=Tt,Tt&&Tt.events.subscribe(wt=>{if(wt instanceof ne.Z){const hn=wt.restoredState?wt.restoredState.navigationId:wt.id;this.guessDirection=this.guessAnimation=hn<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?wt.id:hn}}),te.backButton.subscribeWithPriority(0,wt=>{this.pop(),wt()})}navigateForward(te,Z={}){return this.setDirection("forward",Z.animated,Z.animationDirection,Z.animation),this.navigate(te,Z)}navigateBack(te,Z={}){return this.setDirection("back",Z.animated,Z.animationDirection,Z.animation),this.navigate(te,Z)}navigateRoot(te,Z={}){return this.setDirection("root",Z.animated,Z.animationDirection,Z.animation),this.navigate(te,Z)}back(te={animated:!0,animationDirection:"back"}){return this.setDirection("back",te.animated,te.animationDirection,te.animation),this.location.back()}pop(){var te=this;return(0,p.A)(function*(){let Z=te.topOutlet;for(;Z;){if(yield Z.pop())return!0;Z=Z.parentOutlet}return!1})()}setDirection(te,Z,Re,Tt){this.direction=te,this.animated=Sn(te,Z,Re),this.animationBuilder=Tt}setTopOutlet(te){this.topOutlet=te}consumeTransition(){let Z,te="root";const Re=this.animationBuilder;return"auto"===this.direction?(te=this.guessDirection,Z=this.guessAnimation):(Z=this.animated,te=this.direction),this.direction=Wn,this.animated=lr,this.animationBuilder=void 0,{direction:te,animation:Z,animationBuilder:Re}}navigate(te,Z){if(Array.isArray(te))return this.router.navigate(te,Z);{const Re=this.serializer.parse(te.toString());return void 0!==Z.queryParams&&(Re.queryParams={...Z.queryParams}),void 0!==Z.fragment&&(Re.fragment=Z.fragment),this.router.navigateByUrl(Re,Z)}}}return Y=Q,(0,c.A)(Q,"\u0275fac",function(te){return new(te||Y)(J.KVO(jt),J.KVO(he.aZ),J.KVO(ne.Sd),J.KVO(ne.Ix,8))}),(0,c.A)(Q,"\u0275prov",J.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})),Q})();const Sn=(Y,Q,Pe)=>{if(!1!==Q){if(void 0!==Pe)return Pe;if("forward"===Y||"back"===Y)return Y;if("root"===Y&&!0===Q)return"forward"}},Wn="auto",lr=void 0;let Jn=(()=>{var Y;class Q{get(te,Z){const Re=On();return Re?Re.get(te,Z):null}getBoolean(te,Z){const Re=On();return!!Re&&Re.getBoolean(te,Z)}getNumber(te,Z){const Re=On();return Re?Re.getNumber(te,Z):0}}return Y=Q,(0,c.A)(Q,"\u0275fac",function(te){return new(te||Y)}),(0,c.A)(Q,"\u0275prov",J.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})),Q})();const Kn=new J.nKC("USERCONFIG"),On=()=>{if(typeof window<"u"){const Y=window.Ionic;if(null!=Y&&Y.config)return Y.config}return null};class Gn{constructor(Q={}){(0,c.A)(this,"data",void 0),this.data=Q,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(Q){return this.data[Q]}}let pt=(()=>{var Y;class Q{constructor(){(0,c.A)(this,"zone",(0,J.WQX)(J.SKi)),(0,c.A)(this,"applicationRef",(0,J.WQX)(J.o8S)),(0,c.A)(this,"config",(0,J.WQX)(Kn))}create(te,Z,Re){var Tt;return new Et(te,Z,this.applicationRef,this.zone,Re,null!==(Tt=this.config.useSetInputAPI)&&void 0!==Tt&&Tt)}}return Y=Q,(0,c.A)(Q,"\u0275fac",function(te){return new(te||Y)}),(0,c.A)(Q,"\u0275prov",J.jDH({token:Y,factory:Y.\u0275fac})),Q})();class Et{constructor(Q,Pe,te,Z,Re,Tt){(0,c.A)(this,"environmentInjector",void 0),(0,c.A)(this,"injector",void 0),(0,c.A)(this,"applicationRef",void 0),(0,c.A)(this,"zone",void 0),(0,c.A)(this,"elementReferenceKey",void 0),(0,c.A)(this,"enableSignalsSupport",void 0),(0,c.A)(this,"elRefMap",new WeakMap),(0,c.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=Q,this.injector=Pe,this.applicationRef=te,this.zone=Z,this.elementReferenceKey=Re,this.enableSignalsSupport=Tt}attachViewToDom(Q,Pe,te,Z){return this.zone.run(()=>new Promise(Re=>{const Tt={...te};void 0!==this.elementReferenceKey&&(Tt[this.elementReferenceKey]=Q),Re(bt(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,Q,Pe,Tt,Z,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(Q,Pe){return this.zone.run(()=>new Promise(te=>{const Z=this.elRefMap.get(Pe);if(Z){Z.destroy(),this.elRefMap.delete(Pe);const Re=this.elEventsMap.get(Pe);Re&&(Re(),this.elEventsMap.delete(Pe))}te()}))}}const bt=(Y,Q,Pe,te,Z,Re,Tt,wt,hn,$n,mr,rr)=>{const Ki=J.zZn.create({providers:Zn(hn),parent:Pe}),ai=(0,J.a0P)(wt,{environmentInjector:Q,elementInjector:Ki}),Xn=ai.instance,ii=ai.location.nativeElement;if(hn)if(mr&&void 0!==Xn[mr]&&console.error(`[Ionic Error]: ${mr} is a reserved property when using ${Tt.tagName.toLowerCase()}. Rename or remove the "${mr}" property from ${wt.name}.`),!0===rr&&void 0!==ai.setInput){const{modal:Vi,popover:Kr,...Di}=hn;for(const io in Di)ai.setInput(io,Di[io]);void 0!==Vi&&Object.assign(Xn,{modal:Vi}),void 0!==Kr&&Object.assign(Xn,{popover:Kr})}else Object.assign(Xn,hn);if($n)for(const Vi of $n)ii.classList.add(Vi);const To=Yn(Y,Xn,ii);return Tt.appendChild(ii),te.attachView(ai.hostView),Z.set(ii,ai),Re.set(ii,To),ii},mn=[re.L,re.a,re.b,re.c,re.d],Yn=(Y,Q,Pe)=>Y.run(()=>{const te=mn.filter(Z=>"function"==typeof Q[Z]).map(Z=>{const Re=Tt=>Q[Z](Tt.detail);return Pe.addEventListener(Z,Re),()=>Pe.removeEventListener(Z,Re)});return()=>te.forEach(Z=>Z())}),Fr=new J.nKC("NavParamsToken"),Zn=Y=>[{provide:Fr,useValue:Y},{provide:Gn,useFactory:En,deps:[Fr]}],En=Y=>new Gn(Y),vn=(Y,Q)=>{const Pe=Y.prototype;Q.forEach(te=>{Object.defineProperty(Pe,te,{get(){return this.el[te]},set(Z){this.z.runOutsideAngular(()=>this.el[te]=Z)}})})},er=(Y,Q)=>{const Pe=Y.prototype;Q.forEach(te=>{Pe[te]=function(){const Z=arguments;return this.z.runOutsideAngular(()=>this.el[te].apply(this.el,Z))}})},gr=(Y,Q,Pe)=>{Pe.forEach(te=>Y[te]=(0,un.R)(Q,te))};function hr(Y){return function(Pe){const{defineCustomElementFn:te,inputs:Z,methods:Re}=Y;return void 0!==te&&te(),Z&&vn(Pe,Z),Re&&er(Pe,Re),Pe}}const Gr=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Pn=["present","dismiss","onDidDismiss","onWillDismiss"];let Pr=(()=>{var Y;let Q=((0,c.A)(Y=class{constructor(te,Z,Re){(0,c.A)(this,"z",void 0),(0,c.A)(this,"template",void 0),(0,c.A)(this,"isCmpOpen",!1),(0,c.A)(this,"el",void 0),this.z=Re,this.el=Z.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,te.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,te.detectChanges()}),gr(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(te){return new(te||Y)(J.rXU(J.gRc),J.rXU(J.aKT),J.rXU(J.SKi))}),(0,c.A)(Y,"\u0275dir",J.FsC({type:Y,selectors:[["ion-popover"]],contentQueries:function(te,Z,Re){if(1&te&&J.wni(Re,J.C4Q,5),2&te){let Tt;J.mGM(Tt=J.lsd())&&(Z.template=Tt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),Y);return Q=(0,Be.Cg)([hr({inputs:Gr,methods:Pn})],Q),Q})();const Ln=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Zr=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let fr=(()=>{var Y;let Q=((0,c.A)(Y=class{constructor(te,Z,Re){(0,c.A)(this,"z",void 0),(0,c.A)(this,"template",void 0),(0,c.A)(this,"isCmpOpen",!1),(0,c.A)(this,"el",void 0),this.z=Re,this.el=Z.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,te.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,te.detectChanges()}),gr(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(te){return new(te||Y)(J.rXU(J.gRc),J.rXU(J.aKT),J.rXU(J.SKi))}),(0,c.A)(Y,"\u0275dir",J.FsC({type:Y,selectors:[["ion-modal"]],contentQueries:function(te,Z,Re){if(1&te&&J.wni(Re,J.C4Q,5),2&te){let Tt;J.mGM(Tt=J.lsd())&&(Z.template=Tt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),Y);return Q=(0,Be.Cg)([hr({inputs:Ln,methods:Zr})],Q),Q})();const mi=(Y,Q)=>((Y=Y.filter(Pe=>Pe.stackId!==Q.stackId)).push(Q),Y),vi=(Y,Q)=>{const Pe=Y.createUrlTree(["."],{relativeTo:Q});return Y.serializeUrl(Pe)},Pi=(Y,Q)=>!Q||Y.stackId!==Q.stackId,Qr=(Y,Q)=>{if(!Y)return;const Pe=ft(Q);for(let te=0;te<Pe.length;te++){if(te>=Y.length)return Pe[te];if(Pe[te]!==Y[te])return}},ft=Y=>Y.split("/").map(Q=>Q.trim()).filter(Q=>""!==Q),et=Y=>{Y&&(Y.ref.destroy(),Y.unlistenEvents())};class Nt{constructor(Q,Pe,te,Z,Re,Tt){(0,c.A)(this,"containerEl",void 0),(0,c.A)(this,"router",void 0),(0,c.A)(this,"navCtrl",void 0),(0,c.A)(this,"zone",void 0),(0,c.A)(this,"location",void 0),(0,c.A)(this,"views",[]),(0,c.A)(this,"runningTask",void 0),(0,c.A)(this,"skipTransition",!1),(0,c.A)(this,"tabsPrefix",void 0),(0,c.A)(this,"activeView",void 0),(0,c.A)(this,"nextId",0),this.containerEl=Pe,this.router=te,this.navCtrl=Z,this.zone=Re,this.location=Tt,this.tabsPrefix=void 0!==Q?ft(Q):void 0}createView(Q,Pe){var te;const Z=vi(this.router,Pe),Re=null==Q||null===(te=Q.location)||void 0===te?void 0:te.nativeElement,Tt=Yn(this.zone,Q.instance,Re);return{id:this.nextId++,stackId:Qr(this.tabsPrefix,Z),unlistenEvents:Tt,element:Re,ref:Q,url:Z}}getExistingView(Q){const Pe=vi(this.router,Q),te=this.views.find(Z=>Z.url===Pe);return te&&te.ref.changeDetectorRef.reattach(),te}setActive(Q){var Pe,te;const Z=this.navCtrl.consumeTransition();let{direction:Re,animation:Tt,animationBuilder:wt}=Z;const hn=this.activeView,$n=Pi(Q,hn);$n&&(Re="back",Tt=void 0);const mr=this.views.slice();let rr;const Ki=this.router;Ki.getCurrentNavigation?rr=Ki.getCurrentNavigation():null!==(Pe=Ki.navigations)&&void 0!==Pe&&Pe.value&&(rr=Ki.navigations.value),null!==(te=rr)&&void 0!==te&&null!==(te=te.extras)&&void 0!==te&&te.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const ai=this.views.includes(Q),Xn=this.insertView(Q,Re);ai||Q.ref.changeDetectorRef.detectChanges();const ii=Q.animationBuilder;return void 0===wt&&"back"===Re&&!$n&&void 0!==ii&&(wt=ii),hn&&(hn.animationBuilder=wt),this.zone.runOutsideAngular(()=>this.wait(()=>(hn&&hn.ref.changeDetectorRef.detach(),Q.ref.changeDetectorRef.reattach(),this.transition(Q,hn,Tt,this.canGoBack(1),!1,wt).then(()=>Je(Q,Xn,mr,this.location,this.zone)).then(()=>({enteringView:Q,direction:Re,animation:Tt,tabSwitch:$n})))))}canGoBack(Q,Pe=this.getActiveStackId()){return this.getStack(Pe).length>Q}pop(Q,Pe=this.getActiveStackId()){return this.zone.run(()=>{const te=this.getStack(Pe);if(te.length<=Q)return Promise.resolve(!1);const Z=te[te.length-Q-1];let Re=Z.url;const Tt=Z.savedData;if(Tt){var wt;const $n=Tt.get("primary");null!=$n&&null!==(wt=$n.route)&&void 0!==wt&&null!==(wt=wt._routerState)&&void 0!==wt&&wt.snapshot.url&&(Re=$n.route._routerState.snapshot.url)}const{animationBuilder:hn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Re,{...Z.savedExtras,animation:hn}).then(()=>!0)})}startBackTransition(){const Q=this.activeView;if(Q){const Pe=this.getStack(Q.stackId),te=Pe[Pe.length-2],Z=te.animationBuilder;return this.wait(()=>this.transition(te,Q,"back",this.canGoBack(2),!0,Z))}return Promise.resolve()}endBackTransition(Q){Q?(this.skipTransition=!0,this.pop(1)):this.activeView&&ce(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(Q){const Pe=this.getStack(Q);return Pe.length>0?Pe[Pe.length-1]:void 0}getRootUrl(Q){const Pe=this.getStack(Q);return Pe.length>0?Pe[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(et),this.activeView=void 0,this.views=[]}getStack(Q){return this.views.filter(Pe=>Pe.stackId===Q)}insertView(Q,Pe){return this.activeView=Q,this.views=((Y,Q,Pe)=>"root"===Pe?mi(Y,Q):"forward"===Pe?((Y,Q)=>(Y.indexOf(Q)>=0?Y=Y.filter(te=>te.stackId!==Q.stackId||te.id<=Q.id):Y.push(Q),Y))(Y,Q):((Y,Q)=>Y.indexOf(Q)>=0?Y.filter(te=>te.stackId!==Q.stackId||te.id<=Q.id):mi(Y,Q))(Y,Q))(this.views,Q,Pe),this.views.slice()}transition(Q,Pe,te,Z,Re,Tt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(Pe===Q)return Promise.resolve(!1);const wt=Q?Q.element:void 0,hn=Pe?Pe.element:void 0,$n=this.containerEl;return wt&&wt!==hn&&(wt.classList.add("ion-page"),wt.classList.add("ion-page-invisible"),$n.commit)?$n.commit(wt,hn,{duration:void 0===te?0:void 0,direction:te,showGoBack:Z,progressAnimation:Re,animationBuilder:Tt}):Promise.resolve(!1)}wait(Q){var Pe=this;return(0,p.A)(function*(){void 0!==Pe.runningTask&&(yield Pe.runningTask,Pe.runningTask=void 0);const te=Pe.runningTask=Q();return te.finally(()=>Pe.runningTask=void 0),te})()}}const Je=(Y,Q,Pe,te,Z)=>"function"==typeof requestAnimationFrame?new Promise(Re=>{requestAnimationFrame(()=>{ce(Y,Q,Pe,te,Z),Re()})}):Promise.resolve(),ce=(Y,Q,Pe,te,Z)=>{Z.run(()=>Pe.filter(Re=>!Q.includes(Re)).forEach(et)),Q.forEach(Re=>{const wt=te.path().split("?")[0].split("#")[0];if(Re!==Y&&Re.url!==wt){const hn=Re.element;hn.setAttribute("aria-hidden","true"),hn.classList.add("ion-page-hidden"),Re.ref.changeDetectorRef.detach()}})};let pe=(()=>{var Y;class Q{get activatedComponentRef(){return this.activated}set animation(te){this.nativeEl.animation=te}set animated(te){this.nativeEl.animated=te}set swipeGesture(te){this._swipeGesture=te,this.nativeEl.swipeHandler=te?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:Z=>this.stackCtrl.endBackTransition(Z)}:void 0}constructor(te,Z,Re,Tt,wt,hn,$n,mr){(0,c.A)(this,"parentOutlet",void 0),(0,c.A)(this,"nativeEl",void 0),(0,c.A)(this,"activatedView",null),(0,c.A)(this,"tabsPrefix",void 0),(0,c.A)(this,"_swipeGesture",void 0),(0,c.A)(this,"stackCtrl",void 0),(0,c.A)(this,"proxyMap",new WeakMap),(0,c.A)(this,"currentActivatedRoute$",new vt.t(null)),(0,c.A)(this,"activated",null),(0,c.A)(this,"_activatedRoute",null),(0,c.A)(this,"name",ne.Xk),(0,c.A)(this,"stackWillChange",new J.bkB),(0,c.A)(this,"stackDidChange",new J.bkB),(0,c.A)(this,"activateEvents",new J.bkB),(0,c.A)(this,"deactivateEvents",new J.bkB),(0,c.A)(this,"parentContexts",(0,J.WQX)(ne.Zp)),(0,c.A)(this,"location",(0,J.WQX)(J.c1b)),(0,c.A)(this,"environmentInjector",(0,J.WQX)(J.uvJ)),(0,c.A)(this,"inputBinder",(0,J.WQX)(xt,{optional:!0})),(0,c.A)(this,"supportsBindingToComponentInputs",!0),(0,c.A)(this,"config",(0,J.WQX)(Jn)),(0,c.A)(this,"navCtrl",(0,J.WQX)(Yt)),this.parentOutlet=mr,this.nativeEl=Tt.nativeElement,this.name=te||ne.Xk,this.tabsPrefix="true"===Z?vi(wt,$n):void 0,this.stackCtrl=new Nt(this.tabsPrefix,this.nativeEl,wt,this.navCtrl,hn,Re),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var te;this.stackCtrl.destroy(),null===(te=this.inputBinder)||void 0===te||te.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const te=this.getContext();null!=te&&te.route&&this.activateWith(te.route,te.injector)}new Promise(te=>((Y,Q)=>{Y.componentOnReady?Y.componentOnReady().then(Pe=>Q(Pe)):(Y=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Y):"function"==typeof requestAnimationFrame?requestAnimationFrame(Y):setTimeout(Y)})(()=>Q(Y))})(this.nativeEl,te)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(te,Z){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const Z=this.getContext();this.activatedView.savedData=new Map(Z.children.contexts);const Re=this.activatedView.savedData.get("primary");if(Re&&Z.route&&(Re.route={...Z.route}),this.activatedView.savedExtras={},Z.route){const Tt=Z.route.snapshot;this.activatedView.savedExtras.queryParams=Tt.queryParams,this.activatedView.savedExtras.fragment=Tt.fragment}}const te=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(te)}}activateWith(te,Z){var Re;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=te;let Tt,wt=this.stackCtrl.getExistingView(te);if(wt){Tt=this.activated=wt.ref;const mr=wt.savedData;mr&&(this.getContext().children.contexts=mr),this.updateActivatedRouteProxy(Tt.instance,te)}else{var hn;const mr=te._futureSnapshot,rr=this.parentContexts.getOrCreateContext(this.name).children,Ki=new vt.t(null),ai=this.createActivatedRouteProxy(Ki,te),Xn=new Fe(ai,rr,this.location.injector),ii=null!==(hn=mr.routeConfig.component)&&void 0!==hn?hn:mr.component;Tt=this.activated=this.outletContent.createComponent(ii,{index:this.outletContent.length,injector:Xn,environmentInjector:null!=Z?Z:this.environmentInjector}),Ki.next(Tt.instance),wt=this.stackCtrl.createView(this.activated,te),this.proxyMap.set(Tt.instance,ai),this.currentActivatedRoute$.next({component:Tt.instance,activatedRoute:te})}null===(Re=this.inputBinder)||void 0===Re||Re.bindActivatedRouteToOutletComponent(this),this.activatedView=wt,this.navCtrl.setTopOutlet(this);const $n=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:wt,tabSwitch:Pi(wt,$n)}),this.stackCtrl.setActive(wt).then(mr=>{this.activateEvents.emit(Tt.instance),this.stackDidChange.emit(mr)})}canGoBack(te=1,Z){return this.stackCtrl.canGoBack(te,Z)}pop(te=1,Z){return this.stackCtrl.pop(te,Z)}getLastUrl(te){const Z=this.stackCtrl.getLastUrl(te);return Z?Z.url:void 0}getLastRouteView(te){return this.stackCtrl.getLastUrl(te)}getRootView(te){return this.stackCtrl.getRootUrl(te)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(te,Z){const Re=new ne.nX;return Re._futureSnapshot=Z._futureSnapshot,Re._routerState=Z._routerState,Re.snapshot=Z.snapshot,Re.outlet=Z.outlet,Re.component=Z.component,Re._paramMap=this.proxyObservable(te,"paramMap"),Re._queryParamMap=this.proxyObservable(te,"queryParamMap"),Re.url=this.proxyObservable(te,"url"),Re.params=this.proxyObservable(te,"params"),Re.queryParams=this.proxyObservable(te,"queryParams"),Re.fragment=this.proxyObservable(te,"fragment"),Re.data=this.proxyObservable(te,"data"),Re}proxyObservable(te,Z){return te.pipe((0,ae.p)(Re=>!!Re),(0,H.n)(Re=>this.currentActivatedRoute$.pipe((0,ae.p)(Tt=>null!==Tt&&Tt.component===Re),(0,H.n)(Tt=>Tt&&Tt.activatedRoute[Z]),(0,G.F)())))}updateActivatedRouteProxy(te,Z){const Re=this.proxyMap.get(te);if(!Re)throw new Error("Could not find activated route proxy for view");Re._futureSnapshot=Z._futureSnapshot,Re._routerState=Z._routerState,Re.snapshot=Z.snapshot,Re.outlet=Z.outlet,Re.component=Z.component,this.currentActivatedRoute$.next({component:te,activatedRoute:Z})}}return Y=Q,(0,c.A)(Q,"\u0275fac",function(te){return new(te||Y)(J.kS0("name"),J.kS0("tabs"),J.rXU(he.aZ),J.rXU(J.aKT),J.rXU(ne.Ix),J.rXU(J.SKi),J.rXU(ne.nX),J.rXU(Y,12))}),(0,c.A)(Q,"\u0275dir",J.FsC({type:Y,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),Q})();class Fe{constructor(Q,Pe,te){(0,c.A)(this,"route",void 0),(0,c.A)(this,"childContexts",void 0),(0,c.A)(this,"parent",void 0),this.route=Q,this.childContexts=Pe,this.parent=te}get(Q,Pe){return Q===ne.nX?this.route:Q===ne.Zp?this.childContexts:this.parent.get(Q,Pe)}}const xt=new J.nKC("");let _t=(()=>{var Y;class Q{constructor(){(0,c.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(te){this.unsubscribeFromRouteData(te),this.subscribeToRouteData(te)}unsubscribeFromRouteData(te){var Z;null===(Z=this.outletDataSubscriptions.get(te))||void 0===Z||Z.unsubscribe(),this.outletDataSubscriptions.delete(te)}subscribeToRouteData(te){const{activatedRoute:Z}=te,Re=(0,Xe.z)([Z.queryParams,Z.params,Z.data]).pipe((0,H.n)(([Tt,wt,hn],$n)=>(hn={...Tt,...wt,...hn},0===$n?(0,ht.of)(hn):Promise.resolve(hn)))).subscribe(Tt=>{if(!te.isActivated||!te.activatedComponentRef||te.activatedRoute!==Z||null===Z.component)return void this.unsubscribeFromRouteData(te);const wt=(0,J.HJs)(Z.component);if(wt)for(const{templateName:hn}of wt.inputs)te.activatedComponentRef.setInput(hn,Tt[hn]);else this.unsubscribeFromRouteData(te)});this.outletDataSubscriptions.set(te,Re)}}return Y=Q,(0,c.A)(Q,"\u0275fac",function(te){return new(te||Y)}),(0,c.A)(Q,"\u0275prov",J.jDH({token:Y,factory:Y.\u0275fac})),Q})();const dn=()=>({provide:xt,useFactory:Cn,deps:[ne.Ix]});function Cn(Y){return null!=Y&&Y.componentInputBindingEnabled?new _t:null}const tr=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let ar=(()=>{var Y;let Q=((0,c.A)(Y=class{constructor(te,Z,Re,Tt,wt,hn){(0,c.A)(this,"routerOutlet",void 0),(0,c.A)(this,"navCtrl",void 0),(0,c.A)(this,"config",void 0),(0,c.A)(this,"r",void 0),(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.routerOutlet=te,this.navCtrl=Z,this.config=Re,this.r=Tt,this.z=wt,hn.detach(),this.el=this.r.nativeElement}onClick(te){var Z;const Re=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(Z=this.routerOutlet)&&void 0!==Z&&Z.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),te.preventDefault()):null!=Re&&(this.navCtrl.navigateBack(Re,{animation:this.routerAnimation}),te.preventDefault())}},"\u0275fac",function(te){return new(te||Y)(J.rXU(pe,8),J.rXU(Yt),J.rXU(Jn),J.rXU(J.aKT),J.rXU(J.SKi),J.rXU(J.gRc))}),(0,c.A)(Y,"\u0275dir",J.FsC({type:Y,hostBindings:function(te,Z){1&te&&J.bIt("click",function(Tt){return Z.onClick(Tt)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),Y);return Q=(0,Be.Cg)([hr({inputs:tr})],Q),Q})(),Wr=(()=>{var Y;class Q{constructor(te,Z,Re,Tt,wt){(0,c.A)(this,"locationStrategy",void 0),(0,c.A)(this,"navCtrl",void 0),(0,c.A)(this,"elementRef",void 0),(0,c.A)(this,"router",void 0),(0,c.A)(this,"routerLink",void 0),(0,c.A)(this,"routerDirection","forward"),(0,c.A)(this,"routerAnimation",void 0),this.locationStrategy=te,this.navCtrl=Z,this.elementRef=Re,this.router=Tt,this.routerLink=wt}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var te;if(null!==(te=this.routerLink)&&void 0!==te&&te.urlTree){const Z=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=Z}}onClick(te){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),te.preventDefault()}}return Y=Q,(0,c.A)(Q,"\u0275fac",function(te){return new(te||Y)(J.rXU(he.hb),J.rXU(Yt),J.rXU(J.aKT),J.rXU(ne.Ix),J.rXU(ne.Wk,8))}),(0,c.A)(Q,"\u0275dir",J.FsC({type:Y,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(te,Z){1&te&&J.bIt("click",function(Tt){return Z.onClick(Tt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[J.OA$]})),Q})(),ri=(()=>{var Y;class Q{constructor(te,Z,Re,Tt,wt){(0,c.A)(this,"locationStrategy",void 0),(0,c.A)(this,"navCtrl",void 0),(0,c.A)(this,"elementRef",void 0),(0,c.A)(this,"router",void 0),(0,c.A)(this,"routerLink",void 0),(0,c.A)(this,"routerDirection","forward"),(0,c.A)(this,"routerAnimation",void 0),this.locationStrategy=te,this.navCtrl=Z,this.elementRef=Re,this.router=Tt,this.routerLink=wt}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var te;if(null!==(te=this.routerLink)&&void 0!==te&&te.urlTree){const Z=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=Z}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return Y=Q,(0,c.A)(Q,"\u0275fac",function(te){return new(te||Y)(J.rXU(he.hb),J.rXU(Yt),J.rXU(J.aKT),J.rXU(ne.Ix),J.rXU(ne.Wk,8))}),(0,c.A)(Q,"\u0275dir",J.FsC({type:Y,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(te,Z){1&te&&J.bIt("click",function(){return Z.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[J.OA$]})),Q})();const Vn=["animated","animation","root","rootParams","swipeGesture"],In=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let ei=(()=>{var Y;let Q=((0,c.A)(Y=class{constructor(te,Z,Re,Tt,wt,hn){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=wt,hn.detach(),this.el=te.nativeElement,te.nativeElement.delegate=Tt.create(Z,Re),gr(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(te){return new(te||Y)(J.rXU(J.aKT),J.rXU(J.uvJ),J.rXU(J.zZn),J.rXU(pt),J.rXU(J.SKi),J.rXU(J.gRc))}),(0,c.A)(Y,"\u0275dir",J.FsC({type:Y,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),Y);return Q=(0,Be.Cg)([hr({inputs:Vn,methods:In})],Q),Q})(),Mi=(()=>{var Y;class Q{constructor(te){(0,c.A)(this,"navCtrl",void 0),(0,c.A)(this,"tabsInner",void 0),(0,c.A)(this,"ionTabsWillChange",new J.bkB),(0,c.A)(this,"ionTabsDidChange",new J.bkB),(0,c.A)(this,"tabBarSlot","bottom"),this.navCtrl=te}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:te,tabSwitch:Z}){const Re=te.stackId;Z&&void 0!==Re&&this.ionTabsWillChange.emit({tab:Re})}onStackDidChange({enteringView:te,tabSwitch:Z}){const Re=te.stackId;Z&&void 0!==Re&&(this.tabBar&&(this.tabBar.selectedTab=Re),this.ionTabsDidChange.emit({tab:Re}))}select(te){const Z="string"==typeof te,Re=Z?te:te.detail.tab,Tt=this.outlet.getActiveStackId()===Re,wt=`${this.outlet.tabsPrefix}/${Re}`;if(Z||te.stopPropagation(),Tt){const hn=this.outlet.getActiveStackId(),$n=this.outlet.getLastRouteView(hn);if((null==$n?void 0:$n.url)===wt)return;const mr=this.outlet.getRootView(Re);return this.navCtrl.navigateRoot(wt,{...mr&&wt===mr.url&&mr.savedExtras,animated:!0,animationDirection:"back"})}{const hn=this.outlet.getLastRouteView(Re);return this.navCtrl.navigateRoot((null==hn?void 0:hn.url)||wt,{...null==hn?void 0:hn.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(te=>{const Z=te.el.getAttribute("slot");Z!==this.tabBarSlot&&(this.tabBarSlot=Z,this.relocateTabBar())})}relocateTabBar(){const te=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(te):this.tabsInner.nativeElement.after(te)}}return Y=Q,(0,c.A)(Q,"\u0275fac",function(te){return new(te||Y)(J.rXU(Yt))}),(0,c.A)(Q,"\u0275dir",J.FsC({type:Y,selectors:[["ion-tabs"]],viewQuery:function(te,Z){if(1&te&&J.GBs(Ie,7,J.aKT),2&te){let Re;J.mGM(Re=J.lsd())&&(Z.tabsInner=Re.first)}},hostBindings:function(te,Z){1&te&&J.bIt("ionTabButtonClick",function(Tt){return Z.select(Tt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),Q})();const Cr=Y=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Y):"function"==typeof requestAnimationFrame?requestAnimationFrame(Y):setTimeout(Y);let Ji=(()=>{var Y;class Q{constructor(te,Z){(0,c.A)(this,"injector",void 0),(0,c.A)(this,"elementRef",void 0),(0,c.A)(this,"onChange",()=>{}),(0,c.A)(this,"onTouched",()=>{}),(0,c.A)(this,"lastValue",void 0),(0,c.A)(this,"statusChanges",void 0),this.injector=te,this.elementRef=Z}writeValue(te){this.elementRef.nativeElement.value=this.lastValue=te,_i(this.elementRef)}handleValueChange(te,Z){te===this.elementRef.nativeElement&&(Z!==this.lastValue&&(this.lastValue=Z,this.onChange(Z)),_i(this.elementRef))}_handleBlurEvent(te){te===this.elementRef.nativeElement&&(this.onTouched(),_i(this.elementRef))}registerOnChange(te){this.onChange=te}registerOnTouched(te){this.onTouched=te}setDisabledState(te){this.elementRef.nativeElement.disabled=te}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let te;try{te=this.injector.get(X.vO)}catch{}if(!te)return;te.statusChanges&&(this.statusChanges=te.statusChanges.subscribe(()=>_i(this.elementRef)));const Z=te.control;Z&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Tt=>{if(typeof Z[Tt]<"u"){const wt=Z[Tt].bind(Z);Z[Tt]=(...hn)=>{wt(...hn),_i(this.elementRef)}}})}}return Y=Q,(0,c.A)(Q,"\u0275fac",function(te){return new(te||Y)(J.rXU(J.zZn),J.rXU(J.aKT))}),(0,c.A)(Q,"\u0275dir",J.FsC({type:Y,hostBindings:function(te,Z){1&te&&J.bIt("ionBlur",function(Tt){return Z._handleBlurEvent(Tt.target)})}})),Q})();const _i=Y=>{Cr(()=>{const Q=Y.nativeElement,Pe=null!=Q.value&&Q.value.toString().length>0,te=nr(Q);Fi(Q,te);const Z=Q.closest("ion-item");Z&&Fi(Z,Pe?[...te,"item-has-value"]:te)})},nr=Y=>{const Q=Y.classList,Pe=[];for(let te=0;te<Q.length;te++){const Z=Q.item(te);null!==Z&&Li(Z,"ng-")&&Pe.push(`ion-${Z.substring(3)}`)}return Pe},Fi=(Y,Q)=>{const Pe=Y.classList;Pe.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),Pe.add(...Q)},Li=(Y,Q)=>Y.substring(0,Q.length)===Q;class li{shouldDetach(Q){return!1}shouldAttach(Q){return!1}store(Q,Pe){}retrieve(Q){return null}shouldReuseRoute(Q,Pe){if(Q.routeConfig!==Pe.routeConfig)return!1;const te=Q.params,Z=Pe.params,Re=Object.keys(te),Tt=Object.keys(Z);if(Re.length!==Tt.length)return!1;for(const wt of Re)if(Z[wt]!==te[wt])return!1;return!0}}class Ft{constructor(Q){(0,c.A)(this,"ctrl",void 0),this.ctrl=Q}create(Q){return this.ctrl.create(Q||{})}dismiss(Q,Pe,te){return this.ctrl.dismiss(Q,Pe,te)}getTop(){return this.ctrl.getTop()}}},7863:(fn,dt,L)=>{"use strict";L.d(dt,{U1:()=>Sn,In:()=>Jn,Jm:()=>Gn,W9:()=>er,eU:()=>fr,uz:()=>Qr,he:()=>pe,nf:()=>Fe,AF:()=>xt,Rg:()=>Kr,BC:()=>Xn,ai:()=>Vi,bv:()=>xi});var p=L(9842),c=L(4438),J=L(4341),ne=L(2872),he=L(1635),Se=L(3726),re=L(177),Le=L(4964),ke=(L(9986),L(2725),L(8454),L(3314),L(8607),L(3664)),We=L(464),qe=(L(5465),L(6002)),At=(L(8476),L(9672));L(1970),L(6411);var le=L(467);const it=ke.i,at=function(){var S=(0,le.A)(function*(q,me){if(!(typeof window>"u"))return yield it(),(0,At.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),me)});return function(me,x){return S.apply(this,arguments)}}(),Ze=["*"],$e=["outletContent"],X=(S,q)=>{const me=S.prototype;q.forEach(x=>{Object.defineProperty(me,x,{get(){return this.el[x]},set(ve){this.z.runOutsideAngular(()=>this.el[x]=ve)},configurable:!0})})},Ie=(S,q)=>{const me=S.prototype;q.forEach(x=>{me[x]=function(){const ve=arguments;return this.z.runOutsideAngular(()=>this.el[x].apply(this.el,ve))}})},je=(S,q,me)=>{me.forEach(x=>S[x]=(0,Se.R)(q,x))};function xe(S){return function(me){const{defineCustomElementFn:x,inputs:ve,methods:ot}=S;return void 0!==x&&x(),ve&&X(me,ve),ot&&Ie(me,ot),me}}let Sn=(()=>{var S;let q=((0,p.A)(S=class{constructor(x,ve,ot){(0,p.A)(this,"z",void 0),(0,p.A)(this,"el",void 0),this.z=ot,x.detach(),this.el=ve.nativeElement}},"\u0275fac",function(x){return new(x||S)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))}),(0,p.A)(S,"\u0275cmp",c.VBU({type:S,selectors:[["ion-app"]],ngContentSelectors:Ze,decls:1,vars:0,template:function(x,ve){1&x&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})),S);return q=(0,he.Cg)([xe({})],q),q})(),Jn=(()=>{var S;let q=((0,p.A)(S=class{constructor(x,ve,ot){(0,p.A)(this,"z",void 0),(0,p.A)(this,"el",void 0),this.z=ot,x.detach(),this.el=ve.nativeElement}},"\u0275fac",function(x){return new(x||S)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))}),(0,p.A)(S,"\u0275cmp",c.VBU({type:S,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ze,decls:1,vars:0,template:function(x,ve){1&x&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})),S);return q=(0,he.Cg)([xe({inputs:["color","mode"]})],q),q})(),Gn=(()=>{var S;let q=((0,p.A)(S=class{constructor(x,ve,ot){(0,p.A)(this,"z",void 0),(0,p.A)(this,"el",void 0),this.z=ot,x.detach(),this.el=ve.nativeElement,je(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(x){return new(x||S)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))}),(0,p.A)(S,"\u0275cmp",c.VBU({type:S,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ze,decls:1,vars:0,template:function(x,ve){1&x&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})),S);return q=(0,he.Cg)([xe({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],q),q})(),er=(()=>{var S;let q=((0,p.A)(S=class{constructor(x,ve,ot){(0,p.A)(this,"z",void 0),(0,p.A)(this,"el",void 0),this.z=ot,x.detach(),this.el=ve.nativeElement,je(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(x){return new(x||S)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))}),(0,p.A)(S,"\u0275cmp",c.VBU({type:S,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ze,decls:1,vars:0,template:function(x,ve){1&x&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})),S);return q=(0,he.Cg)([xe({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],q),q})(),fr=(()=>{var S;let q=((0,p.A)(S=class{constructor(x,ve,ot){(0,p.A)(this,"z",void 0),(0,p.A)(this,"el",void 0),this.z=ot,x.detach(),this.el=ve.nativeElement}},"\u0275fac",function(x){return new(x||S)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))}),(0,p.A)(S,"\u0275cmp",c.VBU({type:S,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ze,decls:1,vars:0,template:function(x,ve){1&x&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})),S);return q=(0,he.Cg)([xe({inputs:["collapse","mode","translucent"]})],q),q})(),Qr=(()=>{var S;let q=((0,p.A)(S=class{constructor(x,ve,ot){(0,p.A)(this,"z",void 0),(0,p.A)(this,"el",void 0),this.z=ot,x.detach(),this.el=ve.nativeElement}},"\u0275fac",function(x){return new(x||S)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))}),(0,p.A)(S,"\u0275cmp",c.VBU({type:S,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Ze,decls:1,vars:0,template:function(x,ve){1&x&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})),S);return q=(0,he.Cg)([xe({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],q),q})(),pe=(()=>{var S;let q=((0,p.A)(S=class{constructor(x,ve,ot){(0,p.A)(this,"z",void 0),(0,p.A)(this,"el",void 0),this.z=ot,x.detach(),this.el=ve.nativeElement}},"\u0275fac",function(x){return new(x||S)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))}),(0,p.A)(S,"\u0275cmp",c.VBU({type:S,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ze,decls:1,vars:0,template:function(x,ve){1&x&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})),S);return q=(0,he.Cg)([xe({inputs:["color","mode","position"]})],q),q})(),Fe=(()=>{var S;let q=((0,p.A)(S=class{constructor(x,ve,ot){(0,p.A)(this,"z",void 0),(0,p.A)(this,"el",void 0),this.z=ot,x.detach(),this.el=ve.nativeElement}},"\u0275fac",function(x){return new(x||S)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))}),(0,p.A)(S,"\u0275cmp",c.VBU({type:S,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Ze,decls:1,vars:0,template:function(x,ve){1&x&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})),S);return q=(0,he.Cg)([xe({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],q),q})(),xt=(()=>{var S;let q=((0,p.A)(S=class{constructor(x,ve,ot){(0,p.A)(this,"z",void 0),(0,p.A)(this,"el",void 0),this.z=ot,x.detach(),this.el=ve.nativeElement}},"\u0275fac",function(x){return new(x||S)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))}),(0,p.A)(S,"\u0275cmp",c.VBU({type:S,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:Ze,decls:1,vars:0,template:function(x,ve){1&x&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})),S);return q=(0,he.Cg)([xe({inputs:["color","lines","mode"]})],q),q})(),Xn=(()=>{var S;let q=((0,p.A)(S=class{constructor(x,ve,ot){(0,p.A)(this,"z",void 0),(0,p.A)(this,"el",void 0),this.z=ot,x.detach(),this.el=ve.nativeElement}},"\u0275fac",function(x){return new(x||S)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))}),(0,p.A)(S,"\u0275cmp",c.VBU({type:S,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ze,decls:1,vars:0,template:function(x,ve){1&x&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})),S);return q=(0,he.Cg)([xe({inputs:["color","size"]})],q),q})(),Vi=(()=>{var S;let q=((0,p.A)(S=class{constructor(x,ve,ot){(0,p.A)(this,"z",void 0),(0,p.A)(this,"el",void 0),this.z=ot,x.detach(),this.el=ve.nativeElement}},"\u0275fac",function(x){return new(x||S)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))}),(0,p.A)(S,"\u0275cmp",c.VBU({type:S,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ze,decls:1,vars:0,template:function(x,ve){1&x&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})),S);return q=(0,he.Cg)([xe({inputs:["color","mode"]})],q),q})(),Kr=(()=>{var S;class q extends ne.Rg{constructor(x,ve,ot,yr,Ni,$,ue,Ce){super(x,ve,ot,yr,Ni,$,ue,Ce),(0,p.A)(this,"parentOutlet",void 0),(0,p.A)(this,"outletContent",void 0),this.parentOutlet=Ce}}return S=q,(0,p.A)(q,"\u0275fac",function(x){return new(x||S)(c.kS0("name"),c.kS0("tabs"),c.rXU(re.aZ),c.rXU(c.aKT),c.rXU(Le.Ix),c.rXU(c.SKi),c.rXU(Le.nX),c.rXU(S,12))}),(0,p.A)(q,"\u0275cmp",c.VBU({type:S,selectors:[["ion-router-outlet"]],viewQuery:function(x,ve){if(1&x&&c.GBs($e,7,c.c1b),2&x){let ot;c.mGM(ot=c.lsd())&&(ve.outletContent=ot.first)}},features:[c.Vt3],ngContentSelectors:Ze,decls:3,vars:0,consts:[["outletContent",""]],template:function(x,ve){1&x&&(c.NAR(),c.qex(0,null,0),c.SdG(2),c.bVm())},encapsulation:2})),q})();const ir={provide:J.cz,useExisting:(0,c.Rfq)(()=>xr),multi:!0};let xr=(()=>{var S;class q extends J.zX{}return S=q,(0,p.A)(q,"\u0275fac",(()=>{let me;return function(ve){return(me||(me=c.xGo(S)))(ve||S)}})()),(0,p.A)(q,"\u0275dir",c.FsC({type:S,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(x,ve){2&x&&c.BMQ("max",ve._enabled?ve.max:null)},features:[c.Jv_([ir]),c.Vt3]})),q})();const qi={provide:J.cz,useExisting:(0,c.Rfq)(()=>yi),multi:!0};let yi=(()=>{var S;class q extends J.VZ{}return S=q,(0,p.A)(q,"\u0275fac",(()=>{let me;return function(ve){return(me||(me=c.xGo(S)))(ve||S)}})()),(0,p.A)(q,"\u0275dir",c.FsC({type:S,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(x,ve){2&x&&c.BMQ("min",ve._enabled?ve.min:null)},features:[c.Jv_([qi]),c.Vt3]})),q})(),Oo=(()=>{var S;class q extends ne.Kb{constructor(){super(qe.m),(0,p.A)(this,"angularDelegate",(0,c.WQX)(ne.Yq)),(0,p.A)(this,"injector",(0,c.WQX)(c.zZn)),(0,p.A)(this,"environmentInjector",(0,c.WQX)(c.uvJ))}create(x){return super.create({...x,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return S=q,(0,p.A)(q,"\u0275fac",function(x){return new(x||S)}),(0,p.A)(q,"\u0275prov",c.jDH({token:S,factory:S.\u0275fac})),q})();class Cs extends ne.Kb{constructor(){super(qe.c),(0,p.A)(this,"angularDelegate",(0,c.WQX)(ne.Yq)),(0,p.A)(this,"injector",(0,c.WQX)(c.zZn)),(0,p.A)(this,"environmentInjector",(0,c.WQX)(c.uvJ))}create(q){return super.create({...q,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Ds=(S,q,me)=>()=>{const x=q.defaultView;if(x&&typeof window<"u"){(0,We.s)({...S,_zoneGate:ot=>me.run(ot)});const ve="__zone_symbol__addEventListener"in q.body?"__zone_symbol__addEventListener":"addEventListener";return function Oe(){var S=[];if(typeof window<"u"){var q=window;(!q.customElements||q.Element&&(!q.Element.prototype.closest||!q.Element.prototype.matches||!q.Element.prototype.remove||!q.Element.prototype.getRootNode))&&S.push(L.e(7278).then(L.t.bind(L,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||q.NodeList&&!q.NodeList.prototype.forEach||!q.fetch||!function(){try{var x=new URL("b","http://a");return x.pathname="c%20d","http://a/c%20d"===x.href&&x.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&S.push(L.e(9329).then(L.t.bind(L,7783,23)))}return Promise.all(S)}().then(()=>at(x,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:ne.er,jmp:ot=>me.runOutsideAngular(ot),ael(ot,yr,Ni,$){ot[ve](yr,Ni,$)},rel(ot,yr,Ni,$){ot.removeEventListener(yr,Ni,$)}}))}};let xi=(()=>{var S;class q{static forRoot(x={}){return{ngModule:q,providers:[{provide:ne.sR,useValue:x},{provide:c.hnV,useFactory:Ds,multi:!0,deps:[ne.sR,re.qQ,c.SKi]},ne.Yq,(0,ne.YV)()]}}}return S=q,(0,p.A)(q,"\u0275fac",function(x){return new(x||S)}),(0,p.A)(q,"\u0275mod",c.$C({type:S})),(0,p.A)(q,"\u0275inj",c.G2t({providers:[Oo,Cs],imports:[re.MD]})),q})()},7935:(fn,dt,L)=>{"use strict";L.d(dt,{A:()=>p.A});var p=L(3345);p.A.registerVersion("firebase","10.12.2","app-compat")},4635:(fn,dt,L)=>{"use strict";L.r(dt);var p=L(467),c=L(3345),J=L(7852),ne=L(1076),he=L(8041),Se=L(1635),re=L(1362);const He={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const We=function Ve(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ut=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},qe=new ne.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),At=new he.Vy("@firebase/auth");function It(y,...h){At.logLevel<=he.$b.ERROR&&At.error(`Auth (${J.SDK_VERSION}): ${y}`,...h)}function Ee(y,...h){throw Ze(y,...h)}function Oe(y,...h){return Ze(y,...h)}function le(y,h,g){const A=Object.assign(Object.assign({},ut()),{[h]:g});return new ne.FA("auth","Firebase",A).create(h,{appName:y.name})}function it(y){return le(y,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function at(y,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&Ee(y,"argument-error"),le(y,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ze(y,...h){if("string"!=typeof y){const g=h[0],A=[...h.slice(1)];return A[0]&&(A[0].appName=y.name),y._errorFactory.create(g,...A)}return qe.create(y,...h)}function $e(y,h,...g){if(!y)throw Ze(h,...g)}function Lt(y){const h="INTERNAL ASSERTION FAILED: "+y;throw It(h),new Error(h)}function un(y,h){y||Lt(h)}function vt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Xe(){return"http:"===ht()||"https:"===ht()}function ht(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class H{constructor(h,g){this.shortDelay=h,this.longDelay=g,un(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,ne.jZ)()||(0,ne.lV)()}get(){return function Be(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Xe()||(0,ne.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function G(y,h){un(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class X{static initialize(h,g,A){this.fetchImpl=h,g&&(this.headersImpl=g),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Lt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Lt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Lt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},je=new H(3e4,6e4);function Ue(y,h){return y.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:y.tenantId}):h}function xe(y,h,g,A){return jt.apply(this,arguments)}function jt(){return(jt=(0,p.A)(function*(y,h,g,A,U={}){return Mn(y,U,(0,p.A)(function*(){let se={},Qe={};A&&("GET"===h?Qe=A:se={body:JSON.stringify(A)});const yt=(0,ne.Am)(Object.assign({key:y.config.apiKey},Qe)).slice(1),Gt=yield y._getAdditionalHeaders();return Gt["Content-Type"]="application/json",y.languageCode&&(Gt["X-Firebase-Locale"]=y.languageCode),X.fetch()(Wn(y,y.config.apiHost,g,yt),Object.assign({method:h,headers:Gt,referrerPolicy:"no-referrer"},se))}))})).apply(this,arguments)}function Mn(y,h,g){return cn.apply(this,arguments)}function cn(){return(cn=(0,p.A)(function*(y,h,g){y._canInitEmulator=!1;const A=Object.assign(Object.assign({},Ie),h);try{const U=new Jn(y),se=yield Promise.race([g(),U.promise]);U.clearNetworkTimeout();const Qe=yield se.json();if("needConfirmation"in Qe)throw Kn(y,"account-exists-with-different-credential",Qe);if(se.ok&&!("errorMessage"in Qe))return Qe;{const yt=se.ok?Qe.errorMessage:Qe.error.message,[Gt,yn]=yt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Gt)throw Kn(y,"credential-already-in-use",Qe);if("EMAIL_EXISTS"===Gt)throw Kn(y,"email-already-in-use",Qe);if("USER_DISABLED"===Gt)throw Kn(y,"user-disabled",Qe);const xn=A[Gt]||Gt.toLowerCase().replace(/[_\s]+/g,"-");if(yn)throw le(y,xn,yn);Ee(y,xn)}}catch(U){if(U instanceof ne.g)throw U;Ee(y,"network-request-failed",{message:String(U)})}})).apply(this,arguments)}function Yt(y,h,g,A){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,p.A)(function*(y,h,g,A,U={}){const se=yield xe(y,h,g,A,U);return"mfaPendingCredential"in se&&Ee(y,"multi-factor-auth-required",{_serverResponse:se}),se})).apply(this,arguments)}function Wn(y,h,g,A){const U=`${h}${g}?${A}`;return y.config.emulator?G(y.config,U):`${y.config.apiScheme}://${U}`}function lr(y){switch(y){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Jn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,A)=>{this.timer=setTimeout(()=>A(Oe(this.auth,"network-request-failed")),je.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kn(y,h,g){const A={appName:y.name};g.email&&(A.email=g.email),g.phoneNumber&&(A.phoneNumber=g.phoneNumber);const U=Oe(y,h,A);return U.customData._tokenResponse=g,U}function On(y){return void 0!==y&&void 0!==y.getResponse}function Gn(y){return void 0!==y&&void 0!==y.enterprise}class pt{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const g of this.recaptchaEnforcementState)if(g.provider&&g.provider===h)return lr(g.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function bt(){return(bt=(0,p.A)(function*(y){return(yield xe(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function mn(y,h){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,p.A)(function*(y,h){return xe(y,"GET","/v2/recaptchaConfig",Ue(y,h))})).apply(this,arguments)}function Zn(){return(Zn=(0,p.A)(function*(y,h){return xe(y,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function vn(){return(vn=(0,p.A)(function*(y,h){return xe(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function er(y,h){return gr.apply(this,arguments)}function gr(){return(gr=(0,p.A)(function*(y,h){return xe(y,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function hr(y){if(y)try{const h=new Date(Number(y));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Pr(){return(Pr=(0,p.A)(function*(y,h=!1){const g=(0,ne.Ku)(y),A=yield g.getIdToken(h),U=Zr(A);$e(U&&U.exp&&U.auth_time&&U.iat,g.auth,"internal-error");const se="object"==typeof U.firebase?U.firebase:void 0,Qe=null==se?void 0:se.sign_in_provider;return{claims:U,token:A,authTime:hr(Ln(U.auth_time)),issuedAtTime:hr(Ln(U.iat)),expirationTime:hr(Ln(U.exp)),signInProvider:Qe||null,signInSecondFactor:(null==se?void 0:se.sign_in_second_factor)||null}})).apply(this,arguments)}function Ln(y){return 1e3*Number(y)}function Zr(y){const[h,g,A]=y.split(".");if(void 0===h||void 0===g||void 0===A)return It("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,ne.u)(g);return U?JSON.parse(U):(It("Failed to decode base64 JWT payload"),null)}catch(U){return It("Caught error parsing JWT payload as JSON",null==U?void 0:U.toString()),null}}function fr(y){const h=Zr(y);return $e(h,"internal-error"),$e(typeof h.exp<"u","internal-error"),$e(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function Bn(y,h){return mi.apply(this,arguments)}function mi(){return(mi=(0,p.A)(function*(y,h,g=!1){if(g)return h;try{return yield h}catch(A){throw A instanceof ne.g&&function dr({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(A)&&y.auth.currentUser===y&&(yield y.auth.signOut()),A}})).apply(this,arguments)}class Jr{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const U=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const A=this.getInterval(h);this.timerId=setTimeout((0,p.A)(function*(){yield g.iteration()}),A)}iteration(){var h=this;return(0,p.A)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===(null==g?void 0:g.code)&&h.schedule(!0))}h.schedule()})()}}class vi{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=hr(this.lastLoginAt),this.creationTime=hr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pi(y){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,p.A)(function*(y){var h;const g=y.auth,A=yield y.getIdToken(),U=yield Bn(y,er(g,{idToken:A}));$e(null==U?void 0:U.users.length,g,"internal-error");const se=U.users[0];y._notifyReloadListener(se);const Qe=null!==(h=se.providerUserInfo)&&void 0!==h&&h.length?Je(se.providerUserInfo):[],yt=function Nt(y,h){return[...y.filter(A=>!h.some(U=>U.providerId===A.providerId)),...h]}(y.providerData,Qe),xn=!!y.isAnonymous&&!(y.email&&se.passwordHash||null!=yt&&yt.length),An={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:yt,metadata:new vi(se.createdAt,se.lastLoginAt),isAnonymous:xn};Object.assign(y,An)})).apply(this,arguments)}function et(){return(et=(0,p.A)(function*(y){const h=(0,ne.Ku)(y);yield Pi(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Je(y){return y.map(h=>{var{providerId:g}=h,A=(0,Se.Tt)(h,["providerId"]);return{providerId:g,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function pe(){return(pe=(0,p.A)(function*(y,h){const g=yield Mn(y,{},(0,p.A)(function*(){const A=(0,ne.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:U,apiKey:se}=y.config,Qe=Wn(y,U,"/v1/token",`key=${se}`),yt=yield y._getAdditionalHeaders();return yt["Content-Type"]="application/x-www-form-urlencoded",X.fetch()(Qe,{method:"POST",headers:yt,body:A})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}function xt(){return(xt=(0,p.A)(function*(y,h){return xe(y,"POST","/v2/accounts:revokeToken",Ue(y,h))})).apply(this,arguments)}class _t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){$e(h.idToken,"internal-error"),$e(typeof h.idToken<"u","internal-error"),$e(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):fr(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}updateFromIdToken(h){$e(0!==h.length,"internal-error");const g=fr(h);this.updateTokensAndExpiration(h,null,g)}getToken(h,g=!1){var A=this;return(0,p.A)(function*(){return g||!A.accessToken||A.isExpired?($e(A.refreshToken,h,"user-token-expired"),A.refreshToken?(yield A.refresh(h,A.refreshToken),A.accessToken):null):A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var A=this;return(0,p.A)(function*(){const{accessToken:U,refreshToken:se,expiresIn:Qe}=yield function ce(y,h){return pe.apply(this,arguments)}(h,g);A.updateTokensAndExpiration(U,se,Number(Qe))})()}updateTokensAndExpiration(h,g,A){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(h,g){const{refreshToken:A,accessToken:U,expirationTime:se}=g,Qe=new _t;return A&&($e("string"==typeof A,"internal-error",{appName:h}),Qe.refreshToken=A),U&&($e("string"==typeof U,"internal-error",{appName:h}),Qe.accessToken=U),se&&($e("number"==typeof se,"internal-error",{appName:h}),Qe.expirationTime=se),Qe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new _t,this.toJSON())}_performRefresh(){return Lt("not implemented")}}function dn(y,h){$e("string"==typeof y||typeof y>"u","internal-error",{appName:h})}class Cn{constructor(h){var{uid:g,auth:A,stsTokenManager:U}=h,se=(0,Se.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=A,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.providerData=se.providerData?[...se.providerData]:[],this.metadata=new vi(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,p.A)(function*(){const A=yield Bn(g,g.stsTokenManager.getToken(g.auth,h));return $e(A,g.auth,"internal-error"),g.accessToken!==A&&(g.accessToken=A,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),A})()}getIdTokenResult(h){return function Pn(y){return Pr.apply(this,arguments)}(this,h)}reload(){return function ft(y){return et.apply(this,arguments)}(this)}_assign(h){this!==h&&($e(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const g=new Cn(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(h){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var A=this;return(0,p.A)(function*(){let U=!1;h.idToken&&h.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(h),U=!0),g&&(yield Pi(A)),yield A.auth._persistUserIfCurrent(A),U&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var h=this;return(0,p.A)(function*(){if((0,J._isFirebaseServerApp)(h.auth.app))return Promise.reject(it(h.auth));const g=yield h.getIdToken();return yield Bn(h,function Fr(y,h){return Zn.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var A,U,se,Qe,yt,Gt,yn,xn;const An=null!==(A=g.displayName)&&void 0!==A?A:void 0,Ti=null!==(U=g.email)&&void 0!==U?U:void 0,xs=null!==(se=g.phoneNumber)&&void 0!==se?se:void 0,tc=null!==(Qe=g.photoURL)&&void 0!==Qe?Qe:void 0,Hf=null!==(yt=g.tenantId)&&void 0!==yt?yt:void 0,uh=null!==(Gt=g._redirectEventId)&&void 0!==Gt?Gt:void 0,zf=null!==(yn=g.createdAt)&&void 0!==yn?yn:void 0,ch=null!==(xn=g.lastLoginAt)&&void 0!==xn?xn:void 0,{uid:nc,emailVerified:yu,isAnonymous:Pl,providerData:Gf,stsTokenManager:Wf}=g;$e(nc&&Wf,h,"internal-error");const hv=_t.fromJSON(this.name,Wf);$e("string"==typeof nc,h,"internal-error"),dn(An,h.name),dn(Ti,h.name),$e("boolean"==typeof yu,h,"internal-error"),$e("boolean"==typeof Pl,h,"internal-error"),dn(xs,h.name),dn(tc,h.name),dn(Hf,h.name),dn(uh,h.name),dn(zf,h.name),dn(ch,h.name);const dh=new Cn({uid:nc,auth:h,email:Ti,emailVerified:yu,displayName:An,isAnonymous:Pl,photoURL:tc,phoneNumber:xs,tenantId:Hf,stsTokenManager:hv,createdAt:zf,lastLoginAt:ch});return Gf&&Array.isArray(Gf)&&(dh.providerData=Gf.map(fg=>Object.assign({},fg))),uh&&(dh._redirectEventId=uh),dh}static _fromIdTokenResponse(h,g,A=!1){return(0,p.A)(function*(){const U=new _t;U.updateFromServerResponse(g);const se=new Cn({uid:g.localId,auth:h,stsTokenManager:U,isAnonymous:A});return yield Pi(se),se})()}static _fromGetAccountInfoResponse(h,g,A){return(0,p.A)(function*(){const U=g.users[0];$e(void 0!==U.localId,"internal-error");const se=void 0!==U.providerUserInfo?Je(U.providerUserInfo):[],Qe=!(U.email&&U.passwordHash||null!=se&&se.length),yt=new _t;yt.updateFromIdToken(A);const Gt=new Cn({uid:U.localId,auth:h,stsTokenManager:yt,isAnonymous:Qe}),yn={uid:U.localId,displayName:U.displayName||null,photoURL:U.photoUrl||null,email:U.email||null,emailVerified:U.emailVerified||!1,phoneNumber:U.phoneNumber||null,tenantId:U.tenantId||null,providerData:se,metadata:new vi(U.createdAt,U.lastLoginAt),isAnonymous:!(U.email&&U.passwordHash||null!=se&&se.length)};return Object.assign(Gt,yn),Gt})()}}const tr=new Map;function ar(y){un(y instanceof Function,"Expected a class definition");let h=tr.get(y);return h?(un(h instanceof y,"Instance stored in cache mismatched with class"),h):(h=new y,tr.set(y,h),h)}const ri=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.A)(function*(){return!0})()}_set(g,A){var U=this;return(0,p.A)(function*(){U.storage[g]=A})()}_get(g){var A=this;return(0,p.A)(function*(){const U=A.storage[g];return void 0===U?null:U})()}_remove(g){var A=this;return(0,p.A)(function*(){delete A.storage[g]})()}_addListener(g,A){}_removeListener(g,A){}}return y.type="NONE",y})();function Vn(y,h,g){return`firebase:${y}:${h}:${g}`}class In{constructor(h,g,A){this.persistence=h,this.auth=g,this.userKey=A;const{config:U,name:se}=this.auth;this.fullUserKey=Vn(this.userKey,U.apiKey,se),this.fullPersistenceKey=Vn("persistence",U.apiKey,se),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,p.A)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?Cn._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,p.A)(function*(){if(g.persistence===h)return;const A=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,A?g.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,A="authUser"){return(0,p.A)(function*(){if(!g.length)return new In(ar(ri),h,A);const U=(yield Promise.all(g.map(function(){var yn=(0,p.A)(function*(xn){if(yield xn._isAvailable())return xn});return function(xn){return yn.apply(this,arguments)}}()))).filter(yn=>yn);let se=U[0]||ar(ri);const Qe=Vn(A,h.config.apiKey,h.name);let yt=null;for(const yn of g)try{const xn=yield yn._get(Qe);if(xn){const An=Cn._fromJSON(h,xn);yn!==se&&(yt=An),se=yn;break}}catch{}const Gt=U.filter(yn=>yn._shouldAllowMigration);return se._shouldAllowMigration&&Gt.length?(se=Gt[0],yt&&(yield se._set(Qe,yt.toJSON())),yield Promise.all(g.map(function(){var yn=(0,p.A)(function*(xn){if(xn!==se)try{yield xn._remove(Qe)}catch{}});return function(xn){return yn.apply(this,arguments)}}())),new In(se,h,A)):new In(se,h,A)})()}}function ei(y){const h=y.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(_i(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Mi(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Fi(h))return"Blackberry";if(Li(h))return"Webos";if(Cr(h))return"Safari";if((h.includes("chrome/")||Ji(h))&&!h.includes("edge/"))return"Chrome";if(nr(h))return"Android";{const A=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function Mi(y=(0,ne.ZQ)()){return/firefox\//i.test(y)}function Cr(y=(0,ne.ZQ)()){const h=y.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Ji(y=(0,ne.ZQ)()){return/crios\//i.test(y)}function _i(y=(0,ne.ZQ)()){return/iemobile/i.test(y)}function nr(y=(0,ne.ZQ)()){return/android/i.test(y)}function Fi(y=(0,ne.ZQ)()){return/blackberry/i.test(y)}function Li(y=(0,ne.ZQ)()){return/webos/i.test(y)}function li(y=(0,ne.ZQ)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Pe(y=(0,ne.ZQ)()){return li(y)||nr(y)||Li(y)||Fi(y)||/windows phone/i.test(y)||_i(y)}function Z(y,h=[]){let g;switch(y){case"Browser":g=ei((0,ne.ZQ)());break;case"Worker":g=`${ei((0,ne.ZQ)())}-${y}`;break;default:g=y}const A=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${J.SDK_VERSION}/${A}`}class Re{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const A=se=>new Promise((Qe,yt)=>{try{Qe(h(se))}catch(Gt){yt(Gt)}});A.onAbort=g,this.queue.push(A);const U=this.queue.length-1;return()=>{this.queue[U]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,p.A)(function*(){if(g.auth.currentUser===h)return;const A=[];try{for(const U of g.queue)yield U(h),U.onAbort&&A.push(U.onAbort)}catch(U){A.reverse();for(const se of A)try{se()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null==U?void 0:U.message})}})()}}function wt(){return(wt=(0,p.A)(function*(y,h={}){return xe(y,"GET","/v2/passwordPolicy",Ue(y,h))})).apply(this,arguments)}class $n{constructor(h){var g,A,U,se;const Qe=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(g=Qe.minPasswordLength)&&void 0!==g?g:6,Qe.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Qe.maxPasswordLength),void 0!==Qe.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Qe.containsLowercaseCharacter),void 0!==Qe.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Qe.containsUppercaseCharacter),void 0!==Qe.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Qe.containsNumericCharacter),void 0!==Qe.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Qe.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(U=null===(A=h.allowedNonAlphanumericCharacters)||void 0===A?void 0:A.join(""))&&void 0!==U?U:"",this.forceUpgradeOnSignin=null!==(se=h.forceUpgradeOnSignin)&&void 0!==se&&se,this.schemaVersion=h.schemaVersion}validatePassword(h){var g,A,U,se,Qe,yt;const Gt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,Gt),this.validatePasswordCharacterOptions(h,Gt),Gt.isValid&&(Gt.isValid=null===(g=Gt.meetsMinPasswordLength)||void 0===g||g),Gt.isValid&&(Gt.isValid=null===(A=Gt.meetsMaxPasswordLength)||void 0===A||A),Gt.isValid&&(Gt.isValid=null===(U=Gt.containsLowercaseLetter)||void 0===U||U),Gt.isValid&&(Gt.isValid=null===(se=Gt.containsUppercaseLetter)||void 0===se||se),Gt.isValid&&(Gt.isValid=null===(Qe=Gt.containsNumericCharacter)||void 0===Qe||Qe),Gt.isValid&&(Gt.isValid=null===(yt=Gt.containsNonAlphanumericCharacter)||void 0===yt||yt),Gt}validatePasswordLengthOptions(h,g){const A=this.customStrengthOptions.minPasswordLength,U=this.customStrengthOptions.maxPasswordLength;A&&(g.meetsMinPasswordLength=h.length>=A),U&&(g.meetsMaxPasswordLength=h.length<=U)}validatePasswordCharacterOptions(h,g){let A;this.updatePasswordCharacterOptionsStatuses(g,!1,!1,!1,!1);for(let U=0;U<h.length;U++)A=h.charAt(U),this.updatePasswordCharacterOptionsStatuses(g,A>="a"&&A<="z",A>="A"&&A<="Z",A>="0"&&A<="9",this.allowedNonAlphanumericCharacters.includes(A))}updatePasswordCharacterOptionsStatuses(h,g,A,U,se){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=g)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=A)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=U)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=se))}}class mr{constructor(h,g,A,U){this.app=h,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=A,this.config=U,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ki(this),this.idTokenSubscription=new Ki(this),this.beforeStateQueue=new Re(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=U.sdkClientVersion}_initializeWithPersistence(h,g){var A=this;return g&&(this._popupRedirectResolver=ar(g)),this._initializationPromise=this.queue((0,p.A)(function*(){var U,se;if(!A._deleted&&(A.persistenceManager=yield In.create(A,h),!A._deleted)){if(null!==(U=A._popupRedirectResolver)&&void 0!==U&&U._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(g),A.lastNotifiedUid=(null===(se=A.currentUser)||void 0===se?void 0:se.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,p.A)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUserFromIdToken(h){var g=this;return(0,p.A)(function*(){try{const A=yield er(g,{idToken:h}),U=yield Cn._fromGetAccountInfoResponse(g,A,h);yield g.directlySetCurrentUser(U)}catch(A){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",A),yield g.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var g=this;return(0,p.A)(function*(){var A;if((0,J._isFirebaseServerApp)(g.app)){const yt=g.app.settings.authIdToken;return yt?new Promise(Gt=>{setTimeout(()=>g.initializeCurrentUserFromIdToken(yt).then(Gt,Gt))}):g.directlySetCurrentUser(null)}const U=yield g.assertedPersistence.getCurrentUser();let se=U,Qe=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const yt=null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId,Gt=null==se?void 0:se._redirectEventId,yn=yield g.tryRedirectSignIn(h);(!yt||yt===Gt)&&null!=yn&&yn.user&&(se=yn.user,Qe=!0)}if(!se)return g.directlySetCurrentUser(null);if(!se._redirectEventId){if(Qe)try{yield g.beforeStateQueue.runMiddleware(se)}catch(yt){se=U,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(yt))}return se?g.reloadAndSetCurrentUserOrClear(se):g.directlySetCurrentUser(null)}return $e(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===se._redirectEventId?g.directlySetCurrentUser(se):g.reloadAndSetCurrentUserOrClear(se)})()}tryRedirectSignIn(h){var g=this;return(0,p.A)(function*(){let A=null;try{A=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,p.A)(function*(){try{yield Pi(h)}catch(A){if("auth/network-request-failed"!==(null==A?void 0:A.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function ae(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var h=this;return(0,p.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,p.A)(function*(){if((0,J._isFirebaseServerApp)(g.app))return Promise.reject(it(g));const A=h?(0,ne.Ku)(h):null;return A&&$e(A.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(A&&A._clone(g))})()}_updateCurrentUser(h,g=!1){var A=this;return(0,p.A)(function*(){if(!A._deleted)return h&&$e(A.tenantId===h.tenantId,A,"tenant-id-mismatch"),g||(yield A.beforeStateQueue.runMiddleware(h)),A.queue((0,p.A)(function*(){yield A.directlySetCurrentUser(h),A.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,p.A)(function*(){return(0,J._isFirebaseServerApp)(h.app)?Promise.reject(it(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var g=this;return(0,J._isFirebaseServerApp)(this.app)?Promise.reject(it(this)):this.queue((0,p.A)(function*(){yield g.assertedPersistence.setPersistence(ar(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var g=this;return(0,p.A)(function*(){g._getPasswordPolicyInternal()||(yield g._updatePasswordPolicy());const A=g._getPasswordPolicyInternal();return A.schemaVersion!==g.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(g._errorFactory.create("unsupported-password-policy-schema-version",{})):A.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,p.A)(function*(){const g=yield function Tt(y){return wt.apply(this,arguments)}(h),A=new $n(g);null===h.tenantId?h._projectPasswordPolicy=A:h._tenantPasswordPolicies[h.tenantId]=A})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new ne.FA("auth","Firebase",h())}onAuthStateChanged(h,g,A){return this.registerStateListener(this.authStateSubscription,h,g,A)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,A){return this.registerStateListener(this.idTokenSubscription,h,g,A)}authStateReady(){return new Promise((h,g)=>{if(this.currentUser)h();else{const A=this.onAuthStateChanged(()=>{A(),h()},g)}})}revokeAccessToken(h){var g=this;return(0,p.A)(function*(){if(g.currentUser){const A=yield g.currentUser.getIdToken(),U={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:A};null!=g.tenantId&&(U.tenantId=g.tenantId),yield function Fe(y,h){return xt.apply(this,arguments)}(g,U)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var A=this;return(0,p.A)(function*(){const U=yield A.getOrInitRedirectPersistenceManager(g);return null===h?U.removeCurrentUser():U.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,p.A)(function*(){if(!g.redirectPersistenceManager){const A=h&&ar(h)||g._popupRedirectResolver;$e(A,g,"argument-error"),g.redirectPersistenceManager=yield In.create(g,[ar(A._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,p.A)(function*(){var A,U;return g._isInitialized&&(yield g.queue((0,p.A)(function*(){}))),(null===(A=g._currentUser)||void 0===A?void 0:A._redirectEventId)===h?g._currentUser:(null===(U=g.redirectUser)||void 0===U?void 0:U._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,p.A)(function*(){if(h===g.currentUser)return g.queue((0,p.A)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,A,U){if(this._deleted)return()=>{};const se="function"==typeof g?g:g.next.bind(g);let Qe=!1;const yt=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(yt,this,"internal-error"),yt.then(()=>{Qe||se(this.currentUser)}),"function"==typeof g){const Gt=h.addObserver(g,A,U);return()=>{Qe=!0,Gt()}}{const Gt=h.addObserver(g);return()=>{Qe=!0,Gt()}}}directlySetCurrentUser(h){var g=this;return(0,p.A)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Z(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,p.A)(function*(){var g;const A={"X-Client-Version":h.clientVersion};h.app.options.appId&&(A["X-Firebase-gmpid"]=h.app.options.appId);const U=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();U&&(A["X-Firebase-Client"]=U);const se=yield h._getAppCheckToken();return se&&(A["X-Firebase-AppCheck"]=se),A})()}_getAppCheckToken(){var h=this;return(0,p.A)(function*(){var g;const A=yield null===(g=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return null!=A&&A.error&&function rt(y,...h){At.logLevel<=he.$b.WARN&&At.warn(`Auth (${J.SDK_VERSION}): ${y}`,...h)}(`Error while retrieving App Check token: ${A.error}`),null==A?void 0:A.token})()}}function rr(y){return(0,ne.Ku)(y)}class Ki{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,ne.tD)(g=>this.observer=g)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ai={loadJS:()=>(0,p.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ii(y){return ai.loadJS(y)}function Di(y){return`__${y}${Math.floor(1e6*Math.random())}`}class xo{constructor(h){this.type="recaptcha-enterprise",this.auth=rr(h)}verify(h="verify",g=!1){var A=this;return(0,p.A)(function*(){function se(){return se=(0,p.A)(function*(yt){if(!g){if(null==yt.tenantId&&null!=yt._agentRecaptchaConfig)return yt._agentRecaptchaConfig.siteKey;if(null!=yt.tenantId&&void 0!==yt._tenantRecaptchaConfigs[yt.tenantId])return yt._tenantRecaptchaConfigs[yt.tenantId].siteKey}return new Promise(function(){var Gt=(0,p.A)(function*(yn,xn){mn(yt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(An=>{if(void 0!==An.recaptchaKey){const Ti=new pt(An);return null==yt.tenantId?yt._agentRecaptchaConfig=Ti:yt._tenantRecaptchaConfigs[yt.tenantId]=Ti,yn(Ti.siteKey)}xn(new Error("recaptcha Enterprise site key undefined"))}).catch(An=>{xn(An)})});return function(yn,xn){return Gt.apply(this,arguments)}}())}),se.apply(this,arguments)}function Qe(yt,Gt,yn){const xn=window.grecaptcha;Gn(xn)?xn.enterprise.ready(()=>{xn.enterprise.execute(yt,{action:h}).then(An=>{Gt(An)}).catch(()=>{Gt("NO_RECAPTCHA")})}):yn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((yt,Gt)=>{(function U(yt){return se.apply(this,arguments)})(A.auth).then(yn=>{if(!g&&Gn(window.grecaptcha))Qe(yn,yt,Gt);else{if(typeof window>"u")return void Gt(new Error("RecaptchaVerifier is only supported in browser"));let xn=function Vi(){return ai.recaptchaEnterpriseScript}();0!==xn.length&&(xn+=yn),ii(xn).then(()=>{Qe(yn,yt,Gt)}).catch(An=>{Gt(An)})}}).catch(yn=>{Gt(yn)})})})()}}function No(y,h,g){return yo.apply(this,arguments)}function yo(){return(yo=(0,p.A)(function*(y,h,g,A=!1){const U=new xo(y);let se;try{se=yield U.verify(g)}catch{se=yield U.verify(g,!0)}const Qe=Object.assign({},h);return Object.assign(Qe,A?{captchaResp:se}:{captchaResponse:se}),Object.assign(Qe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Qe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Qe})).apply(this,arguments)}function bi(y,h,g,A){return ir.apply(this,arguments)}function ir(){return ir=(0,p.A)(function*(y,h,g,A){var U;if(null!==(U=y._getRecaptchaConfig())&&void 0!==U&&U.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const se=yield No(y,h,g,"getOobCode"===g);return A(y,se)}return A(y,h).catch(function(){var se=(0,p.A)(function*(Qe){if("auth/missing-recaptcha-token"===Qe.code){console.log(`${g} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const yt=yield No(y,h,g,"getOobCode"===g);return A(y,yt)}return Promise.reject(Qe)});return function(Qe){return se.apply(this,arguments)}}())}),ir.apply(this,arguments)}function ls(y){const h=y.indexOf(":");return h<0?"":y.substr(0,h+1)}function ur(y){if(!y)return null;const h=Number(y);return isNaN(h)?null:h}class Oo{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return Lt("not implemented")}_getIdTokenResponse(h){return Lt("not implemented")}_linkToIdToken(h,g){return Lt("not implemented")}_getReauthenticationResolver(h){return Lt("not implemented")}}function or(y,h){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,p.A)(function*(y,h){return xe(y,"POST","/v1/accounts:resetPassword",Ue(y,h))})).apply(this,arguments)}function Ds(){return(Ds=(0,p.A)(function*(y,h){return xe(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function oo(y,h){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,p.A)(function*(y,h){return xe(y,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function S(){return(S=(0,p.A)(function*(y,h){return xe(y,"POST","/v1/accounts:update",Ue(y,h))})).apply(this,arguments)}function q(y,h){return me.apply(this,arguments)}function me(){return(me=(0,p.A)(function*(y,h){return Yt(y,"POST","/v1/accounts:signInWithPassword",Ue(y,h))})).apply(this,arguments)}function x(y,h){return ve.apply(this,arguments)}function ve(){return(ve=(0,p.A)(function*(y,h){return xe(y,"POST","/v1/accounts:sendOobCode",Ue(y,h))})).apply(this,arguments)}function yr(){return(yr=(0,p.A)(function*(y,h){return x(y,h)})).apply(this,arguments)}function Ni(y,h){return $.apply(this,arguments)}function $(){return($=(0,p.A)(function*(y,h){return x(y,h)})).apply(this,arguments)}function ue(y,h){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,p.A)(function*(y,h){return x(y,h)})).apply(this,arguments)}function mt(){return(mt=(0,p.A)(function*(y,h){return x(y,h)})).apply(this,arguments)}function Bt(){return(Bt=(0,p.A)(function*(y,h){return Yt(y,"POST","/v1/accounts:signInWithEmailLink",Ue(y,h))})).apply(this,arguments)}function qt(){return(qt=(0,p.A)(function*(y,h){return Yt(y,"POST","/v1/accounts:signInWithEmailLink",Ue(y,h))})).apply(this,arguments)}class Zt extends Oo{constructor(h,g,A,U=null){super("password",A),this._email=h,this._password=g,this._tenantId=U}static _fromEmailAndPassword(h,g){return new Zt(h,g,"password")}static _fromEmailAndCode(h,g,A=null){return new Zt(h,g,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(null!=g&&g.email&&null!=g&&g.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,p.A)(function*(){switch(g.signInMethod){case"password":return bi(h,{returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",q);case"emailLink":return function gt(y,h){return Bt.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:Ee(h,"internal-error")}})()}_linkToIdToken(h,g){var A=this;return(0,p.A)(function*(){switch(A.signInMethod){case"password":return bi(h,{idToken:g,returnSecureToken:!0,email:A._email,password:A._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oo);case"emailLink":return function Xt(y,h){return qt.apply(this,arguments)}(h,{idToken:g,email:A._email,oobCode:A._password});default:Ee(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function pn(y,h){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,p.A)(function*(y,h){return Yt(y,"POST","/v1/accounts:signInWithIdp",Ue(y,h))})).apply(this,arguments)}class kn extends Oo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new kn(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):Ee("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:A,signInMethod:U}=g,se=(0,Se.Tt)(g,["providerId","signInMethod"]);if(!A||!U)return null;const Qe=new kn(A,U);return Qe.idToken=se.idToken||void 0,Qe.accessToken=se.accessToken||void 0,Qe.secret=se.secret,Qe.nonce=se.nonce,Qe.pendingToken=se.pendingToken||null,Qe}_getIdTokenResponse(h){return pn(h,this.buildRequest())}_linkToIdToken(h,g){const A=this.buildRequest();return A.idToken=g,pn(h,A)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,pn(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,ne.Am)(g)}return h}}function Ui(){return(Ui=(0,p.A)(function*(y,h){return xe(y,"POST","/v1/accounts:sendVerificationCode",Ue(y,h))})).apply(this,arguments)}function oi(){return(oi=(0,p.A)(function*(y,h){return Yt(y,"POST","/v1/accounts:signInWithPhoneNumber",Ue(y,h))})).apply(this,arguments)}function wi(){return(wi=(0,p.A)(function*(y,h){const g=yield Yt(y,"POST","/v1/accounts:signInWithPhoneNumber",Ue(y,h));if(g.temporaryProof)throw Kn(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const jo={USER_NOT_FOUND:"user-not-found"};function us(){return(us=(0,p.A)(function*(y,h){return Yt(y,"POST","/v1/accounts:signInWithPhoneNumber",Ue(y,Object.assign(Object.assign({},h),{operation:"REAUTH"})),jo)})).apply(this,arguments)}class Qs extends Oo{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new Qs({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new Qs({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function Rr(y,h){return oi.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function Oi(y,h){return wi.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Xs(y,h){return us.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:A,verificationCode:U}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:A,code:U}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:A,phoneNumber:U,temporaryProof:se}=h;return A||g||U||se?new Qs({verificationId:g,verificationCode:A,phoneNumber:U,temporaryProof:se}):null}}class Ys{constructor(h){var g,A,U,se,Qe,yt;const Gt=(0,ne.I9)((0,ne.hp)(h)),yn=null!==(g=Gt.apiKey)&&void 0!==g?g:null,xn=null!==(A=Gt.oobCode)&&void 0!==A?A:null,An=function ba(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(U=Gt.mode)&&void 0!==U?U:null);$e(yn&&xn&&An,"argument-error"),this.apiKey=yn,this.operation=An,this.code=xn,this.continueUrl=null!==(se=Gt.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==(Qe=Gt.languageCode)&&void 0!==Qe?Qe:null,this.tenantId=null!==(yt=Gt.tenantId)&&void 0!==yt?yt:null}static parseLink(h){const g=function Do(y){const h=(0,ne.I9)((0,ne.hp)(y)).link,g=h?(0,ne.I9)((0,ne.hp)(h)).deep_link_id:null,A=(0,ne.I9)((0,ne.hp)(y)).deep_link_id;return(A?(0,ne.I9)((0,ne.hp)(A)).link:null)||A||g||h||y}(h);try{return new Ys(g)}catch{return null}}}let wa=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,A){return Zt._fromEmailAndPassword(g,A)}static credentialWithLink(g,A){const U=Ys.parseLink(A);return $e(U,"argument-error"),Zt._fromEmailAndCode(g,U.code,U.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class eo{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class fo extends eo{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Er extends fo{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return $e("providerId"in g&&"signInMethod"in g,"argument-error"),kn._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return $e(h.idToken||h.accessToken,"argument-error"),kn._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Er.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Er.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:A,oauthTokenSecret:U,pendingToken:se,nonce:Qe,providerId:yt}=h;if(!A&&!U&&!g&&!se||!yt)return null;try{return new Er(yt)._credential({idToken:g,accessToken:A,nonce:Qe,pendingToken:se})}catch{return null}}}let cs=(()=>{class y extends fo{constructor(){super("facebook.com")}static credential(g){return kn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Sa=(()=>{class y extends fo{constructor(){super("google.com"),this.addScope("profile")}static credential(g,A){return kn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:A})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:A,oauthAccessToken:U}=g;if(!A&&!U)return null;try{return y.credential(A,U)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Ra=(()=>{class y extends fo{constructor(){super("github.com")}static credential(g){return kn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Fo extends Oo{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return pn(h,this.buildRequest())}_linkToIdToken(h,g){const A=this.buildRequest();return A.idToken=g,pn(h,A)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,pn(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:A,signInMethod:U,pendingToken:se}=g;return A&&U&&se&&A===U?new Fo(A,se):null}static _create(h,g){return new Fo(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Yo extends eo{constructor(h){$e(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Yo.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Yo.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=Fo.fromJSON(h);return $e(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:A}=h;if(!g||!A)return null;try{return Fo._create(A,g)}catch{return null}}}let Zs=(()=>{class y extends fo{constructor(){super("twitter.com")}static credential(g,A){return kn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:A})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:A,oauthTokenSecret:U}=g;if(!A||!U)return null;try{return y.credential(A,U)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Fs(y,h){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,p.A)(function*(y,h){return Yt(y,"POST","/v1/accounts:signUp",Ue(y,h))})).apply(this,arguments)}class zo{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,A,U=!1){return(0,p.A)(function*(){const se=yield Cn._fromIdTokenResponse(h,A,U),Qe=ds(A);return new zo({user:se,providerId:Qe,_tokenResponse:A,operationType:g})})()}static _forOperation(h,g,A){return(0,p.A)(function*(){yield h._updateTokensIfNecessary(A,!0);const U=ds(A);return new zo({user:h,providerId:U,_tokenResponse:A,operationType:g})})()}}function ds(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Pa(){return(Pa=(0,p.A)(function*(y){var h;if((0,J._isFirebaseServerApp)(y.app))return Promise.reject(it(y));const g=rr(y);if(yield g._initializationPromise,null!==(h=g.currentUser)&&void 0!==h&&h.isAnonymous)return new zo({user:g.currentUser,providerId:null,operationType:"signIn"});const A=yield Fs(g,{returnSecureToken:!0}),U=yield zo._fromIdTokenResponse(g,"signIn",A,!0);return yield g._updateCurrentUser(U.user),U})).apply(this,arguments)}class Ls extends ne.g{constructor(h,g,A,U){var se;super(g.code,g.message),this.operationType=A,this.user=U,Object.setPrototypeOf(this,Ls.prototype),this.customData={appName:h.name,tenantId:null!==(se=h.tenantId)&&void 0!==se?se:void 0,_serverResponse:g.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(h,g,A,U){return new Ls(h,g,A,U)}}function ll(y,h,g,A){return("reauthenticate"===h?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?Ls._fromErrorAndOperation(y,se,h,A):se})}function z(y){return new Set(y.map(({providerId:h})=>h).filter(h=>!!h))}function ge(){return ge=(0,p.A)(function*(y,h){const g=(0,ne.Ku)(y);yield en(!0,g,h);const{providerUserInfo:A}=yield function En(y,h){return vn.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),U=z(A||[]);return g.providerData=g.providerData.filter(se=>U.has(se.providerId)),U.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),ge.apply(this,arguments)}function j(y,h){return De.apply(this,arguments)}function De(){return(De=(0,p.A)(function*(y,h,g=!1){const A=yield Bn(y,h._linkToIdToken(y.auth,yield y.getIdToken()),g);return zo._forOperation(y,"link",A)})).apply(this,arguments)}function en(y,h,g){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,p.A)(function*(y,h,g){yield Pi(h);const U=!1===y?"provider-already-linked":"no-such-provider";$e(z(h.providerData).has(g)===y,h.auth,U)})).apply(this,arguments)}function cr(y,h){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,p.A)(function*(y,h,g=!1){const{auth:A}=y;if((0,J._isFirebaseServerApp)(A.app))return Promise.reject(it(A));const U="reauthenticate";try{const se=yield Bn(y,ll(A,U,h,y),g);$e(se.idToken,A,"internal-error");const Qe=Zr(se.idToken);$e(Qe,A,"internal-error");const{sub:yt}=Qe;return $e(y.uid===yt,A,"user-mismatch"),zo._forOperation(y,U,se)}catch(se){throw"auth/user-not-found"===(null==se?void 0:se.code)&&Ee(A,"user-mismatch"),se}})).apply(this,arguments)}function Zo(y,h){return Go.apply(this,arguments)}function Go(){return(Go=(0,p.A)(function*(y,h,g=!1){if((0,J._isFirebaseServerApp)(y.app))return Promise.reject(it(y));const A="signIn",U=yield ll(y,A,h),se=yield zo._fromIdTokenResponse(y,A,U);return g||(yield y._updateCurrentUser(se.user)),se})).apply(this,arguments)}function Vs(y,h){return ul.apply(this,arguments)}function ul(){return(ul=(0,p.A)(function*(y,h){return Zo(rr(y),h)})).apply(this,arguments)}function Wl(y,h){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,p.A)(function*(y,h){const g=(0,ne.Ku)(y);return yield en(!1,g,h.providerId),j(g,h)})).apply(this,arguments)}function Jo(y,h){return za.apply(this,arguments)}function za(){return(za=(0,p.A)(function*(y,h){return cr((0,ne.Ku)(y),h)})).apply(this,arguments)}function hs(){return(hs=(0,p.A)(function*(y,h){return Yt(y,"POST","/v1/accounts:signInWithCustomToken",Ue(y,h))})).apply(this,arguments)}function Dr(){return Dr=(0,p.A)(function*(y,h){if((0,J._isFirebaseServerApp)(y.app))return Promise.reject(it(y));const g=rr(y),A=yield function cl(y,h){return hs.apply(this,arguments)}(g,{token:h,returnSecureToken:!0}),U=yield zo._fromIdTokenResponse(g,"signIn",A);return yield g._updateCurrentUser(U.user),U}),Dr.apply(this,arguments)}class ti{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?$i._fromServerResponse(h,g):"totpInfo"in g?bo._fromServerResponse(h,g):Ee(h,"internal-error")}}class $i extends ti{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new $i(g)}}class bo extends ti{constructor(h){super("totp",h)}static _fromServerResponse(h,g){return new bo(g)}}function Si(y,h,g){var A;$e((null===(A=g.url)||void 0===A?void 0:A.length)>0,y,"invalid-continue-uri"),$e(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&($e(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&($e(g.android.packageName.length>0,y,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function dl(y){return ws.apply(this,arguments)}function ws(){return(ws=(0,p.A)(function*(y){const h=rr(y);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function hl(){return(hl=(0,p.A)(function*(y,h,g){const A=rr(y),U={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};g&&Si(A,U,g),yield bi(A,U,"getOobCode",Ni)})).apply(this,arguments)}function Ma(){return Ma=(0,p.A)(function*(y,h,g){yield or((0,ne.Ku)(y),{oobCode:h,newPassword:g}).catch(function(){var A=(0,p.A)(function*(U){throw"auth/password-does-not-meet-requirements"===U.code&&dl(y),U});return function(U){return A.apply(this,arguments)}}())}),Ma.apply(this,arguments)}function ki(){return ki=(0,p.A)(function*(y,h){yield function xi(y,h){return S.apply(this,arguments)}((0,ne.Ku)(y),{oobCode:h})}),ki.apply(this,arguments)}function fs(y,h){return es.apply(this,arguments)}function es(){return(es=(0,p.A)(function*(y,h){const g=(0,ne.Ku)(y),A=yield or(g,{oobCode:h}),U=A.requestType;switch($e(U,g,"internal-error"),U){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":$e(A.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":$e(A.mfaInfo,g,"internal-error");default:$e(A.email,g,"internal-error")}let se=null;return A.mfaInfo&&(se=ti._fromServerResponse(rr(g),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:se},operation:U}})).apply(this,arguments)}function pl(){return(pl=(0,p.A)(function*(y,h){const{data:g}=yield fs((0,ne.Ku)(y),h);return g.email})).apply(this,arguments)}function Ri(){return(Ri=(0,p.A)(function*(y,h,g){if((0,J._isFirebaseServerApp)(y.app))return Promise.reject(it(y));const A=rr(y),Qe=yield bi(A,{returnSecureToken:!0,email:h,password:g,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fs).catch(Gt=>{throw"auth/password-does-not-meet-requirements"===Gt.code&&dl(y),Gt}),yt=yield zo._fromIdTokenResponse(A,"signIn",Qe);return yield A._updateCurrentUser(yt.user),yt})).apply(this,arguments)}function Dn(){return(Dn=(0,p.A)(function*(y,h,g){const A=rr(y),U={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function se(Qe,yt){$e(yt.handleCodeInApp,A,"argument-error"),yt&&Si(A,Qe,yt)})(U,g),yield bi(A,U,"getOobCode",ue)})).apply(this,arguments)}function _n(){return(_n=(0,p.A)(function*(y,h,g){if((0,J._isFirebaseServerApp)(y.app))return Promise.reject(it(y));const A=(0,ne.Ku)(y),U=wa.credentialWithLink(h,g||vt());return $e(U._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),Vs(A,U)})).apply(this,arguments)}function Jt(){return(Jt=(0,p.A)(function*(y,h){return xe(y,"POST","/v1/accounts:createAuthUri",Ue(y,h))})).apply(this,arguments)}function wo(){return wo=(0,p.A)(function*(y,h){const A={identifier:h,continueUri:Xe()?vt():"http://localhost"},{signinMethods:U}=yield function Ut(y,h){return Jt.apply(this,arguments)}((0,ne.Ku)(y),A);return U||[]}),wo.apply(this,arguments)}function gl(){return gl=(0,p.A)(function*(y,h){const g=(0,ne.Ku)(y),U={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};h&&Si(g.auth,U,h);const{email:se}=yield function ot(y,h){return yr.apply(this,arguments)}(g.auth,U);se!==y.email&&(yield y.reload())}),gl.apply(this,arguments)}function ml(){return ml=(0,p.A)(function*(y,h,g){const A=(0,ne.Ku)(y),se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:h};g&&Si(A.auth,se,g);const{email:Qe}=yield function ze(y,h){return mt.apply(this,arguments)}(A.auth,se);Qe!==y.email&&(yield y.reload())}),ml.apply(this,arguments)}function Js(){return(Js=(0,p.A)(function*(y,h){return xe(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function xa(){return xa=(0,p.A)(function*(y,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const A=(0,ne.Ku)(y),se={idToken:yield A.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},Qe=yield Bn(A,function Fu(y,h){return Js.apply(this,arguments)}(A.auth,se));A.displayName=Qe.displayName||null,A.photoURL=Qe.photoUrl||null;const yt=A.providerData.find(({providerId:Gt})=>"password"===Gt);yt&&(yt.displayName=A.displayName,yt.photoURL=A.photoURL),yield A._updateTokensIfNecessary(Qe)}),xa.apply(this,arguments)}function sr(y,h,g){return Bs.apply(this,arguments)}function Bs(){return Bs=(0,p.A)(function*(y,h,g){const{auth:A}=y,se={idToken:yield y.getIdToken(),returnSecureToken:!0};h&&(se.email=h),g&&(se.password=g);const Qe=yield Bn(y,function Ts(y,h){return Ds.apply(this,arguments)}(A,se));yield y._updateTokensIfNecessary(Qe,!0)}),Bs.apply(this,arguments)}class D{constructor(h,g,A={}){this.isNewUser=h,this.providerId=g,this.profile=A}}class F extends D{constructor(h,g,A,U){super(h,g,A),this.username=U}}class be extends D{constructor(h,g){super(h,"facebook.com",g)}}class M extends F{constructor(h,g){super(h,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class fe extends D{constructor(h,g){super(h,"google.com",g)}}class we extends F{constructor(h,g,A){super(h,"twitter.com",g,A)}}function tt(y){const{user:h,_tokenResponse:g}=y;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Na(y){var h,g;if(!y)return null;const{providerId:A}=y,U=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},se=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!A&&null!=y&&y.idToken){const Qe=null===(g=null===(h=Zr(y.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(Qe)return new D(se,"anonymous"!==Qe&&"custom"!==Qe?Qe:null)}if(!A)return null;switch(A){case"facebook.com":return new be(se,U);case"github.com":return new M(se,U);case"google.com":return new fe(se,U);case"twitter.com":return new we(se,U,y.screenName||null);case"custom":case"anonymous":return new D(se,null);default:return new D(se,A,U)}}(g)}class Mr{constructor(h,g,A){this.type=h,this.credential=g,this.user=A}static _fromIdtoken(h,g){return new Mr("enroll",h,g)}static _fromMfaPendingCredential(h){return new Mr("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,A;if(null!=h&&h.multiFactorSession){if(null!==(g=h.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Mr._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(A=h.multiFactorSession)&&void 0!==A&&A.idToken)return Mr._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Hi{constructor(h,g,A){this.session=h,this.hints=g,this.signInResolver=A}static _fromError(h,g){const A=rr(h),U=g.customData._serverResponse,se=(U.mfaInfo||[]).map(yt=>ti._fromServerResponse(A,yt));$e(U.mfaPendingCredential,A,"internal-error");const Qe=Mr._fromMfaPendingCredential(U.mfaPendingCredential);return new Hi(Qe,se,function(){var yt=(0,p.A)(function*(Gt){const yn=yield Gt._process(A,Qe);delete U.mfaInfo,delete U.mfaPendingCredential;const xn=Object.assign(Object.assign({},U),{idToken:yn.idToken,refreshToken:yn.refreshToken});switch(g.operationType){case"signIn":const An=yield zo._fromIdTokenResponse(A,g.operationType,xn);return yield A._updateCurrentUser(An.user),An;case"reauthenticate":return $e(g.user,A,"internal-error"),zo._forOperation(g.user,g.operationType,xn);default:Ee(A,"internal-error")}});return function(Gt){return yt.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,p.A)(function*(){return g.signInResolver(h)})()}}class Ss{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(A=>ti._fromServerResponse(h.auth,A)))})}static _fromUser(h){return new Ss(h)}getSession(){var h=this;return(0,p.A)(function*(){return Mr._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,g){var A=this;return(0,p.A)(function*(){const U=h,se=yield A.getSession(),Qe=yield Bn(A.user,U._process(A.user.auth,se,g));return yield A.user._updateTokensIfNecessary(Qe),A.user.reload()})()}unenroll(h){var g=this;return(0,p.A)(function*(){const A="string"==typeof h?h:h.uid,U=yield g.user.getIdToken();try{const se=yield Bn(g.user,function $s(y,h){return xe(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Ue(y,h))}(g.user.auth,{idToken:U,mfaEnrollmentId:A}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Qe})=>Qe!==A),yield g.user._updateTokensIfNecessary(se),yield g.user.reload()}catch(se){throw se}})()}}const Ka=new WeakMap,Io="__sak";class da{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Io,"1"),this.storage.removeItem(Io),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const gs=(()=>{class y extends da{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,A)=>this.onStorageEvent(g,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ha(){const y=(0,ne.ZQ)();return Cr(y)||li(y)}()&&function te(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Pe(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const A of Object.keys(this.listeners)){const U=this.storage.getItem(A),se=this.localCache[A];U!==se&&g(A,se,U)}}onStorageEvent(g,A=!1){if(!g.key)return void this.forAllChangedKeys((yt,Gt,yn)=>{this.notifyListeners(yt,yn)});const U=g.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const yt=this.storage.getItem(U);if(g.newValue!==yt)null!==g.newValue?this.storage.setItem(U,g.newValue):this.storage.removeItem(U);else if(this.localCache[U]===g.newValue&&!A)return}const se=()=>{const yt=this.storage.getItem(U);!A&&this.localCache[U]===yt||this.notifyListeners(U,yt)},Qe=this.storage.getItem(U);!function Q(){return(0,ne.lT)()&&10===document.documentMode}()||Qe===g.newValue||g.newValue===g.oldValue?se():setTimeout(se,10)}notifyListeners(g,A){this.localCache[g]=A;const U=this.listeners[g];if(U)for(const se of Array.from(U))se(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,A,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:A,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(A)}_removeListener(g,A){this.listeners[g]&&(this.listeners[g].delete(A),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,A){var U=()=>super._set,se=this;return(0,p.A)(function*(){yield U().call(se,g,A),se.localCache[g]=JSON.stringify(A)})()}_get(g){var A=()=>super._get,U=this;return(0,p.A)(function*(){const se=yield A().call(U,g);return U.localCache[g]=JSON.stringify(se),se})()}_remove(g){var A=()=>super._remove,U=this;return(0,p.A)(function*(){yield A().call(U,g),delete U.localCache[g]})()}}return y.type="LOCAL",y})(),Un=(()=>{class y extends da{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,A){}_removeListener(g,A){}}return y.type="SESSION",y})();let Ql=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const A=this.receivers.find(se=>se.isListeningto(g));if(A)return A;const U=new y(g);return this.receivers.push(U),U}isListeningto(g){return this.eventTarget===g}handleEvent(g){var A=this;return(0,p.A)(function*(){const U=g,{eventId:se,eventType:Qe,data:yt}=U.data,Gt=A.handlersMap[Qe];if(null==Gt||!Gt.size)return;U.ports[0].postMessage({status:"ack",eventId:se,eventType:Qe});const yn=Array.from(Gt).map(function(){var An=(0,p.A)(function*(Ti){return Ti(U.origin,yt)});return function(Ti){return An.apply(this,arguments)}}()),xn=yield function Nc(y){return Promise.all(y.map(function(){var h=(0,p.A)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(A){return{fulfilled:!1,reason:A}}});return function(g){return h.apply(this,arguments)}}()))}(yn);U.ports[0].postMessage({status:"done",eventId:se,eventType:Qe,response:xn})})()}_subscribe(g,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(A)}_unsubscribe(g,A){this.handlersMap[g]&&A&&this.handlersMap[g].delete(A),(!A||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function zi(y="",h=10){let g="";for(let A=0;A<h;A++)g+=Math.floor(10*Math.random());return y+g}class Yl{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,A=50){var U=this;return(0,p.A)(function*(){const se=typeof MessageChannel<"u"?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let Qe,yt;return new Promise((Gt,yn)=>{const xn=zi("",20);se.port1.start();const An=setTimeout(()=>{yn(new Error("unsupported_event"))},A);yt={messageChannel:se,onMessage(Ti){const xs=Ti;if(xs.data.eventId===xn)switch(xs.data.status){case"ack":clearTimeout(An),Qe=setTimeout(()=>{yn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Qe),Gt(xs.data.response);break;default:clearTimeout(An),clearTimeout(Qe),yn(new Error("invalid_response"))}}},U.handlers.add(yt),se.port1.addEventListener("message",yt.onMessage),U.target.postMessage({eventType:h,eventId:xn,data:g},[se.port2])}).finally(()=>{yt&&U.removeMessageHandler(yt)})})()}}function Ii(){return window}function Uu(){return typeof Ii().WorkerGlobalScope<"u"&&"function"==typeof Ii().importScripts}function Eo(){return(Eo=(0,p.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Zl="firebaseLocalStorageDb",vl="firebaseLocalStorage",Hd="fbase_key";class Jl{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function _l(y,h){return y.transaction([vl],h?"readwrite":"readonly").objectStore(vl)}function Bu(){const y=indexedDB.open(Zl,1);return new Promise((h,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const A=y.result;try{A.createObjectStore(vl,{keyPath:Hd})}catch(U){g(U)}}),y.addEventListener("success",(0,p.A)(function*(){const A=y.result;A.objectStoreNames.contains(vl)?h(A):(A.close(),yield function zd(){const y=indexedDB.deleteDatabase(Zl);return new Jl(y).toPromise()}(),h(yield Bu()))}))})}function $u(y,h,g){return gf.apply(this,arguments)}function gf(){return(gf=(0,p.A)(function*(y,h,g){const A=_l(y,!0).put({[Hd]:h,value:g});return new Jl(A).toPromise()})).apply(this,arguments)}function mf(){return(mf=(0,p.A)(function*(y,h){const g=_l(y,!1).get(h),A=yield new Jl(g).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function vf(y,h){const g=_l(y,!0).delete(h);return new Jl(g).toPromise()}const b=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,p.A)(function*(){return g.db||(g.db=yield Bu()),g.db})()}_withRetries(g){var A=this;return(0,p.A)(function*(){let U=0;for(;;)try{const se=yield A._openDb();return yield g(se)}catch(se){if(U++>3)throw se;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,p.A)(function*(){return Uu()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,p.A)(function*(){g.receiver=Ql._getInstance(function Oa(){return Uu()?self:null}()),g.receiver._subscribe("keyChanged",function(){var A=(0,p.A)(function*(U,se){return{keyProcessed:(yield g._poll()).includes(se.key)}});return function(U,se){return A.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var A=(0,p.A)(function*(U,se){return["keyChanged"]});return function(U,se){return A.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,p.A)(function*(){var A,U;if(g.activeServiceWorker=yield function Vo(){return Eo.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Yl(g.activeServiceWorker);const se=yield g.sender._send("ping",{},800);se&&null!==(A=se[0])&&void 0!==A&&A.fulfilled&&null!==(U=se[0])&&void 0!==U&&U.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var A=this;return(0,p.A)(function*(){if(A.sender&&A.activeServiceWorker&&function jd(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:g},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.A)(function*(){try{if(!indexedDB)return!1;const g=yield Bu();return yield $u(g,Io,"1"),yield vf(g,Io),!0}catch{}return!1})()}_withPendingWrite(g){var A=this;return(0,p.A)(function*(){A.pendingWrites++;try{yield g()}finally{A.pendingWrites--}})()}_set(g,A){var U=this;return(0,p.A)(function*(){return U._withPendingWrite((0,p.A)(function*(){return yield U._withRetries(se=>$u(se,g,A)),U.localCache[g]=A,U.notifyServiceWorker(g)}))})()}_get(g){var A=this;return(0,p.A)(function*(){const U=yield A._withRetries(se=>function Kp(y,h){return mf.apply(this,arguments)}(se,g));return A.localCache[g]=U,U})()}_remove(g){var A=this;return(0,p.A)(function*(){return A._withPendingWrite((0,p.A)(function*(){return yield A._withRetries(U=>vf(U,g)),delete A.localCache[g],A.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,p.A)(function*(){const A=yield g._withRetries(Qe=>{const yt=_l(Qe,!1).getAll();return new Jl(yt).toPromise()});if(!A)return[];if(0!==g.pendingWrites)return[];const U=[],se=new Set;if(0!==A.length)for(const{fbase_key:Qe,value:yt}of A)se.add(Qe),JSON.stringify(g.localCache[Qe])!==JSON.stringify(yt)&&(g.notifyListeners(Qe,yt),U.push(Qe));for(const Qe of Object.keys(g.localCache))g.localCache[Qe]&&!se.has(Qe)&&(g.notifyListeners(Qe,null),U.push(Qe));return U})()}notifyListeners(g,A){this.localCache[g]=A;const U=this.listeners[g];if(U)for(const se of Array.from(U))se(A)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,p.A)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(A)}_removeListener(g,A){this.listeners[g]&&(this.listeners[g].delete(A),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),ct=1e12;class tn{constructor(h){this.auth=h,this.counter=ct,this._widgets=new Map}render(h,g){const A=this.counter;return this._widgets.set(A,new St(h,this.auth.name,g||{})),this.counter++,A}reset(h){var g;const A=h||ct;null===(g=this._widgets.get(A))||void 0===g||g.delete(),this._widgets.delete(A)}getResponse(h){var g;return(null===(g=this._widgets.get(h||ct))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,p.A)(function*(){var A;return null===(A=g._widgets.get(h||ct))||void 0===A||A.execute(),""})()}}class St{constructor(h,g,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const U="string"==typeof h?document.getElementById(h):h;$e(U,"argument-error",{appName:g}),this.container=U,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ln(y){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<y;A++)h.push(g.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const vr=Di("rcb"),fi=new H(3e4,6e4);class Tr{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Ii().grecaptcha)||void 0===h||!h.render)}load(h,g=""){return $e(function po(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),h,"argument-error"),this.shouldResolveImmediately(g)&&On(Ii().grecaptcha)?Promise.resolve(Ii().grecaptcha):new Promise((A,U)=>{const se=Ii().setTimeout(()=>{U(Oe(h,"network-request-failed"))},fi.get());Ii()[vr]=()=>{Ii().clearTimeout(se),delete Ii()[vr];const yt=Ii().grecaptcha;if(!yt||!On(yt))return void U(Oe(h,"internal-error"));const Gt=yt.render;yt.render=(yn,xn)=>{const An=Gt(yn,xn);return this.counter++,An},this.hostLanguage=g,A(yt)},ii(`${function To(){return ai.recaptchaV2Script}()}?${(0,ne.Am)({onload:vr,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(se),U(Oe(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!(null===(g=Ii().grecaptcha)||void 0===g||!g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ka{load(h){return(0,p.A)(function*(){return new tn(h)})()}clearedOneInstance(){}}const Gi="recaptcha",eu={theme:"light",type:"image"};class ts{constructor(h,g,A=Object.assign({},eu)){this.parameters=A,this.type=Gi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=rr(h),this.isInvisible="invisible"===this.parameters.size,$e(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const U="string"==typeof g?document.getElementById(g):g;$e(U,this.auth,"argument-error"),this.container=U,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ka:new Tr,this.validateStartingState()}verify(){var h=this;return(0,p.A)(function*(){h.assertNotDestroyed();const g=yield h.render(),A=h.getAssertedRecaptcha();return A.getResponse(g)||new Promise(se=>{const Qe=yt=>{yt&&(h.tokenChangeListeners.delete(Qe),se(yt))};h.tokenChangeListeners.add(Qe),h.isInvisible&&A.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){$e(!this.parameters.sitekey,this.auth,"argument-error"),$e(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),$e(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(A=>A(g)),"function"==typeof h)h(g);else if("string"==typeof h){const A=Ii()[h];"function"==typeof A&&A(g)}}}assertNotDestroyed(){$e(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,p.A)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const A=document.createElement("div");g.appendChild(A),g=A}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,p.A)(function*(){$e(Xe()&&!Uu(),h.auth,"internal-error"),yield function Ei(){let y=null;return new Promise(h=>{"complete"!==document.readyState?(y=()=>h(),window.addEventListener("load",y)):h()}).catch(h=>{throw y&&window.removeEventListener("load",y),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function Et(y){return bt.apply(this,arguments)}(h.auth);$e(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return $e(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Hs{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=Qs._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function ju(){return(ju=(0,p.A)(function*(y,h,g){if((0,J._isFirebaseServerApp)(y.app))return Promise.reject(it(y));const A=rr(y),U=yield tu(A,h,(0,ne.Ku)(g));return new Hs(U,se=>Vs(A,se))})).apply(this,arguments)}function Gd(){return(Gd=(0,p.A)(function*(y,h,g){const A=(0,ne.Ku)(y);yield en(!1,A,"phone");const U=yield tu(A.auth,h,(0,ne.Ku)(g));return new Hs(U,se=>Wl(A,se))})).apply(this,arguments)}function pa(){return(pa=(0,p.A)(function*(y,h,g){const A=(0,ne.Ku)(y);if((0,J._isFirebaseServerApp)(A.auth.app))return Promise.reject(it(A.auth));const U=yield tu(A.auth,h,(0,ne.Ku)(g));return new Hs(U,se=>Jo(A,se))})).apply(this,arguments)}function tu(y,h,g){return Xa.apply(this,arguments)}function Xa(){return Xa=(0,p.A)(function*(y,h,g){var A;const U=yield g.verify();try{let se;if($e("string"==typeof U,y,"argument-error"),$e(g.type===Gi,y,"argument-error"),se="string"==typeof h?{phoneNumber:h}:h,"session"in se){const Qe=se.session;if("phoneNumber"in se)return $e("enroll"===Qe.type,y,"internal-error"),(yield function ci(y,h){return xe(y,"POST","/v2/accounts/mfaEnrollment:start",Ue(y,h))}(y,{idToken:Qe.credential,phoneEnrollmentInfo:{phoneNumber:se.phoneNumber,recaptchaToken:U}})).phoneSessionInfo.sessionInfo;{$e("signin"===Qe.type,y,"internal-error");const yt=(null===(A=se.multiFactorHint)||void 0===A?void 0:A.uid)||se.multiFactorUid;return $e(yt,y,"missing-multi-factor-info"),(yield function P(y,h){return xe(y,"POST","/v2/accounts/mfaSignIn:start",Ue(y,h))}(y,{mfaPendingCredential:Qe.credential,mfaEnrollmentId:yt,phoneSignInInfo:{recaptchaToken:U}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Qe}=yield function Lr(y,h){return Ui.apply(this,arguments)}(y,{phoneNumber:se.phoneNumber,recaptchaToken:U});return Qe}}finally{g._reset()}}),Xa.apply(this,arguments)}function Qa(){return(Qa=(0,p.A)(function*(y,h){const g=(0,ne.Ku)(y);if((0,J._isFirebaseServerApp)(g.auth.app))return Promise.reject(it(g.auth));yield j(g,h)})).apply(this,arguments)}let ns=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=rr(g)}verifyPhoneNumber(g,A){return tu(this.auth,g,(0,ne.Ku)(A))}static credential(g,A){return Qs._fromVerification(g,A)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:A,temporaryProof:U}=g;return A&&U?Qs._fromTokenResponse(A,U):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function ho(y,h){return h?ar(h):($e(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class yl extends Oo{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return pn(h,this._buildIdpRequest())}_linkToIdToken(h,g){return pn(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return pn(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function nu(y){return Zo(y.auth,new yl(y),y.bypassAuthState)}function Ya(y){const{auth:h,user:g}=y;return $e(g,h,"internal-error"),cr(g,new yl(y),y.bypassAuthState)}function So(y){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,p.A)(function*(y){const{auth:h,user:g}=y;return $e(g,h,"internal-error"),j(g,new yl(y),y.bypassAuthState)})).apply(this,arguments)}class Il{constructor(h,g,A,U,se=!1){this.auth=h,this.resolver=A,this.user=U,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,p.A)(function*(A,U){h.pendingPromise={resolve:A,reject:U};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(se){h.reject(se)}});return function(A,U){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,p.A)(function*(){const{urlResponse:A,sessionId:U,postBody:se,tenantId:Qe,error:yt,type:Gt}=h;if(yt)return void g.reject(yt);const yn={auth:g.auth,requestUri:A,sessionId:U,tenantId:Qe||void 0,postBody:se||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Gt)(yn))}catch(xn){g.reject(xn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return nu;case"linkViaPopup":case"linkViaRedirect":return So;case"reauthViaPopup":case"reauthViaRedirect":return Ya;default:Ee(this.auth,"internal-error")}}resolve(h){un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qp=new H(2e3,1e4);function ru(){return(ru=(0,p.A)(function*(y,h,g){if((0,J._isFirebaseServerApp)(y.app))return Promise.reject(Oe(y,"operation-not-supported-in-this-environment"));const A=rr(y);at(y,h,eo);const U=ho(A,g);return new El(A,"signInViaPopup",h,U).executeNotNull()})).apply(this,arguments)}function Fc(){return(Fc=(0,p.A)(function*(y,h,g){const A=(0,ne.Ku)(y);if((0,J._isFirebaseServerApp)(A.auth.app))return Promise.reject(Oe(A.auth,"operation-not-supported-in-this-environment"));at(A.auth,h,eo);const U=ho(A.auth,g);return new El(A.auth,"reauthViaPopup",h,U,A).executeNotNull()})).apply(this,arguments)}function Lc(){return(Lc=(0,p.A)(function*(y,h,g){const A=(0,ne.Ku)(y);at(A.auth,h,eo);const U=ho(A.auth,g);return new El(A.auth,"linkViaPopup",h,U,A).executeNotNull()})).apply(this,arguments)}let El=(()=>{class y extends Il{constructor(g,A,U,se,Qe){super(g,A,se,Qe),this.provider=U,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,p.A)(function*(){const A=yield g.execute();return $e(A,g.auth,"internal-error"),A})()}onExecution(){var g=this;return(0,p.A)(function*(){un(1===g.filter.length,"Popup operations only handle one event");const A=zi();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],A),g.authWindow.associatedEvent=A,g.resolver._originValidation(g.auth).catch(U=>{g.reject(U)}),g.resolver._isIframeWebStorageSupported(g.auth,U=>{U||g.reject(Oe(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var A,U;this.pollId=null!==(U=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==U&&U.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Oe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Qp.get())};g()}}return y.currentPopupAction=null,y})();const Vc="pendingRedirect",ao=new Map;class Al extends Il{constructor(h,g,A=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,A),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,p.A)(function*(){let A=ao.get(g.auth._key());if(!A){try{const se=(yield function Fn(y,h){return ma.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;A=()=>Promise.resolve(se)}catch(U){A=()=>Promise.reject(U)}ao.set(g.auth._key(),A)}return g.bypassAuthState||ao.set(g.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,A=this;return(0,p.A)(function*(){if("signInViaRedirect"===h.type)return g().call(A,h);if("unknown"!==h.type){if(h.eventId){const U=yield A.auth._redirectUserForId(h.eventId);if(U)return A.user=U,g().call(A,h);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,p.A)(function*(){})()}cleanUp(){}}function ma(){return(ma=(0,p.A)(function*(y,h){const g=Or(h),A=Kd(y);if(!(yield A._isAvailable()))return!1;const U="true"===(yield A._get(g));return yield A._remove(g),U})).apply(this,arguments)}function yf(y,h){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,p.A)(function*(y,h){return Kd(y)._set(Or(h),"true")})).apply(this,arguments)}function If(y,h){ao.set(y._key(),h)}function Kd(y){return ar(y._redirectPersistence)}function Or(y){return Vn(Vc,y.config.apiKey,y.name)}function Ai(y,h,g){return function Hu(y,h,g){return Bc.apply(this,arguments)}(y,h,g)}function Bc(){return(Bc=(0,p.A)(function*(y,h,g){if((0,J._isFirebaseServerApp)(y.app))return Promise.reject(it(y));const A=rr(y);at(y,h,eo),yield A._initializationPromise;const U=ho(A,g);return yield yf(U,A),U._openRedirect(A,h,"signInViaRedirect")})).apply(this,arguments)}function Ef(y,h,g){return function Yp(y,h,g){return Wt.apply(this,arguments)}(y,h,g)}function Wt(){return(Wt=(0,p.A)(function*(y,h,g){const A=(0,ne.Ku)(y);if(at(A.auth,h,eo),(0,J._isFirebaseServerApp)(A.auth.app))return Promise.reject(it(A.auth));yield A.auth._initializationPromise;const U=ho(A.auth,g);yield yf(U,A.auth);const se=yield Xd(A);return U._openRedirect(A.auth,h,"reauthViaRedirect",se)})).apply(this,arguments)}function qr(y,h,g){return function Af(y,h,g){return $c.apply(this,arguments)}(y,h,g)}function $c(){return($c=(0,p.A)(function*(y,h,g){const A=(0,ne.Ku)(y);at(A.auth,h,eo),yield A.auth._initializationPromise;const U=ho(A.auth,g);yield en(!1,A,h.providerId),yield yf(U,A.auth);const se=yield Xd(A);return U._openRedirect(A.auth,h,"linkViaRedirect",se)})).apply(this,arguments)}function qd(){return(qd=(0,p.A)(function*(y,h){return yield rr(y)._initializationPromise,Cl(y,h,!1)})).apply(this,arguments)}function Cl(y,h){return zs.apply(this,arguments)}function zs(){return(zs=(0,p.A)(function*(y,h,g=!1){if((0,J._isFirebaseServerApp)(y.app))return Promise.reject(it(y));const A=rr(y),U=ho(A,h),Qe=yield new Al(A,U,g).execute();return Qe&&!g&&(delete Qe.user._redirectEventId,yield A._persistUserIfCurrent(Qe.user),yield A._setRedirectUser(null,h)),Qe})).apply(this,arguments)}function Xd(y){return zu.apply(this,arguments)}function zu(){return(zu=(0,p.A)(function*(y){const h=zi(`${y.uid}:::`);return y._redirectEventId=h,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),h})).apply(this,arguments)}class sv{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(h,A)&&(g=!0,this.sendToConsumer(h,A),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function ms(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uo(y);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var A;if(h.error&&!Uo(h)){const U=(null===(A=h.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";g.onError(Oe(this.auth,U))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const A=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&A}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cf(h))}saveEventToCache(h){this.cachedEventUids.add(Cf(h)),this.lastProcessedEventTime=Date.now()}}function Cf(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(h=>h).join("-")}function Uo({type:y,error:h}){return"unknown"===y&&"auth/no-auth-event"===(null==h?void 0:h.code)}function iu(y){return rs.apply(this,arguments)}function rs(){return(rs=(0,p.A)(function*(y,h={}){return xe(y,"GET","/v1/projects",h)})).apply(this,arguments)}const na=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zp=/^https?/;function va(){return(va=(0,p.A)(function*(y){if(y.config.emulator)return;const{authorizedDomains:h}=yield iu(y);for(const g of h)try{if(Jp(g))return}catch{}Ee(y,"unauthorized-domain")})).apply(this,arguments)}function Jp(y){const h=vt(),{protocol:g,hostname:A}=new URL(h);if(y.startsWith("chrome-extension://")){const Qe=new URL(y);return""===Qe.hostname&&""===A?"chrome-extension:"===g&&y.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&Qe.hostname===A}if(!Zp.test(g))return!1;if(na.test(y))return A===y;const U=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(A)}const Tl=new H(3e4,6e4);function jc(){const y=Ii().___jsl;if(null!=y&&y.H)for(const h of Object.keys(y.H))if(y.H[h].r=y.H[h].r||[],y.H[h].L=y.H[h].L||[],y.H[h].r=[...y.H[h].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let ra=null;const Df=new H(5e3,15e3),Qd="__/auth/iframe",Yd="emulator/auth/iframe",zc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bf(y){const h=y.config;$e(h.authDomain,y,"auth-domain-config-required");const g=h.emulator?G(h,Yd):`https://${y.config.authDomain}/${Qd}`,A={apiKey:h.apiKey,appName:y.name,v:J.SDK_VERSION},U=Gu.get(y.config.apiHost);U&&(A.eid=U);const se=y._getFrameworks();return se.length&&(A.fw=se.join(",")),`${g}?${(0,ne.Am)(A).slice(1)}`}function ou(){return ou=(0,p.A)(function*(y){const h=yield function is(y){return ra=ra||function Hc(y){return new Promise((h,g)=>{var A,U,se;function Qe(){jc(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{jc(),g(Oe(y,"network-request-failed"))},timeout:Tl.get()})}if(null!==(U=null===(A=Ii().gapi)||void 0===A?void 0:A.iframes)&&void 0!==U&&U.Iframe)h(gapi.iframes.getContext());else{if(null===(se=Ii().gapi)||void 0===se||!se.load){const yt=Di("iframefcb");return Ii()[yt]=()=>{gapi.load?Qe():g(Oe(y,"network-request-failed"))},ii(`${function Kr(){return ai.gapiScript}()}?onload=${yt}`).catch(Gt=>g(Gt))}Qe()}}).catch(h=>{throw ra=null,h})}(y),ra}(y),g=Ii().gapi;return $e(g,y,"internal-error"),h.open({where:document.body,url:bf(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zc,dontclear:!0},A=>new Promise(function(){var U=(0,p.A)(function*(se,Qe){yield A.restyle({setHideOnLeave:!1});const yt=Oe(y,"network-request-failed"),Gt=Ii().setTimeout(()=>{Qe(yt)},Df.get());function yn(){Ii().clearTimeout(Gt),se(A)}A.ping(yn).then(yn,()=>{Qe(yt)})});return function(se,Qe){return U.apply(this,arguments)}}()))}),ou.apply(this,arguments)}const Wo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vs{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const wf="__/auth/handler",Ms="emulator/auth/handler",_a=encodeURIComponent("fac");function su(y,h,g,A,U,se){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,p.A)(function*(y,h,g,A,U,se){$e(y.config.authDomain,y,"auth-domain-config-required"),$e(y.config.apiKey,y,"invalid-api-key");const Qe={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:A,v:J.SDK_VERSION,eventId:U};if(h instanceof eo){h.setDefaultLanguage(y.languageCode),Qe.providerId=h.providerId||"",(0,ne.Im)(h.getCustomParameters())||(Qe.customParameters=JSON.stringify(h.getCustomParameters()));for(const[xn,An]of Object.entries(se||{}))Qe[xn]=An}if(h instanceof fo){const xn=h.getScopes().filter(An=>""!==An);xn.length>0&&(Qe.scopes=xn.join(","))}y.tenantId&&(Qe.tid=y.tenantId);const yt=Qe;for(const xn of Object.keys(yt))void 0===yt[xn]&&delete yt[xn];const Gt=yield y._getAppCheckToken(),yn=Gt?`#${_a}=${encodeURIComponent(Gt)}`:"";return`${function Zd({config:y}){return y.emulator?G(y,Ms):`https://${y.authDomain}/${wf}`}(y)}?${(0,ne.Am)(yt).slice(1)}${yn}`})).apply(this,arguments)}const wr="webStorageSupport",Gc=class Sf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Un,this._completeRedirectFn=Cl,this._overrideRedirectResult=If}_openPopup(h,g,A,U){var se=this;return(0,p.A)(function*(){var Qe;un(null===(Qe=se.eventManagers[h._key()])||void 0===Qe?void 0:Qe.manager,"_initialize() not called before _openPopup()");const yt=yield su(h,g,A,vt(),U);return function eg(y,h,g,A=500,U=600){const se=Math.max((window.screen.availHeight-U)/2,0).toString(),Qe=Math.max((window.screen.availWidth-A)/2,0).toString();let yt="";const Gt=Object.assign(Object.assign({},Wo),{width:A.toString(),height:U.toString(),top:se,left:Qe}),yn=(0,ne.ZQ)().toLowerCase();g&&(yt=Ji(yn)?"_blank":g),Mi(yn)&&(h=h||"http://localhost",Gt.scrollbars="yes");const xn=Object.entries(Gt).reduce((Ti,[xs,tc])=>`${Ti}${xs}=${tc},`,"");if(function Y(y=(0,ne.ZQ)()){var h;return li(y)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(yn)&&"_self"!==yt)return function Wu(y,h){const g=document.createElement("a");g.href=y,g.target=h;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(A)}(h||"",yt),new vs(null);const An=window.open(h||"",yt,xn);$e(An,y,"popup-blocked");try{An.focus()}catch{}return new vs(An)}(h,yt,zi())})()}_openRedirect(h,g,A,U){var se=this;return(0,p.A)(function*(){return yield se._originValidation(h),function so(y){Ii().location.href=y}(yield su(h,g,A,vt(),U)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:U,promise:se}=this.eventManagers[g];return U?Promise.resolve(U):(un(se,"If manager is not set, promise should be"),se)}const A=this.initAndGetManager(h);return this.eventManagers[g]={promise:A},A.catch(()=>{delete this.eventManagers[g]}),A}initAndGetManager(h){var g=this;return(0,p.A)(function*(){const A=yield function Dl(y){return ou.apply(this,arguments)}(h),U=new sv(h);return A.register("authEvent",se=>($e(null==se?void 0:se.authEvent,h,"invalid-auth-event"),{status:U.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:U},g.iframes[h._key()]=A,U})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(wr,{type:wr},U=>{var se;const Qe=null===(se=null==U?void 0:U[0])||void 0===se?void 0:se[wr];void 0!==Qe&&g(!!Qe),Ee(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Tf(y){return va.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return Pe()||Cr()||li()}};class Jd{constructor(h){this.factorId=h}_process(h,g,A){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,A);case"signin":return this._finalizeSignIn(h,g.credential);default:return Lt("unexpected MultiFactorSessionType")}}}class eh extends Jd{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new eh(h)}_finalizeEnroll(h,g,A){return function hi(y,h){return xe(y,"POST","/v2/accounts/mfaEnrollment:finalize",Ue(y,h))}(h,{idToken:g,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function w(y,h){return xe(y,"POST","/v2/accounts/mfaSignIn:finalize",Ue(y,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let au=(()=>{class y{constructor(){}static assertion(g){return eh._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var uu="@firebase/auth";class lv{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,p.A)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(A=>{h((null==A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);g&&(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pi(){return window}(0,ne.XA)("authIdTokenMaxAge"),function Xn(y){ai=y}({loadJS:y=>new Promise((h,g)=>{const A=document.createElement("script");A.setAttribute("src",y),A.onload=h,A.onerror=U=>{const se=Oe("internal-error");se.customData=U,g(se)},A.type="text/javascript",A.charset="UTF-8",function Ny(){var y,h;return null!==(h=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==h?h:document}().appendChild(A)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function nh(y){(0,J._registerComponent)(new re.uA("auth",(h,{options:g})=>{const A=h.getProvider("app").getImmediate(),U=h.getProvider("heartbeat"),se=h.getProvider("app-check-internal"),{apiKey:Qe,authDomain:yt}=A.options;$e(Qe&&!Qe.includes(":"),"invalid-api-key",{appName:A.name});const Gt={apiKey:Qe,authDomain:yt,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Z(y)},yn=new mr(A,U,se,Gt);return function la(y,h){const g=(null==h?void 0:h.persistence)||[],A=(Array.isArray(g)?g:[g]).map(ar);null!=h&&h.errorMap&&y._updateErrorMap(h.errorMap),y._initializeWithPersistence(A,null==h?void 0:h.popupRedirectResolver)}(yn,g),yn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,A)=>{h.getProvider("auth-internal").initialize()})),(0,J._registerComponent)(new re.uA("auth-internal",h=>{const g=rr(h.getProvider("auth").getImmediate());return new lv(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,J.registerVersion)(uu,"1.7.4",function qu(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(y)),(0,J.registerVersion)(uu,"1.7.4","esm2017")}("Browser");function Gs(){return Gs=(0,p.A)(function*(y,h,g){var A;const{BuildInfo:U}=pi();un(h.sessionId,"AuthEvent did not contain a session ID");const se=yield function ng(y){return qc.apply(this,arguments)}(h.sessionId),Qe={};return li()?Qe.ibi=U.packageName:nr()?Qe.apn=U.packageName:Ee(y,"operation-not-supported-in-this-environment"),U.displayName&&(Qe.appDisplayName=U.displayName),Qe.sessionId=se,su(y,g,h.type,void 0,null!==(A=h.eventId)&&void 0!==A?A:void 0,Qe)}),Gs.apply(this,arguments)}function La(){return(La=(0,p.A)(function*(y){const{BuildInfo:h}=pi(),g={};li()?g.iosBundleId=h.packageName:nr()?g.androidPackageName=h.packageName:Ee(y,"operation-not-supported-in-this-environment"),yield iu(y,g)})).apply(this,arguments)}function ya(){return(ya=(0,p.A)(function*(y,h,g){const{cordova:A}=pi();let U=()=>{};try{yield new Promise((se,Qe)=>{let yt=null;function Gt(){var An;se();const Ti=null===(An=A.plugins.browsertab)||void 0===An?void 0:An.close;"function"==typeof Ti&&Ti(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function yn(){yt||(yt=window.setTimeout(()=>{Qe(Oe(y,"redirect-cancelled-by-user"))},2e3))}function xn(){"visible"===(null==document?void 0:document.visibilityState)&&yn()}h.addPassiveListener(Gt),document.addEventListener("resume",yn,!1),nr()&&document.addEventListener("visibilitychange",xn,!1),U=()=>{h.removePassiveListener(Gt),document.removeEventListener("resume",yn,!1),document.removeEventListener("visibilitychange",xn,!1),yt&&window.clearTimeout(yt)}})}finally{U()}})).apply(this,arguments)}function qc(){return(qc=(0,p.A)(function*(y){const h=function Nf(y){if(un(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const h=new ArrayBuffer(y.length),g=new Uint8Array(h);for(let A=0;A<y.length;A++)g[A]=y.charCodeAt(A);return g}(y),g=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(g)).map(U=>U.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ih extends sv{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(h)),super.onEvent(h)}initialized(){var h=this;return(0,p.A)(function*(){yield h.initPromise})()}}function Va(y){return oh.apply(this,arguments)}function oh(){return(oh=(0,p.A)(function*(y){const h=yield Ur()._get(Ja(y));return h&&(yield Ur()._remove(Ja(y))),h})).apply(this,arguments)}function go(){const y=[];for(let g=0;g<20;g++){const A=Math.floor(62*Math.random());y.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(A))}return y.join("")}function Ur(){return ar(gs)}function Ja(y){return Vn("authEvent",y.config.apiKey,y.name)}function Qu(y){if(null==y||!y.includes("?"))return{};const[h,...g]=y.split("?");return(0,ne.I9)(g.join("?"))}const Ff=class ig{constructor(){this._redirectPersistence=Un,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Cl,this._overrideRedirectResult=If}_initialize(h){var g=this;return(0,p.A)(function*(){const A=h._key();let U=g.eventManagers.get(A);return U||(U=new ih(h),g.eventManagers.set(A,U),g.attachCallbackListeners(h,U)),U})()}_openPopup(h){Ee(h,"operation-not-supported-in-this-environment")}_openRedirect(h,g,A,U){var se=this;return(0,p.A)(function*(){!function Ia(y){var h,g,A,U,se,Qe,yt,Gt,yn,xn;const An=pi();$e("function"==typeof(null===(h=null==An?void 0:An.universalLinks)||void 0===h?void 0:h.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),$e(typeof(null===(g=null==An?void 0:An.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),$e("function"==typeof(null===(se=null===(U=null===(A=null==An?void 0:An.cordova)||void 0===A?void 0:A.plugins)||void 0===U?void 0:U.browsertab)||void 0===se?void 0:se.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$e("function"==typeof(null===(Gt=null===(yt=null===(Qe=null==An?void 0:An.cordova)||void 0===Qe?void 0:Qe.plugins)||void 0===yt?void 0:yt.browsertab)||void 0===Gt?void 0:Gt.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$e("function"==typeof(null===(xn=null===(yn=null==An?void 0:An.cordova)||void 0===yn?void 0:yn.InAppBrowser)||void 0===xn?void 0:xn.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const Qe=yield se._initialize(h);yield Qe.initialized(),Qe.resetRedirect(),function Uc(){ao.clear()}(),yield se._originValidation(h);const yt=function Of(y,h,g=null){return{type:h,eventId:g,urlResponse:null,sessionId:go(),postBody:null,tenantId:y.tenantId,error:Oe(y,"no-auth-event")}}(h,A,U);yield function Xu(y,h){return Ur()._set(Ja(y),h)}(h,yt);const Gt=yield function rh(y,h,g){return Gs.apply(this,arguments)}(h,yt,g),yn=yield function Mf(y){const{cordova:h}=pi();return new Promise(g=>{h.plugins.browsertab.isAvailable(A=>{let U=null;A?h.plugins.browsertab.openUrl(y):U=h.InAppBrowser.open(y,function Ft(y=(0,ne.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(U)})})}(Gt);return function xf(y,h,g){return ya.apply(this,arguments)}(h,Qe,yn)})()}_isIframeWebStorageSupported(h,g){throw new Error("Method not implemented.")}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function uv(y){return La.apply(this,arguments)}(h)),this.originValidationPromises[g]}attachCallbackListeners(h,g){const{universalLinks:A,handleOpenURL:U,BuildInfo:se}=pi(),Qe=setTimeout((0,p.A)(function*(){yield Va(h),g.onEvent(fu())}),500),yt=function(){var xn=(0,p.A)(function*(An){clearTimeout(Qe);const Ti=yield Va(h);let xs=null;Ti&&null!=An&&An.url&&(xs=function rg(y,h){var g,A;const U=function sh(y){const h=Qu(y),g=h.link?decodeURIComponent(h.link):void 0,A=Qu(g).link,U=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Qu(U).link||U||A||g||y}(h);if(U.includes("/__/auth/callback")){const se=Qu(U),Qe=se.firebaseError?function Ao(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(se.firebaseError)):null,yt=null===(A=null===(g=null==Qe?void 0:Qe.code)||void 0===g?void 0:g.split("auth/"))||void 0===A?void 0:A[1],Gt=yt?Oe(yt):null;return Gt?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Gt,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:U,postBody:null}}return null}(Ti,An.url)),g.onEvent(xs||fu())});return function(Ti){return xn.apply(this,arguments)}}();typeof A<"u"&&"function"==typeof A.subscribe&&A.subscribe(null,yt);const Gt=U,yn=`${se.packageName.toLowerCase()}://`;pi().handleOpenURL=function(){var xn=(0,p.A)(function*(An){if(An.toLowerCase().startsWith(yn)&&yt({url:An}),"function"==typeof Gt)try{Gt(An)}catch(Ti){console.error(Ti)}});return function(An){return xn.apply(this,arguments)}}()}};function fu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Oe("no-auth-event")}}function mu(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Lf(y=(0,ne.ZQ)()){return!("file:"!==mu()&&"ionic:"!==mu()&&"capacitor:"!==mu()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function lg(){try{const y=self.localStorage,h=zi();if(y)return y.setItem(h,"1"),y.removeItem(h),!function ag(y=(0,ne.ZQ)()){return function Vf(){return(0,ne.lT)()&&11===(null==document?void 0:document.documentMode)}()||function sg(y=(0,ne.ZQ)()){return/Edge\/\d+/.test(y)}(y)}()||(0,ne.zW)()}catch{return Uf()&&(0,ne.zW)()}return!1}function Uf(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Bf(){return(function og(){return"http:"===mu()||"https:"===mu()}()||(0,ne.sr)()||Lf())&&!function cv(){return(0,ne.lV)()||(0,ne.Ll)()}()&&lg()&&!Uf()}function Qc(){return Lf()&&typeof document<"u"}function os(){return(os=(0,p.A)(function*(){return!!Qc()&&new Promise(y=>{const h=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),y(!0)})})})).apply(this,arguments)}const si={LOCAL:"local",NONE:"none",SESSION:"session"},Zu=$e,Ju="persistence";function Sl(y){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,p.A)(function*(y){yield y._initializationPromise;const h=$f(),g=Vn(Ju,y.config.apiKey,y.name);h&&h.setItem(g,y._getPersistence())})).apply(this,arguments)}function $f(){var y;try{return(null===(y=function Oy(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const ah=$e;class Rl{constructor(){this.browserResolver=ar(Gc),this.cordovaResolver=ar(Ff),this.underlyingResolver=null,this._redirectPersistence=Un,this._completeRedirectFn=Cl,this._overrideRedirectResult=If}_initialize(h){var g=this;return(0,p.A)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,g,A,U){var se=this;return(0,p.A)(function*(){return yield se.selectUnderlyingResolver(),se.assertedUnderlyingResolver._openPopup(h,g,A,U)})()}_openRedirect(h,g,A,U){var se=this;return(0,p.A)(function*(){return yield se.selectUnderlyingResolver(),se.assertedUnderlyingResolver._openRedirect(h,g,A,U)})()}_isIframeWebStorageSupported(h,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,g)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Qc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ah(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,p.A)(function*(){if(h.underlyingResolver)return;const g=yield function vu(){return os.apply(this,arguments)}();h.underlyingResolver=g?h.cordovaResolver:h.browserResolver})()}}function cg(y){return y.unwrap()}function ky(y){return ec(y)}function ec(y){const{_tokenResponse:h}=y instanceof ne.g?y.customData:y;if(!h)return null;if(!(y instanceof ne.g)&&"temporaryProof"in h&&"phoneNumber"in h)return ns.credentialFromResult(y);const g=h.providerId;if(!g||g===He.PASSWORD)return null;let A;switch(g){case He.GOOGLE:A=Sa;break;case He.FACEBOOK:A=cs;break;case He.GITHUB:A=Ra;break;case He.TWITTER:A=Zs;break;default:const{oauthIdToken:U,oauthAccessToken:se,oauthTokenSecret:Qe,pendingToken:yt,nonce:Gt}=h;return se||Qe||U||yt?yt?g.startsWith("saml.")?Fo._create(g,yt):kn._fromParams({providerId:g,signInMethod:g,pendingToken:yt,idToken:U,accessToken:se}):new Er(g).credential({idToken:U,accessToken:se,rawNonce:Gt}):null}return y instanceof ne.g?A.credentialFromError(y):A.credentialFromResult(y)}function mo(y,h){return h.catch(g=>{throw g instanceof ne.g&&function Fy(y,h){var g;const A=null===(g=h.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null==h?void 0:h.code))h.resolver=new lh(y,function Pt(y,h){var g;const A=(0,ne.Ku)(y),U=h;return $e(h.customData.operationType,A,"argument-error"),$e(null===(g=U.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,A,"argument-error"),Hi._fromError(A,U)}(y,h));else if(A){const U=ec(h),se=h;U&&(se.credential=U,se.tenantId=A.tenantId||void 0,se.email=A.email||void 0,se.phoneNumber=A.phoneNumber||void 0)}}(y,g),g}).then(g=>{const U=g.user;return{operationType:g.operationType,credential:ky(g),additionalUserInfo:tt(g),user:ia.getOrCreate(U)}})}function _u(y,h){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,p.A)(function*(y,h){const g=yield h;return{verificationId:g.verificationId,confirm:A=>mo(y,g.confirm(A))}})).apply(this,arguments)}class lh{constructor(h,g){this.resolver=g,this.auth=function dv(y){return y.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return mo(cg(this.auth),this.resolver.resolveSignIn(h))}}class ia{constructor(h){this._delegate=h,this.multiFactor=function di(y){const h=(0,ne.Ku)(y);return Ka.has(h)||Ka.set(h,Ss._fromUser(h)),Ka.get(h)}(h)}static getOrCreate(h){return ia.USER_MAP.has(h)||ia.USER_MAP.set(h,new ia(h)),ia.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var g=this;return(0,p.A)(function*(){return mo(g.auth,Wl(g._delegate,h))})()}linkWithPhoneNumber(h,g){var A=this;return(0,p.A)(function*(){return _u(A.auth,function Ps(y,h,g){return Gd.apply(this,arguments)}(A._delegate,h,g))})()}linkWithPopup(h){var g=this;return(0,p.A)(function*(){return mo(g.auth,function _f(y,h,g){return Lc.apply(this,arguments)}(g._delegate,h,Rl))})()}linkWithRedirect(h){var g=this;return(0,p.A)(function*(){return yield Sl(rr(g.auth)),qr(g._delegate,h,Rl)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var g=this;return(0,p.A)(function*(){return mo(g.auth,Jo(g._delegate,h))})()}reauthenticateWithPhoneNumber(h,g){return _u(this.auth,function qa(y,h,g){return pa.apply(this,arguments)}(this._delegate,h,g))}reauthenticateWithPopup(h){return mo(this.auth,function kc(y,h,g){return Fc.apply(this,arguments)}(this._delegate,h,Rl))}reauthenticateWithRedirect(h){var g=this;return(0,p.A)(function*(){return yield Sl(rr(g.auth)),Ef(g._delegate,h,Rl)})()}sendEmailVerification(h){return function Ga(y,h){return gl.apply(this,arguments)}(this._delegate,h)}unlink(h){var g=this;return(0,p.A)(function*(){return yield function O(y,h){return ge.apply(this,arguments)}(g._delegate,h),g})()}updateEmail(h){return function Lu(y,h){const g=(0,ne.Ku)(y);return(0,J._isFirebaseServerApp)(g.auth.app)?Promise.reject(it(g.auth)):sr(g,h,null)}(this._delegate,h)}updatePassword(h){return function Xl(y,h){return sr((0,ne.Ku)(y),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function Xr(y,h){return Qa.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function Wa(y,h){return xa.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,g){return function $d(y,h,g){return ml.apply(this,arguments)}(this._delegate,h,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ia.USER_MAP=new WeakMap;const _s=$e;let dg=(()=>{class y{constructor(g,A){if(this.app=g,A.isInitialized())return this._delegate=A.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:U}=g.options;_s(U,"invalid-api-key",{appName:g.name}),_s(U,"invalid-api-key",{appName:g.name});const se=typeof window<"u"?Rl:void 0;this._delegate=A.initialize({options:{persistence:Jc(U,g.name),popupRedirectResolver:se}}),this._delegate._updateErrorMap(We),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ia.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,A){!function Xo(y,h,g){const A=rr(y);$e(A._canInitEmulator,A,"emulator-config-failed"),$e(/^https?:\/\//.test(h),A,"invalid-emulator-scheme");const U=!(null==g||!g.disableWarnings),se=ls(h),{host:Qe,port:yt}=function As(y){const h=ls(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(h.length));if(!g)return{host:"",port:null};const A=g[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(A);if(U){const se=U[1];return{host:se,port:ur(A.substr(se.length+1))}}{const[se,Qe]=A.split(":");return{host:se,port:ur(Qe)}}}(h);A.config.emulator={url:`${se}//${Qe}${null===yt?"":`:${yt}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Qe,port:yt,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:U})}),U||function Nr(){function y(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,A)}applyActionCode(g){return function Kl(y,h){return ki.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return fs(this._delegate,g)}confirmPasswordReset(g,A){return function xc(y,h,g){return Ma.apply(this,arguments)}(this._delegate,g,A)}createUserWithEmailAndPassword(g,A){var U=this;return(0,p.A)(function*(){return mo(U._delegate,function sn(y,h,g){return Ri.apply(this,arguments)}(U._delegate,g,A))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function ji(y,h){return wo.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function jn(y,h){const g=Ys.parseLink(h);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,p.A)(function*(){_s(Bf(),g._delegate,"operation-not-supported-in-this-environment");const A=yield function Ci(y,h){return qd.apply(this,arguments)}(g._delegate,Rl);return A?mo(g._delegate,Promise.resolve(A)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Xc(y,h){rr(y)._logFramework(h)}(this._delegate,g)}onAuthStateChanged(g,A,U){const{next:se,error:Qe,complete:yt}=Zc(g,A,U);return this._delegate.onAuthStateChanged(se,Qe,yt)}onIdTokenChanged(g,A,U){const{next:se,error:Qe,complete:yt}=Zc(g,A,U);return this._delegate.onIdTokenChanged(se,Qe,yt)}sendSignInLinkToEmail(g,A){return function ql(y,h,g){return Dn.apply(this,arguments)}(this._delegate,g,A)}sendPasswordResetEmail(g,A){return function ca(y,h,g){return hl.apply(this,arguments)}(this._delegate,g,A||void 0)}setPersistence(g){var A=this;return(0,p.A)(function*(){let U;switch(function Ua(y,h){Zu(Object.values(si).includes(h),y,"invalid-persistence-type"),(0,ne.lV)()?Zu(h!==si.SESSION,y,"unsupported-persistence-type"):(0,ne.Ll)()?Zu(h===si.NONE,y,"unsupported-persistence-type"):Uf()?Zu(h===si.NONE||h===si.LOCAL&&(0,ne.zW)(),y,"unsupported-persistence-type"):Zu(h===si.NONE||lg(),y,"unsupported-persistence-type")}(A._delegate,g),g){case si.SESSION:U=Un;break;case si.LOCAL:U=(yield ar(b)._isAvailable())?b:gs;break;case si.NONE:U=ri;break;default:return Ee("argument-error",{appName:A._delegate.name})}return A._delegate.setPersistence(U)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return mo(this._delegate,function ua(y){return Pa.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return mo(this._delegate,Vs(this._delegate,g))}signInWithCustomToken(g){return mo(this._delegate,function Us(y,h){return Dr.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,A){return mo(this._delegate,function Lo(y,h,g){return(0,J._isFirebaseServerApp)(y.app)?Promise.reject(it(y)):Vs((0,ne.Ku)(y),wa.credential(h,g)).catch(function(){var A=(0,p.A)(function*(U){throw"auth/password-does-not-meet-requirements"===U.code&&dl(y),U});return function(U){return A.apply(this,arguments)}}())}(this._delegate,g,A))}signInWithEmailLink(g,A){return mo(this._delegate,function ku(y,h,g){return _n.apply(this,arguments)}(this._delegate,g,A))}signInWithPhoneNumber(g,A){return _u(this._delegate,function ta(y,h,g){return ju.apply(this,arguments)}(this._delegate,g,A))}signInWithPopup(g){var A=this;return(0,p.A)(function*(){return _s(Bf(),A._delegate,"operation-not-supported-in-this-environment"),mo(A._delegate,function ga(y,h,g){return ru.apply(this,arguments)}(A._delegate,g,Rl))})()}signInWithRedirect(g){var A=this;return(0,p.A)(function*(){return _s(Bf(),A._delegate,"operation-not-supported-in-this-environment"),yield Sl(A._delegate),Ai(A._delegate,g,Rl)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function fl(y,h){return pl.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=si,y})();function Zc(y,h,g){let A=y;"function"!=typeof y&&({next:A,error:h,complete:g}=y);const U=A;return{next:Qe=>U(Qe&&ia.getOrCreate(Qe)),error:h,complete:g}}function Jc(y,h){const g=function ug(y,h){const g=$f();if(!g)return[];const A=Vn(Ju,y,h);switch(g.getItem(A)){case si.NONE:return[ri];case si.LOCAL:return[b,Un];case si.SESSION:return[Un];default:return[]}}(y,h);if(typeof self<"u"&&!g.includes(b)&&g.push(b),typeof window<"u")for(const A of[gs,Un])g.includes(A)||g.push(A);return g.includes(ri)||g.push(ri),g}class jf{constructor(){this.providerId="phone",this._delegate=new ns(cg(c.A.auth()))}static credential(h,g){return ns.credential(h,g)}verifyPhoneNumber(h,g){return this._delegate.verifyPhoneNumber(h,g)}unwrap(){return this._delegate}}jf.PHONE_SIGN_IN_METHOD=ns.PHONE_SIGN_IN_METHOD,jf.PROVIDER_ID=ns.PROVIDER_ID;const hg=$e;class el{constructor(h,g,A=c.A.app()){var U;hg(null===(U=A.options)||void 0===U?void 0:U.apiKey,"invalid-api-key",{appName:A.name}),this._delegate=new ts(A.auth(),h,g),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ed(y){y.INTERNAL.registerComponent(new re.uA("auth-compat",h=>{const g=h.getProvider("app-compat").getImmediate(),A=h.getProvider("auth");return new dg(g,A)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:wa,FacebookAuthProvider:cs,GithubAuthProvider:Ra,GoogleAuthProvider:Sa,OAuthProvider:Er,SAMLAuthProvider:Yo,PhoneAuthProvider:jf,PhoneMultiFactorGenerator:au,RecaptchaVerifier:el,TwitterAuthProvider:Zs,Auth:dg,AuthCredential:Oo,Error:ne.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.5.9")}(c.A)},467:(fn,dt,L)=>{"use strict";function p(J,ne,he,Se,re,Le,He){try{var Te=J[Le](He),de=Te.value}catch(Ne){return void he(Ne)}Te.done?ne(de):Promise.resolve(de).then(Se,re)}function c(J){return function(){var ne=this,he=arguments;return new Promise(function(Se,re){var Le=J.apply(ne,he);function He(de){p(Le,Se,re,He,Te,"next",de)}function Te(de){p(Le,Se,re,He,Te,"throw",de)}He(void 0)})}}L.d(dt,{A:()=>c})},9842:(fn,dt,L)=>{"use strict";function p(he){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Se){return typeof Se}:function(Se){return Se&&"function"==typeof Symbol&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se})(he)}function ne(he,Se,re){return(Se=function J(he){var Se=function c(he,Se){if("object"!=p(he)||!he)return he;var re=he[Symbol.toPrimitive];if(void 0!==re){var Le=re.call(he,Se||"default");if("object"!=p(Le))return Le;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Se?String:Number)(he)}(he,"string");return"symbol"==p(Se)?Se:String(Se)}(Se))in he?Object.defineProperty(he,Se,{value:re,enumerable:!0,configurable:!0,writable:!0}):he[Se]=re,he}L.d(dt,{A:()=>ne})},1635:(fn,dt,L)=>{"use strict";L.d(dt,{AQ:()=>Ee,C6:()=>c,Cg:()=>he,N3:()=>It,Tt:()=>ne,sH:()=>Ne,xN:()=>le});var p=function(H,G){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,Ie){X.__proto__=Ie}||function(X,Ie){for(var je in Ie)Object.prototype.hasOwnProperty.call(Ie,je)&&(X[je]=Ie[je])})(H,G)};function c(H,G){if("function"!=typeof G&&null!==G)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");function X(){this.constructor=H}p(H,G),H.prototype=null===G?Object.create(G):(X.prototype=G.prototype,new X)}function ne(H,G){var X={};for(var Ie in H)Object.prototype.hasOwnProperty.call(H,Ie)&&G.indexOf(Ie)<0&&(X[Ie]=H[Ie]);if(null!=H&&"function"==typeof Object.getOwnPropertySymbols){var je=0;for(Ie=Object.getOwnPropertySymbols(H);je<Ie.length;je++)G.indexOf(Ie[je])<0&&Object.prototype.propertyIsEnumerable.call(H,Ie[je])&&(X[Ie[je]]=H[Ie[je]])}return X}function he(H,G,X,Ie){var xe,je=arguments.length,Ue=je<3?G:null===Ie?Ie=Object.getOwnPropertyDescriptor(G,X):Ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ue=Reflect.decorate(H,G,X,Ie);else for(var jt=H.length-1;jt>=0;jt--)(xe=H[jt])&&(Ue=(je<3?xe(Ue):je>3?xe(G,X,Ue):xe(G,X))||Ue);return je>3&&Ue&&Object.defineProperty(G,X,Ue),Ue}function Ne(H,G,X,Ie){return new(X||(X=Promise))(function(Ue,xe){function jt(Yt){try{cn(Ie.next(Yt))}catch(Sn){xe(Sn)}}function Mn(Yt){try{cn(Ie.throw(Yt))}catch(Sn){xe(Sn)}}function cn(Yt){Yt.done?Ue(Yt.value):function je(Ue){return Ue instanceof X?Ue:new X(function(xe){xe(Ue)})}(Yt.value).then(jt,Mn)}cn((Ie=Ie.apply(H,G||[])).next())})}function It(H){return this instanceof It?(this.v=H,this):new It(H)}function Ee(H,G,X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,Ie=X.apply(H,G||[]),Ue=[];return je={},xe("next"),xe("throw"),xe("return"),je[Symbol.asyncIterator]=function(){return this},je;function xe(Wn){Ie[Wn]&&(je[Wn]=function(lr){return new Promise(function(Jn,Kn){Ue.push([Wn,lr,Jn,Kn])>1||jt(Wn,lr)})})}function jt(Wn,lr){try{!function Mn(Wn){Wn.value instanceof It?Promise.resolve(Wn.value.v).then(cn,Yt):Sn(Ue[0][2],Wn)}(Ie[Wn](lr))}catch(Jn){Sn(Ue[0][3],Jn)}}function cn(Wn){jt("next",Wn)}function Yt(Wn){jt("throw",Wn)}function Sn(Wn,lr){Wn(lr),Ue.shift(),Ue.length&&jt(Ue[0][0],Ue[0][1])}}function le(H){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var X,G=H[Symbol.asyncIterator];return G?G.call(H):(H=function ut(H){var G="function"==typeof Symbol&&Symbol.iterator,X=G&&H[G],Ie=0;if(X)return X.call(H);if(H&&"number"==typeof H.length)return{next:function(){return H&&Ie>=H.length&&(H=void 0),{value:H&&H[Ie++],done:!H}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}(H),X={},Ie("next"),Ie("throw"),Ie("return"),X[Symbol.asyncIterator]=function(){return this},X);function Ie(Ue){X[Ue]=H[Ue]&&function(xe){return new Promise(function(jt,Mn){!function je(Ue,xe,jt,Mn){Promise.resolve(Mn).then(function(cn){Ue({value:cn,done:jt})},xe)}(jt,Mn,(xe=H[Ue](xe)).done,xe.value)})}}}"function"==typeof SuppressedError&&SuppressedError}},fn=>{fn(fn.s=1877)}]);